!function(){"use strict";angular.module("orderCloud",["ngSanitize","ngAnimate","ngMessages","ngTouch","ui.tree","ui.router","ui.bootstrap","orderCloud.sdk","LocalForageModule","toastr","angular-busy","jcs-autoValidate","treeControl","hl.sticky","angularPayments"])}(),function(){"use strict";!function(){angular.module("orderCloud").run(["$templateCache",function($templateCache){$templateCache.put("account/templates/account.tpl.html",'<div class="row">\r\n	<aside class="col-md-3">\r\n		<ul class="nav nav-pills nav-stacked"  hl-sticky anchor="top" offset-top="70" media-query="min-width: 992px">\r\n			<li ng-class="{active:application.$state.is(\'account\')}">\r\n				<a href="" ui-sref="account">My Account</a>\r\n			</li>\r\n			<li ui-sref-active="active">\r\n				<a href="" ui-sref="myAddresses">Personal Addresses</a>\r\n			</li>\r\n			<li ui-sref-active="active">\r\n				<a href="" ui-sref="myPayments">Payment Methods</a>\r\n			</li>\r\n			<li ui-sref-active="active">\r\n				<a href="" ui-sref="favoriteProducts">Favorite Products</a>\r\n			</li>\r\n			<li ui-sref-active="active">\r\n				<a href="" ui-sref="myOrders">Order History</a>\r\n			</li>\r\n		</ul>\r\n	</aside>\r\n	<article class="col-md-9" cg-busy="application.stateLoading(\'account\')" ui-view>\r\n		<h3><i class="fa fa-cog"></i> My Account</h3>\r\n		<hr>\r\n		<div class="panel panel-default">\r\n			<div class="panel-body">\r\n				<div class="row">\r\n					<div class="col-sm-5">\r\n						<h5><b>Name:</b> <span class="pull-right">{{accountInfo.profile.FirstName + \' \' + accountInfo.profile.LastName}}</span></h5>\r\n						<h5><b>Email Address:</b> <span class="pull-right">{{accountInfo.profile.Email}}</span></h5>\r\n						<h5><b>Username:</b> <span class="pull-right">{{accountInfo.profile.Username}}</span></h5>\r\n						<h5><b>Phone Number:</b> <span class="pull-right">{{accountInfo.profile.Phone}}</span></h5>\r\n						<hr class="visible-xs visible-sm">\r\n					</div>\r\n					<div class="col-sm-7 text-right">\r\n						<button type="button" class="btn btn-default" ng-click="accountInfo.editInfo()"><i class="fa fa-edit"></i> Edit Profile</button>\r\n						<button type="button" class="btn btn-default" ng-click="accountInfo.changePassword(accountInfo.currentUser)"><i class="fa fa-lock"></i> Change Password</button>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</article>\r\n</div>'),$templateCache.put("account/templates/accountSettings.modal.tpl.html",'<form name="EditAccountInfoForm" ng-submit="accountEditModal.update()">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" aria-label="Close" ng-click="accountEditModal.cancel()"><span aria-hidden="true">&times;</span></button>\r\n        <h3 class="modal-title"><i class="fa fa-edit"></i> Edit Profile Info</h3>\r\n    </div>\r\n    <div class="modal-body">\r\n            <div class="form-group">\r\n                <div class="row">\r\n                    <div class="form-group col-sm-6">\r\n                        <label>First Name</label>\r\n                        <input type="text" ng-model="accountEditModal.profile.FirstName" class="form-control" required/>\r\n                    </div>\r\n                    <div class="form-group col-sm-6">\r\n                        <label>Last Name</label>\r\n                        <input type="text" ng-model="accountEditModal.profile.LastName" class="form-control" required/>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label>User ID</label>\r\n                    <input type="text" ng-model="accountEditModal.profile.ID" class="form-control" required/>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label>Username</label>\r\n                    <input type="text" ng-model="accountEditModal.profile.Username" class="form-control" required/>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label>Email</label>\r\n                    <input type="email" ng-model="accountEditModal.profile.Email" class="form-control" required/>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label>Phone</label>\r\n                    <input type="tel" ng-model="accountEditModal.profile.Phone" class="form-control"/>\r\n                </div>\r\n            </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button class="btn btn-primary btn-block" type="submit">Save Changes</button>\r\n    </div>\r\n</form>\r\n'),$templateCache.put("account/templates/changePassword.modal.tpl.html",'<form name="ChangePasswordForm" ng-submit="changePasswordModal.changePassword(changePasswordModal.currentUser)" novalidate autocomplete="off">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" aria-label="Close" ng-click="changePasswordModal.cancel()"><span aria-hidden="true">&times;</span></button>\r\n        <h3 class="modal-title"><i class="fa fa-lock"></i> Change Password</h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div class="form-group">\r\n            <div class="form-group">\r\n                <label>Current Password</label>\r\n                <input type="password" ng-model="changePasswordModal.currentUser.CurrentPassword" class="form-control" required />\r\n            </div>\r\n            <div class="form-group">\r\n                <label>New Password</label>\r\n                <input type="password" ng-model="changePasswordModal.currentUser.NewPassword" pattern="^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d!$%@#£€*?&]{8,}$" pattern-err-type="customPassword" class="form-control" confirmpassword="{{changePasswordModal.currentUser.ConfirmPassword}}" required />\r\n            </div>\r\n            <div class="form-group">\r\n                <label>Confirm Password</label>\r\n                <input type="password" ng-model="changePasswordModal.currentUser.ConfirmPassword" pattern="^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d!$%@#£€*?&]{8,}$" pattern-err-type="customPassword" class="form-control" confirmpassword="{{changePasswordModal.currentUser.NewPassword}}" required />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="submit" class="btn btn-primary btn-block"\r\n                ng-disabled="ChangePasswordForm.$invalid || changePasswordModal.currentUser.NewPassword != changePasswordModal.currentUser.ConfirmPassword"\r\n                ng-click="changePasswordModal.submit()">Update Password</button>\r\n    </div>\r\n</form>\r\n'),$templateCache.put("account/templates/confirmPassword.modal.tpl.html",'<form name="ConfirmPasswordForm" ng-submit="confirmPassword.submit()">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" aria-label="Close" ng-click="confirmPassword.cancel()"><span aria-hidden="true">&times;</span></button>\r\n        <h3 class="modal-title"><i class="fa fa-lock"></i> Confirm Your Password</h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div class="form-group">\r\n            <label>Please enter your password to continue</label>\r\n            <input type="password" ng-model="confirmPassword.password" class="form-control" autofocus required />\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button class="btn btn-primary btn-block" type="submit" ng-disabled="ConfirmPasswordForm.$invalid">Update Profile</button>\r\n    </div>\r\n</form>\r\n'),$templateCache.put("addPromotion/templates/addPromotion.tpl.html",'<div ng-form="AddPromotionForm">\r\n    <label for="PromoCode" class="sr-only">Promotion Code</label>\r\n    <div class="input-group">\r\n        <input id="PromoCode" type="text" class="form-control" placeholder="Enter Promotion Code" autocomplete="off" autocorrect="off" ng-model="$ctrl.promoCode">\r\n        <span class="input-group-btn">\r\n            <button class="btn btn-primary" ng-disabled="!$ctrl.promoCode.length" type="button" ng-click="$ctrl.submit($ctrl.order.ID, $ctrl.promoCode)">Apply</button>\r\n        </span>\r\n    </div>\r\n</div>'),$templateCache.put("base/templates/base.tpl.html",'<header class="c-header c-header--fixed-top">\r\n    <nav ui-view="nav"></nav>\r\n</header>\r\n<main ui-view class="container" cg-busy="application.stateLoading(\'base\')"></main>'),$templateCache.put("base/templates/navigation.tpl.html",'<div class="container">\r\n  <div class="c-topnav">\r\n    <div class="c-topnav__group--left">\r\n      <!--BRAND-->\r\n      <div class="c-topnav__item c-topnav__brand">\r\n        <a ui-sref="home">\r\n          {{application.name}}\r\n        </a>\r\n      </div>\r\n      <!--PRODUCT / CATEGORY BROWSE-->\r\n      <div class="c-topnav__item c-topnav__browse">\r\n        <a ui-sref="productBrowse.products({page:\'\', favorites:\'\', sortBy:\'\', categoryid:\'\'})"><i class="fa fa-cubes"></i> <span class="hidden-xs hidden-sm">Product Browse</span></a>\r\n      </div>\r\n      <div class="c-topnav__item c-topnav__browse">\r\n        <a ui-sref="categoryBrowse({page:\'\', sortBy:\'\', categoryID:\'\'})"><i class="fa fa-th"></i> <span class="hidden-xs hidden-sm">Category Browse</span></a>\r\n      </div>\r\n      <!--MOBILE PRODUCT SEARCH-->\r\n      <div class="c-topnav__item c-topnav__search hidden-lg hidden-md">\r\n        <a href="" ng-click="base.mobileSearch()"><i class="fa fa-search"></i></a>\r\n      </div>\r\n    </div>\r\n    <!--DESKTOP PRODUCT SEARCH-->\r\n    <ordercloud-product-search class="c-topnav__item c-topnav__search hidden-xs hidden-sm"></ordercloud-product-search>\r\n    <div class="c-topnav__group--right">\r\n      <!--CART-->\r\n      <div class="c-topnav__item c-topnav__cart">\r\n        <a ui-sref="cart"><i class="fa fa-shopping-cart c-topnav__cart-icon"></i> <span class="sr-only">Shopping Cart</span> <span class="badge c-topnav__cart-count" ng-bind="base.currentOrder.LineItemCount"></span></a>\r\n      </div>\r\n      <!--ACCOUNT-->\r\n      <div class="c-topnav__item c-topnav__account" uib-dropdown ng-if="!base.currentUser.Anonymous">\r\n        <a uib-dropdown-toggle role="button"><i class="fa fa-user"></i> <span class="hidden-xs hidden-sm">Account</span> <span class="caret hidden-xs"></span></a>\r\n        <ul class="dropdown-menu-right" uib-dropdown-menu>\r\n          <li ui-sref-active="active"><a ui-sref="account">My Account</a></li>\r\n          <li class="divider"></li>\r\n          <li ui-sref-active="active"><a ui-sref="myAddresses">Personal Addresses</a></li>\r\n          <li ui-sref-active="active"><a ui-sref="myPayments">Payment Methods</a></li>\r\n          <li ui-sref-active="active"><a ui-sref="favoriteProducts">Favorite Products</a></li>\r\n          <li ui-sref-active="active"><a ui-sref="myOrders">Order History</a></li>\r\n          <li class="divider"></li>\r\n          <li><a ng-click="application.logout()">Log out</a></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'),$templateCache.put("cart/templates/cart.tpl.html",'<article>\r\n    <h3>\r\n        <div class="pull-right">\r\n            <button ng-if="cart.lineItems.Items.length" ng-click="cart.cancelOrder(base.currentOrder)" class="btn btn-default"><span class="text-danger">Cancel Order</span>\r\n            </button>\r\n            <button ui-sref="productBrowse.products" class="btn btn-default">Continue Shopping</button>\r\n        </div>\r\n        Shopping Cart\r\n    </h3>\r\n    <hr>\r\n    <div class="well text-center" ng-if="!cart.lineItems.Items.length">You do not have any items in your cart.</div>\r\n    <div class="row" ng-if="cart.lineItems.Items.length">\r\n        <aside class="col-md-4 col-md-push-8">\r\n            <div class="panel panel-default" hl-sticky anchor="top" offset-top="70" media-query="min-width: 992px" cg-busy="base.orderLoading">\r\n                <div class="panel-heading">\r\n                    <h3 class="panel-title">\r\n                        Order Summary\r\n                    </h3>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <p>\r\n                        <ng-pluralize count="cart.lineItems.Meta.TotalCount" when="{\r\n							\'1\': \'1 Item in Your Cart\',\r\n							\'other\': \'{} Items in Your Cart\'\r\n						}"></ng-pluralize>\r\n                    </p>\r\n                    <h4>Subtotal: <span class="pull-right">{{base.currentOrder.Subtotal | currency}}</span></h4>\r\n                    <hr>\r\n                    <oc-add-promotion order="base.currentOrder"></oc-add-promotion>\r\n                    <h5 ng-repeat="promotion in cart.promotions" class="text-danger">\r\n                        {{promotion.Code}}\r\n                        <a href="" ng-click="cart.removePromotion(base.currentOrder, this)">remove</a>\r\n                        <span class="pull-right">- {{promotion.Amount | currency}}</span></h5>\r\n                </div>\r\n                <div class="panel-footer">\r\n                    <button ng-if="cart.lineItems.Items.length > 0" type="button" ui-sref="checkout.shipping" class="btn btn-block btn-primary" ng-disabled="OrderLineItemForm.$invalid">Proceed to Checkout</button>\r\n                </div>\r\n            </div>\r\n        </aside>\r\n        <div class="col-md-8 col-md-pull-4">\r\n            <form name="OrderLineItemForm">\r\n                <div class="row  hidden-xs c-line-item__header">\r\n                    <div class="col-xs-3 col-sm-2"></div>\r\n                    <div class="col-xs-9 col-sm-10">\r\n                        <div class="row">\r\n                            <div class="col-sm-5 col-lg-6"><h6>Description</h6></div>\r\n                            <div class="col-sm-7 col-lg-6">\r\n                                <div class="row">\r\n                                    <div class="col-xs-3"><h6 class="text-right">Price</h6></div>\r\n                                    <div class="col-xs-4"><h6 class="text-center">Qty</h6></div>\r\n                                    <div class="col-xs-3"><h6 class="text-right">Total</h6></div>\r\n                                    <div class="col-xs-2"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-xs-12">\r\n                        <hr>\r\n                    </div>\r\n                </div>\r\n                <div class="row c-line-item" ng-repeat="lineItem in cart.lineItems.Items track by $index" cg-busy="cart.lineLoading[$index]">\r\n                    <div class="col-xs-3 col-sm-2">\r\n                        <div class="thumbnail c-line-item__img">\r\n                            <img class="img-responsive" ng-src="{{lineItem.Product.xp.image.URL || \'http://placehold.it/100x100?text=\' + lineItem.Product.Name}}"\r\n                                alt="{{lineItem.Product.xp.image.Name || \'Product Image\'}}">\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-xs-9 col-sm-10">\r\n                        <div class="row c-line-item__info c-line-item--centered">\r\n                            <div class="col-sm-5 col-lg-6 c-line-item__info--top">\r\n                                <h3 class="c-line-item__name">\r\n                                    <a href="#">{{lineItem.Product.Name}}</a>\r\n                                </h3>\r\n                                <small class="text-muted c-line-item__id">{{lineItem.ProductID}}</small>\r\n                                <ul class="c-line-item__spec-list" ng-if="lineItem.Specs.length > 0">\r\n                                    <li class="c-line-item__spec" ng-repeat="spec in lineItem.Specs">\r\n                                        <small>{{spec.Name}}:</small>\r\n                                        <small>{{spec.Value}}</small>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                            <div class="col-sm-7 col-lg-6 c-line-item__info--bottom">\r\n                                <div class="row  c-line-item--centered">\r\n                                    <div class="col-xs-3">\r\n                                        <h4 class="c-line-item__price text-right">{{lineItem.UnitPrice | currency}}</h4>\r\n                                    </div>\r\n                                    <div class="col-xs-4">\r\n                                        <div class="c-line-item__qty-input">\r\n                                            <oc-quantity-input lineitem="lineItem" order="base.currentOrder"></oc-quantity-input>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-xs-3">\r\n                                        <h4 class="c-line-item__total text-right">{{lineItem.LineTotal | currency}}</h4>\r\n                                    </div>\r\n                                    <div class="col-xs-2">\r\n                                        <div class="c-line-item__remove text-right">\r\n                                            <button class="btn btn-xs btn-danger" type="button" ng-click="cart.removeItem(base.currentOrder, this)"><span class=""><i class="fa fa-close"></i></span></button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-xs-12">\r\n                        <hr>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            </div>\r\n        </div>\r\n        <div class="form-group">\r\n            <button ng-if="cart.lineItems.Items.length > 0" type="button" ui-sref="checkout.shipping"\r\n                    class="btn btn-block btn-primary hidden-lg hidden-md"\r\n                ng-disabled="OrderLineItemForm.$invalid">Proceed to Checkout</button>\r\n        </div>\r\n</article>'),$templateCache.put("cart/templates/minicart.tpl.html",'\r\n<div id="minicart" class="dropdown" uib-dropdown is-open="minicart.showLineItems" ng-if="minicart.LineItems.Items.length">\r\n    <!--<div class="btn-group" uib-dropdown-toggle >-->\r\n        <!--<div class="btn btn-default">-->\r\n            <!--<span>-->\r\n                <!--<i class="fa fa-shopping-cart"></i>-->\r\n                <!--<i class="badge">{{minicart.LineItems.Meta.TotalCount}}</i>-->\r\n            <!--</span>-->\r\n        <!--</div>-->\r\n        <!--<div class="btn btn-default">{{order.Subtotal | currency}} <span class="caret"></span></div>-->\r\n    <!--</div>-->\r\n    <!--//When mobile-->\r\n    <div uib-dropdown-toggle>\r\n        <div id="minicartButton" ng-click="minicart.toggleDropdown($event)">\r\n            <span>\r\n                <i class="fa fa-shopping-cart"></i>\r\n                <i class="badge">{{minicart.LineItems.Meta.TotalCount}}</i>\r\n                <i ng-if="!minicart.$ocMedia(\'max-width:767px\')" class="caret"></i>\r\n            </span>\r\n        </div>\r\n        <!--<div class="btn btn-default">{{order.Subtotal | currency}}</div>-->\r\n    </div>\r\n    <!--//DropDown-->\r\n    <div ng-if="!minicart.$ocMedia(\'max-width:767px\')" id="minicart_line_item_list" uib-dropdown-menu role="menu" class="panel panel-default">\r\n        <div class="panel-heading">\r\n            <div class="panel-title">\r\n            <ng-pluralize count="minicart.LineItems.Meta.TotalCount"\r\n                          when="{\r\n                     \'one\': \'1 item in your cart\',\r\n                     \'other\': \'{} items in your cart\'}">\r\n            </ng-pluralize>\r\n            </div>\r\n        </div>\r\n        <div class="minicart-body">\r\n            <table class="table table-hover">\r\n\r\n\r\n                <tr ng-repeat="lineItem in minicart.LineItems.Items">\r\n                    <td>{{lineItem.Quantity}}</td>\r\n                    <td>\r\n                        <a href="#">{{lineItem.Product.Name}}</a><br>\r\n                        <small class="text-muted">{{lineItem.ProductID}}</small>\r\n                        </br>\r\n                    </td>\r\n                    <td style="padding-right: 25px;">\r\n                        <b class="text-success">{{lineItem.LineTotal | currency}}</b>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n        <div class="panel-footer">\r\n            <div class="row">\r\n                <div ng-class="{\'col-xs-6\': minicart.checkForCheckout(), \'col-xs-12\': !minicart.checkForCheckout()}">\r\n                    <button class="btn btn-info btn-block" ng-click="minicart.goToCart()">Cart</button>\r\n                </div>\r\n                <div class="col-xs-6"  ng-if="minicart.checkForCheckout()">\r\n                    <button class="btn btn-success btn-block" ui-sref="checkout">Checkout</button>\r\n                </div>\r\n            </div>\r\n            <div class="row express-checkout" ng-if="minicart.checkForExpress()">\r\n                <div class="col-xs-12">\r\n                    <button class="btn btn-success btn-block" ui-sref="expressCheckout">Express Checkout</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),$templateCache.put("cart/templates/modalMinicart.tpl.html",'<div id="modalMinicart" >\r\n    <div class="panel panel-primary">\r\n        <div class="panel-heading">\r\n            <div class="panel-title">\r\n                <ng-pluralize count="minicartModal.lineItemsLength"\r\n                              when="{\r\n                     \'one\': \'1 item in your cart\',\r\n                     \'other\': \'{} items in your cart\'}">\r\n                </ng-pluralize>\r\n                <i class="fa fa-times-circle pull-right" ng-click="minicartModal.cancel()"></i>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div class="minicart-body">\r\n            <table class="table table-hover table-striped">\r\n                <tr ng-repeat="lineItem in minicartModal.lineItems">\r\n                    <td>{{lineItem.Quantity}}</td>\r\n                    <td>\r\n                        <a href="#">{{lineItem.Product.Name}}</a><br>\r\n                        <small class="text-muted">{{lineItem.ProductID}}</small>\r\n                        </br>\r\n                    </td>\r\n                    <td style="padding-right: 25px;">\r\n                        <b class="text-success">{{lineItem.LineTotal | currency}}</b>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <div class="row">\r\n                <div class="col-xs-6">\r\n                    <button class="btn btn-info btn-block" ng-click="minicartModal.goToCart()">Cart</button>\r\n                </div>\r\n                <div class="col-xs-6">\r\n                    <button class="btn btn-success btn-block" ng-click="minicartModal.goToCheckout()">Checkout</button>\r\n                </div>\r\n            </div>\r\n            <div class="row express-checkout">\r\n                <div class="col-xs-12">\r\n                    <button class="btn btn-success btn-block" ng-click="minicartModal.goToExpressCheckout()">Express\r\n                        Checkout\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n'),$templateCache.put("categoryBrowse/templates/categoryBrowse.tpl.html",'<article>\r\n    <!-- Category List -->\r\n    <div ng-if="categoryBrowse.categoryList.Items.length">\r\n        <h3 class="page-header">{{categoryBrowse.selectedCategory.Name || \'Categories\' }}</h3>\r\n        <b class="pull-right">{{categoryBrowse.getNumberOfResults(\'categoryList\')}}</b><br>\r\n        <div class="row l-category-grid">\r\n            <div class="col-sm-6 col-md-3 col-lg-2 l-category-grid__item" ng-repeat="category in categoryBrowse.categoryList.Items">\r\n                <div class="thumbnail c-category-card" ng-click="categoryBrowse.updateCategoryList(category.ID)">\r\n                    <img class="img-responsive c-category-card__img" ng-src="{{category.xp.image.URL || \'http://placehold.it/300x300?text=\' + category.Name}}">\r\n                    <div class="caption c-category-card__body">\r\n                        <h3 class="c-category-card__title">{{category.Name || category.ID}}</h3>\r\n                        <p class="c-category-card__descrip" ng-if="category.Name">{{category.ID}}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- Category List Pagination -->\r\n    <uib-pagination \r\n        boundary-links="categoryBrowse.categoryList.Meta.TotalPages > 5" \r\n        max-size="5" total-items="categoryBrowse.categoryList.Meta.TotalCount" \r\n        items-per-page="categoryBrowse.categoryList.Meta.PageSize" \r\n        ng-model="categoryBrowse.categoryList.Meta.Page"\r\n        ng-change="categoryBrowse.changeCategoryPage(categoryBrowse.categoryList.Meta.Page)" \r\n        ng-if="categoryBrowse.categoryList.Meta.TotalPages > 1">\r\n    </uib-pagination>\r\n    <!-- Product List -->\r\n    <div ng-if="categoryBrowse.productList.Items.length">\r\n        <h3 class="page-header">{{categoryBrowse.productList.Items.length > 1 ? \'Products\' : \'Product\'}}</h3>\r\n        <b class="pull-right">{{categoryBrowse.getNumberOfResults(\'productList\')}}</b><br>\r\n        <div class="row l-product-grid">\r\n            <div class="col-sm-6 col-md-4 col-lg-3 l-product-grid__item"\r\n                 ng-repeat="product in categoryBrowse.productList.Items"\r\n                 ng-include="\'common/templates/card.product.tpl.html\'">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- Product List Pagination -->\r\n    <uib-pagination \r\n        boundary-links="categoryBrowse.productList.Meta.TotalPages > 5" \r\n        max-size="5" total-items="categoryBrowse.productList.Meta.TotalCount" \r\n        items-per-page="categoryBrowse.productList.Meta.PageSize" \r\n        ng-model="categoryBrowse.productList.Meta.Page"\r\n        ng-change="categoryBrowse.changeProductPage(categoryBrowse.productList.Meta.Page)" \r\n        ng-if="categoryBrowse.categoryList.Meta.TotalPages > 1">\r\n    </uib-pagination>\r\n    <!-- No Results -->\r\n    <div ng-if="!categoryBrowse.productList.Items.length && !categoryBrowse.categoryList.Items.length">\r\n        <div class="page-header">\r\n            <h3>No Results</h3>\r\n        </div>\r\n        <div class="well well-lg text-center">\r\n            <b> No products or categories</b>\r\n        </div>\r\n    </div>\r\n</article>'),$templateCache.put("checkout/templates/addressSelect.modal.tpl.html",'<div class="modal-header">\r\n    <button type="button" class="close" aria-label="Close" ng-click="addressSelect.cancel()"><span aria-hidden="true">&times;</span></button>\r\n    <h3 class="modal-title">Select Address</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <div class="well text-center" ng-if="!addressSelect.addresses.Items.length">\r\n        You currently do not have any addresses available. <br />\r\n        <a href="" ng-click="addressSelect.createAddress()">Create one now</a>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-sm-6" ng-repeat="address in addressSelect.addresses.Items">\r\n            <div class="panel panel-default">\r\n                <div class="panel-body">\r\n                    <div class="pull-right">\r\n                        <a href="" ng-click="addressSelect.select(address)">Select</a>\r\n                    </div>\r\n                    <p ng-bind-html="address | address:\'full\'"></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),$templateCache.put("checkout/templates/checkout.tpl.html",'<form name="OC_Checkout">\r\n    <ul class="nav nav-pills">\r\n        <li role="presentation">\r\n            <a href="" ui-sref="cart">Cart</a>\r\n        </li>\r\n        <li role="presentation" ng-class="{active:application.$state.is(\'checkout.shipping\')}">\r\n            <a href="" ui-sref=".shipping">Shipping</a>\r\n        </li>\r\n        <li role="presentation" ng-class="{active:application.$state.is(\'checkout.payment\')}">\r\n            <a href="" ui-sref=".payment" ng-disabled="application.$state.is(\'checkout.shipping\')">Payment</a>\r\n        </li>\r\n        <li role="presentation" ng-class="{active:application.$state.is(\'checkout.review\')}">\r\n            <a href="" disabled>Review</a>\r\n        </li>\r\n    </ul>\r\n    <hr>\r\n    <div ui-view  cg-busy="application.stateLoading(\'checkout\')"></div>\r\n</form>'),$templateCache.put("common/templates/card.product.tpl.html",'<div class="thumbnail c-product-card" ui-sref="productDetail({productid: product.ID})">\r\n    <img class="img-responsive c-product-card__img" ng-src="{{product.xp.image.URL || \'http://placehold.it/300x300\'}}">\r\n    <div class="caption c-product-card__body">\r\n        <div class="c-product-card__info clearfix">\r\n            <span class="pull-left c-product-card__id" ng-if="product.Name">{{product.ID | limitTo: 8}}{{product.ID.length > 8 ? \'...\' : \'\'}}</span>\r\n            <span class="pull-right c-product-card__price"><b class="text-primary">{{product.StandardPriceSchedule.PriceBreaks[0].Price | currency}}</b> <small class="text-muted">x {{product.StandardPriceSchedule.PriceBreaks[0].Quantity}}</small></span>\r\n        </div>\r\n        <h4 class="c-product-card__name" ng-class="">{{product.Name || product.ID}}</h4>\r\n        <div class="c-product-card__descrip hidden-xs" ng-if="product.Description" >\r\n            <p>{{product.Description | limitTo: 40}}{{product.Description.length > 40 ? \'...\' : \'\'}}</p>\r\n        </div>\r\n        <div class="text-right c-product-card__icons hidden-xs" prevent-click>\r\n            <ordercloud-product-quick-view product="product" current-order="base.currentOrder"></ordercloud-product-quick-view>\r\n            <ordercloud-favorite-product product="product" current-user="base.currentUser"></ordercloud-favorite-product>\r\n        </div>\r\n    </div>\r\n</div>'),$templateCache.put("favoriteOrders/templates/favoriteOrder.component.tpl.html",'<i class="fa" ng-click="$ctrl.toggleFavoriteOrder()" ng-class="{\'fa-heart text-danger\': $ctrl.isFavorited, \'fa-heart-o\': !$ctrl.isFavorited}" aria-hidden="true"></i>'),$templateCache.put("favoriteProducts/templates/favoriteProducts.tpl.html",'<article id="favoriteProducts">\r\n    <div class="form-group c-form-group">\r\n        <form class="form-inline pull-right">\r\n            <fieldset class="form-group c-form-group_form-group"><!-- c-form-group_form-group  -->\r\n                <label for="SortSelect" class="c-form-group_form-group--label">Sort By:</label>\r\n                <div style="display:inline-table" ng-class="{\'input-group\':favoriteProducts.sortSelection}">\r\n                    <select id="SortSelect" class="form-control" ng-model="favoriteProducts.sortSelection"\r\n                            ng-change="favoriteProducts.updateSort()">\r\n                        <option value="" ng-show="favoriteProducts.sortSelection">None</option>\r\n                        <option value="ID">ID</option>\r\n                        <option value="Name">Name</option>\r\n                    </select>\r\n                    <div ng-if="favoriteProducts.sortSelection" class="input-group-btn">\r\n                        <button class="btn btn-default" ng-click="favoriteProducts.reverseSort()">\r\n                            <i class="fa" ng-class="{\r\n                        \'fa-sort-alpha-asc\': favoriteProducts.sortSelection == \'Name\' && favoriteProducts.parameters.sortBy == \'Name\',\r\n                        \'fa-sort-alpha-desc\': favoriteProducts.sortSelection == \'Name\' && favoriteProducts.parameters.sortBy == \'!Name\',\r\n                        \'fa-sort-numeric-asc\': favoriteProducts.sortSelection == \'ID\' && favoriteProducts.parameters.sortBy == \'ID\',\r\n                        \'fa-sort-numeric-desc\': favoriteProducts.sortSelection == \'ID\' && favoriteProducts.parameters.sortBy == \'!ID\'\r\n                        }"></i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n        </form>\r\n        <!--END FILTERS-->\r\n        <h5 class="pull-left">\r\n            <b>{{(application.$ocMedia(\'min-width:768px\') ? favoriteProducts.list.Meta.ItemRange[0] : \'1\') + \' - \' +  favoriteProducts.list.Meta.ItemRange[1] + \' of \' + favoriteProducts.list.Meta.TotalCount + \' results\'}}</b>\r\n        </h5>\r\n        <div class="clearfix"></div>\r\n    </div>\r\n    <div class="no-matches" ng-if="!favoriteProducts.list">\r\n        <b>No matches found.</b>\r\n    </div>\r\n    <div ng-if="favoriteProducts.list.Items.length">\r\n        <div class="row l-product-grid">\r\n            <div class="col-sm-6 col-md-4 col-lg-3 l-product-grid__item"\r\n                 ng-repeat="product in favoriteProducts.list.Items"\r\n                 ng-include="\'common/templates/card.product.tpl.html\'">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="text-center" ng-if="application.$ocMedia(\'min-width:768px\') && favoriteProducts.list.Meta.TotalPages > 1">\r\n        <uib-pagination boundary-links="favoriteProducts.list.Meta.TotalPages > 5"\r\n                        max-size="5" total-items="favoriteProducts.list.Meta.TotalCount"\r\n                        items-per-page="favoriteProducts.list.Meta.PageSize"\r\n                        ng-model="favoriteProducts.list.Meta.Page"\r\n                        ng-change="favoriteProducts.pageChanged()"></uib-pagination>\r\n    </div>\r\n    <button type="button"\r\n            ng-if="application.$ocMedia(\'max-width:767px\')"\r\n            class="btn btn-default btn-block btn-lg"\r\n            ng-show="favoriteProducts.list.Meta.Page < favoriteProducts.list.Meta.TotalPages"\r\n            ng-click="favoriteProducts.loadMore()">Load More\r\n    </button>\r\n</article>'),
$templateCache.put("favoriteProducts/templates/ordercloud-favorite-product.tpl.html",'<i class="fa" ng-click="favoriteProduct.toggleFavoriteProduct()" ng-class="{\'fa-heart text-danger\': favoriteProduct.isFavorited, \'fa-heart-o\': !favoriteProduct.isFavorited}" aria-hidden="true"></i>'),$templateCache.put("home/templates/home.tpl.html",'<article>\r\n    <header class="jumbotron text-center">\r\n        <h1 ng-bind="application.name"></h1>\r\n        <p>Welcome to the OrderCloud Marketplace App!</p>\r\n        <p><a class="btn btn-primary btn-large">Learn more »</a></p>\r\n    </header>\r\n</article>'),$templateCache.put("login/templates/login.tpl.html",'<main class="login" ng-switch="login.form" cg-busy="login.loading">\r\n\r\n    <!--LOGIN FORM-->\r\n    <div ng-switch-when="login">\r\n        <div class="panel panel-default">\r\n            <form class="panel-body" name="LoginForm" ng-submit="login.submit()" pretty-submit>\r\n                <h3 class="text-center">Buyer Login</h3>\r\n                <div class="form-group">\r\n                    <label for="Username" class="sr-only">Username</label>\r\n                    <input id="Username" type="text" class="form-control" placeholder="Username" autocapitalize="off" autocorrect="off" autocomplete="off" ng-model="login.credentials.Username" ng-required="true" />\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="Password" class="sr-only">Password</label>\r\n                    <input type="password" class="form-control" placeholder="Password" id="Password" ng-model="login.credentials.Password" ng-required="true" />\r\n                </div>\r\n\r\n                <div class="form-group text-center">\r\n                    <div class="checkbox">\r\n                        <label for="Remember">\r\n                            <input type="checkbox" id="Remember" ng-model="login.rememberStatus">\r\n                            Remember Me\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                <button id="submit_login" type="submit" class="btn btn-primary btn-block" ng-disabled="LoginForm.$invalid">Submit</button>\r\n\r\n            </form>\r\n        </div>\r\n        <div class="text-center">\r\n            <a id="forgot_password" ng-click="login.setForm(\'forgot\')">Forgot Password?</a>\r\n        </div>\r\n    </div>\r\n\r\n    <!--FORGOT PASSWORD-->\r\n    <div ng-switch-when="forgot">\r\n        <div class="panel panel-default">\r\n            <form class="panel-body" name="ForgotPasswordForm" ng-submit="login.forgotPassword()">\r\n                <h3 class="text-center">Forgot Password</h3>\r\n                <div class="form-group">\r\n                    <label for="Email" class="sr-only">Email</label>\r\n                    <input type="text" class="form-control" id="Email" placeholder="Email Address" ng-model="login.credentials.Email" ng-required="true" />\r\n                </div>\r\n                <button type="submit" id="email_submit" class="btn btn-primary btn-block" ng-disabled="ForgotPasswordForm.$invalid">Submit</button>\r\n            </form>\r\n        </div>\r\n        <div class="text-center">\r\n            <a id="back_to_login" ng-click="login.setForm(\'login\')">Back to Login</a>\r\n        </div>\r\n    </div>\r\n\r\n    <!--RESET PASSWORD-->\r\n    <div ng-switch-when="reset">\r\n        <div class="panel panel-default">\r\n            <form class="panel-body" name="ResetPasswordForm" ng-submit="login.resetPassword()" >\r\n                <h3 class="text-center">Reset Password</h3>\r\n                <div class="form-group">\r\n                    <label for="ResetUsername" class="sr-only">Username</label>\r\n                    <input type="text" class="form-control" id="ResetUsername" placeholder="Username" ng-model="login.credentials.ResetUsername" ng-required="true" />\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="NewPassword" class="sr-only">New Password</label>\r\n                    <input type="password" class="form-control" id="NewPassword" placeholder="New Password" ng-model="login.credentials.NewPassword" ng-required="true" />\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="ConfirmPassword" class="sr-only">Confirm Password</label>\r\n                    <input type="password" class="form-control" id="ConfirmPassword" placeholder="Confirm New Password" ng-model="login.credentials.ConfirmPassword" ng-required="true" />\r\n                </div>\r\n                <button type="submit" id="reset_submit" class="btn btn-primary btn-block" ng-disabled="ResetPasswordForm.$invalid || login.credentials.NewPassword != login.credentials.ConfirmPassword">Submit</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-switch-when="verificationCodeSuccess">\r\n        <div class="alert alert-success text-center" id="forgot_message">Forgot password email has been sent. <br> Please check your email in order to reset your password.</div>\r\n    </div>\r\n\r\n    <div ng-switch-when="resetSuccess">\r\n        <div class="alert alert-success text-center">Your password has been reset.</div>\r\n        <div class="text-center">\r\n            <a id="back_to_login2" ng-click="login.setForm(\'login\')">Back to Login</a>\r\n        </div>\r\n    </div>\r\n</main>\r\n'),$templateCache.put("myAddresses/templates/myAddresses.create.modal.tpl.html",'<form name="myAddressesCreateModalForm" ng-submit="createAddress.submit()" cg-busy="createAddress.loading">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" aria-label="Close" ng-click="createAddress.cancel()"><span aria-hidden="true">&times;</span></button>\r\n        <h3 class="modal-title">New Address</h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <fieldset>\r\n            <div class="form-group">\r\n                <label for="addressNameInput">Address Name</label>\r\n                <input id="addressNameInput" placeholder="(Optional)" ng-model="createAddress.address.AddressName" type="text" class="form-control">\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="addressCompanyNameInput">Company Name</label>\r\n                <input id="addressCompanyNameInput" placeholder="(Optional)" ng-model="createAddress.address.CompanyName" type="text" class="form-control">\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-sm-6 form-group">\r\n                    <label for="addressFirstNameInput">First Name</label>\r\n                    <input id="addressFirstNameInput" placeholder="(Optional)" ng-model="createAddress.address.FirstName" type="text" class="form-control">\r\n                </div>\r\n                <div class="col-sm-6 form-group">\r\n                    <label for="addressLastNameInput">Last Name</label>\r\n                    <input id="addressLastNameInput" placeholder="(Optional)" ng-model="createAddress.address.LastName" type="text" class="form-control">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="addressStreet1Input">Street 1</label>\r\n                <input id="addressStreet1Input" ng-model="createAddress.address.Street1" type="text" class="form-control" required>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="addressStreet2Input">Street 2</label>\r\n                <input id="addressStreet2Input" placeholder="(Optional)" ng-model="createAddress.address.Street2" type="text" class="form-control">\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-sm-6 form-group">\r\n                    <label for="addressCityInput">City</label>\r\n                    <input id="addressCityInput" type="text" class="form-control" ng-model="createAddress.address.City" />\r\n                </div>\r\n                <div class="col-sm-3 form-group" ng-show="createAddress.address.Country == \'US\'">\r\n                    <label for="addressStateInput">State</label>\r\n                    <select id="addressStateInput" class="form-control" ng-options="state.value as state.label for state in createAddress.states" ng-model="createAddress.address.State" required/>\r\n                </div>\r\n                <div class="col-sm-3 form-group" ng-hide="createAddress.address.Country == \'US\'">\r\n                    <label for="addressStateInput">State</label>\r\n                    <input id="addressStateInput" class="form-control" ng-model="createAddress.address.State" required/>\r\n                </div>\r\n                <div class="col-sm-3 form-group">\r\n                    <label for="addressZipInput">Zip</label>\r\n                    <input id="addressZipInput" type="text" class="form-control" ng-model="createAddress.address.Zip" required/>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-sm-6 form-group">\r\n                    <label for="addressCountryInput">Country</label>\r\n                    <select id="addressCountryInput" class="form-control" ng-options="country.value as country.label for country in createAddress.countries" ng-model="createAddress.address.Country" ng-change="createAddress.address.State = null" required/>\r\n                </div>\r\n                <div class="col-sm-6 form-group">\r\n                    <label for="addressPhoneInput">Phone Number</label>\r\n                    <input id="addressPhoneInput" type="text" class="form-control" ng-model="createAddress.address.Phone" />\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="submit" class="btn btn-primary btn-block" ng-disabled="myAddressesCreateModalForm.$invalid || (!createAddress.address.Billing && !createAddress.address.Shipping)">Save</button>\r\n    </div>\r\n</form>'),$templateCache.put("myAddresses/templates/myAddresses.edit.modal.tpl.html",'<form name="myAddressesEditModalForm" ng-submit="editAddress.submit()" cg-busy="editAddress.loading">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" aria-label="Close" ng-click="editAddress.cancel()"><span aria-hidden="true">&times;</span></button>\r\n        <h3 class="modal-title">Edit Address</h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <fieldset>\r\n            <div class="form-group">\r\n                <label for="addressNameInput">Address Name</label>\r\n                <input id="addressNameInput" placeholder="(Optional)" ng-model="editAddress.address.AddressName" type="text" class="form-control">\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="addressCompanyNameInput">Company Name</label>\r\n                <input id="addressCompanyNameInput" placeholder="(Optional)" ng-model="editAddress.address.CompanyName" type="text" class="form-control">\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-sm-6 form-group">\r\n                    <label for="addressFirstNameInput">First Name</label>\r\n                    <input id="addressFirstNameInput" placeholder="(Optional)" ng-model="editAddress.address.FirstName" type="text" class="form-control">\r\n                </div>\r\n                <div class="col-sm-6 form-group">\r\n                    <label for="addressLastNameInput">Last Name</label>\r\n                    <input id="addressLastNameInput" placeholder="(Optional)" ng-model="editAddress.address.LastName" type="text" class="form-control">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="addressStreet1Input">Street 1</label>\r\n                <input id="addressStreet1Input" ng-model="editAddress.address.Street1" type="text" class="form-control" required>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="addressStreet2Input">Street 2</label>\r\n                <input id="addressStreet2Input" placeholder="(Optional)" ng-model="editAddress.address.Street2" type="text" class="form-control">\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-sm-6 form-group">\r\n                    <label for="addressCityInput">City</label>\r\n                    <input id="addressCityInput" type="text" class="form-control" ng-model="editAddress.address.City" />\r\n                </div>\r\n                <div class="col-sm-3 form-group" ng-show="editAddress.address.Country == \'US\'">\r\n                    <label for="addressStateInput">State</label>\r\n                    <select id="addressStateInput" class="form-control" ng-options="state.value as state.label for state in editAddress.states" ng-model="editAddress.address.State" required/>\r\n                </div>\r\n                <div class="col-sm-3 form-group" ng-hide="editAddress.address.Country == \'US\'">\r\n                    <label for="addressStateInput">State</label>\r\n                    <input id="addressStateInput" class="form-control" ng-model="editAddress.address.State" required/>\r\n                </div>\r\n                <div class="col-sm-3 form-group">\r\n                    <label for="addressZipInput">Zip</label>\r\n                    <input id="addressZipInput" type="text" class="form-control" ng-model="editAddress.address.Zip" required/>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-sm-6 form-group">\r\n                    <label for="addressCountryInput">Country</label>\r\n                    <select id="addressCountryInput" class="form-control" ng-options="country.value as country.label for country in editAddress.countries" ng-model="editAddress.address.Country" ng-change="editAddress.address.State = null" required/>\r\n                </div>\r\n                <div class="col-sm-6 form-group">\r\n                    <label for="addressPhoneInput">Phone Number</label>\r\n                    <input id="addressPhoneInput" type="text" class="form-control" ng-model="editAddress.address.Phone" />\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <div class="form-group">\r\n            <button type="submit" class="btn btn-primary btn-block" ng-disabled="myAddressesEditModalForm.$invalid || (!editAddress.address.Billing && !editAddress.address.Shipping)">Save</button>\r\n        </div>\r\n    </div>\r\n</form>'),$templateCache.put("myAddresses/templates/myAddresses.tpl.html",'<article id="myAddresses">\r\n    <button class="btn btn-primary pull-right" ng-click="myAddresses.create()"><i class="fa fa-plus-circle"></i> Create New</button>\r\n    <h3><i class="fa fa-map-marker"></i> Personal Addresses</h3>\r\n    <hr>\r\n    <div class="row">\r\n        <div class="col-sm-6" ng-repeat="address in myAddresses.list.Items">\r\n            <div class="panel panel-default" cg-busy="myAddresses.loading[$index]">\r\n                <div class="panel-body">\r\n                    <div class="pull-right">\r\n                        <a href="" ng-click="myAddresses.delete(this)">Delete</a> |\r\n                        <a href="" ng-click="myAddresses.edit(this)">Edit</a>\r\n                    </div>\r\n                    <p ng-bind-html="address | address:\'full\'"></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</article>'),$templateCache.put("myOrders/templates/myOrders.detail.tpl.html",'<article>\r\n    <h3>\r\n        <div class="pull-right">\r\n            <ordercloud-favorite-order current-user="base.currentUser" order="myOrderDetail.order"></ordercloud-favorite-order>\r\n            <button ng-if="myOrderDetail.canCancel" ng-click="myOrderDetail.cancelOrder(myOrderDetail.order.ID)" class="btn btn-default"><span class="text-danger">Cancel Order</span></button>\r\n            <ordercloud-repeat-order original-order-id="myOrderDetail.order.ID" current-order-id="base.currentOrder.ID"></ordercloud-repeat-order>\r\n        </div>\r\n        <button ui-sref="^" class="btn btn-default"><i class="fa fa-arrow-left"></i></button>\r\n        <b>Order ID:</b> {{myOrderDetail.order.ID}}\r\n    </h3>\r\n    <hr>\r\n    <div class="row">\r\n        <div class="col-sm-7">\r\n            <h5>Date Submitted: <span class="pull-right">{{myOrderDetail.order.DateSubmitted | date:\'short\'}}</span></h5>\r\n            <h5>Subtotal: <span class="pull-right">{{myOrderDetail.order.Subtotal | currency}}</span></h5>\r\n            <h5 ng-if="myOrderDetail.order.ShippingCost" class="text-muted">Shipping: <span class="pull-right"> + {{myOrderDetail.order.ShippingCost | currency}}</span></h5>\r\n            <h5 ng-if="myOrderDetail.order.TaxCost" class="text-muted">Tax: <span class="pull-right"> + {{myOrderDetail.order.TaxCost | currency}}</span></h5>\r\n            <h5 ng-repeat="promotion in myOrderDetail.promotions" class="text-danger">\r\n                {{promotion.Code}}\r\n                <span class="pull-right">- {{promotion.Amount | currency}}</span></h5>\r\n            <hr>\r\n            <h4>Total: <b class="pull-right text-primary">{{myOrderDetail.order.Total | currency}}</b></h4>\r\n            <hr>\r\n            <h4>\r\n                <ng-pluralize count="myOrderDetail.paymentList.length"\r\n                              when="{\r\n                          \'1\': \'Payment\',\r\n                          \'other\': \'{} Payments\'\r\n                      }"></ng-pluralize>\r\n            </h4>\r\n            <hr>\r\n            <div ng-repeat="payment in myOrderDetail.paymentList">\r\n                <p>{{payment.Type | humanize}} <b class="pull-right text-primary">{{payment.Amount | currency}}</b></p>\r\n\r\n                <p ng-if="payment.xp.PONumber"><b>PO#:</b> {{payment.xp.PONumber}}</p>\r\n\r\n                <p ng-if="payment.Type == \'CreditCard\'">\r\n                    <i style="font-size:1.3em;" class="fa {{payment.Details.CardType | faCreditCard}} pull-left"></i>\r\n                    <span class="text-muted">XXXX-XXXX-XXXX-</span>{{payment.Details.PartialAccountNumber}}\r\n                </p>\r\n\r\n                <p ng-if="payment.Type == \'SpendingAccount\'">\r\n                    {{payment.Details.Name}} <br>\r\n                    <small><span class="text-muted">Remaining Balance:</span> {{payment.Details.Balance | currency}}</small>\r\n                </p>\r\n                <hr ng-if="!$last">\r\n            </div>\r\n        </div>\r\n        <div class="col-sm-5">\r\n            <h5>Delivery Address</h5>\r\n            <div class="panel panel-default">\r\n                <div class="panel-body">\r\n                    <p ng-bind-html="myOrderDetail.list.Items[0].ShippingAddress | address:\'full\'"></p>\r\n                </div>\r\n            </div>\r\n            <h5>Billing Address</h5>\r\n            <div class="panel panel-default">\r\n                <div class="panel-body">\r\n                    <p ng-bind-html="myOrderDetail.order.BillingAddress | address:\'full\'"></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <hr>\r\n    <h4>\r\n        <ng-pluralize count="myOrderDetail.order.LineItemCount"\r\n                      when="{\r\n							\'1\': \'1 Line Item\',\r\n							\'other\': \'{} Line Items\'\r\n						}"></ng-pluralize>\r\n    </h4>\r\n    <hr>\r\n    <div class="row  hidden-xs c-line-item__header">\r\n        <div class="col-xs-3 col-sm-2"></div>\r\n        <div class="col-xs-9 col-sm-10">\r\n            <div class="row">\r\n                <div class="col-sm-5 col-lg-6"><h6>Description</h6></div>\r\n                <div class="col-sm-7 col-lg-6">\r\n                    <div class="row">\r\n                        <div class="col-xs-4"><h6 class="text-right">Price</h6></div>\r\n                        <div class="col-xs-4"><h6 class="text-center">Qty</h6></div>\r\n                        <div class="col-xs-4"><h6 class="text-right">Total</h6></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-xs-12">\r\n            <hr>\r\n        </div>\r\n    </div>\r\n    <div class="row c-line-item" ng-repeat="lineItem in myOrderDetail.list.Items track by $index">\r\n        <div class="col-xs-3 col-sm-2">\r\n            <div class="thumbnail c-line-item__img">\r\n                <img class="img-responsive" ng-src="{{lineItem.xp.image.URL || \'http://placehold.it/100x100?text=\' + lineItem.Product.Name}}"\r\n                     alt="{{lineItem.Product.xp.image.Name || \'Product Image\'}}">\r\n            </div>\r\n        </div>\r\n        <div class="col-xs-9 col-sm-10">\r\n            <div class="row c-line-item__info c-line-item--centered">\r\n                <div class="col-sm-5 col-lg-6 c-line-item__info--top">\r\n                    <h3 class="c-line-item__name">\r\n                        <a href="#">{{lineItem.Product.Name}}</a>\r\n                    </h3>\r\n                    <small class="text-muted c-line-item__id">{{lineItem.ProductID}}</small>\r\n                    <ul class="c-line-item__spec-list" ng-if="lineItem.Specs.length > 0">\r\n                        <li class="c-line-item__spec" ng-repeat="spec in lineItem.Specs">\r\n                            <small>{{spec.Name}}:</small>\r\n                            <small>{{spec.Value}}</small>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div class="col-sm-7 col-lg-6 c-line-item__info--bottom">\r\n                    <div class="row  c-line-item--centered">\r\n                        <div class="col-xs-4">\r\n                            <h4 class="c-line-item__price text-right">{{lineItem.UnitPrice | currency}}</h4>\r\n                        </div>\r\n                        <div class="col-xs-4 text-center">\r\n                            <h4 class="c-line-item__qty-display ">\r\n                                {{lineItem.Quantity}}\r\n                            </h4>\r\n                            <small class="help-block" ng-if="lineItem.Product.QuantityMultiplier > 1">\r\n                                {{\'x \' + lineItem.Product.QuantityMultiplier + (lineItem.Quantity ? (\' (\' + (lineItem.Quantity * lineItem.Product.QuantityMultiplier) + \')\') : \'\')}}\r\n                            </small>\r\n                        </div>\r\n                        <div class="col-xs-4">\r\n                            <h4 class="c-line-item__total text-right">{{lineItem.LineTotal | currency}}</h4>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-xs-12">\r\n            <hr>\r\n        </div>\r\n    </div>\r\n</article>'),$templateCache.put("myOrders/templates/myOrders.tpl.html",'<article ui-view>\r\n    <h3><i class="fa fa-clock-o"></i> Order History</h3>\r\n    <hr>\r\n    <!--====== SEARCH/FILTERS ======-->\r\n    <form name="OrdersSearchForm" class="form-inline" ng-submit="myOrders.search()">\r\n        <fieldset class="form-group">\r\n            <input type="search" placeholder="Search order history..." ng-model="myOrders.parameters.search" class="form-control">\r\n        </fieldset>\r\n        <fieldset class="form-group" ng-class="{\'text-center\':application.$ocMedia(\'max-width:767px\')}">\r\n            <span ng-class="{\'btn-group\':myOrders.searchResults}">\r\n                <button type="submit" class="btn btn-primary">Search</button>\r\n                <button ng-if="myOrders.searchResults" ng-click="myOrders.clearSearch()" type="button" class="btn btn-default"><i class="fa fa-times"></i></button>\r\n            </span>\r\n            <span ng-class="{\'btn-group\':myOrders.filtersApplied}">\r\n                <button type="button" class="btn btn-default" ng-click="myOrders.showFilters = !myOrders.showFilters"><i class="fa fa-filter"></i> Filters</button>\r\n                <button ng-if="myOrders.filtersApplied" ng-click="myOrders.clearFilters()" type="button" class="btn btn-default"><i class="fa fa-times"></i></button>\r\n            </span>\r\n        </fieldset>\r\n    </form>\r\n    <div class="row" style="margin-top:15px;" uib-collapse="!myOrders.showFilters">\r\n        <div class="col-md-6">\r\n            <div class="form-group" ng-if="application.$ocMedia(\'max-width:767px\')">\r\n                <label>Sort By:</label>\r\n                <div ng-class="{\'input-group\':myOrders.sortSelection}">\r\n                    <select placeholder="Sort" class="form-control" ng-model="myOrders.sortSelection" ng-change="myOrders.updateSort()">\r\n                        <option value="">None</option>\r\n                        <option value="ID">ID</option>\r\n                        <option value="Status">Status</option>\r\n                        <option value="DateCreated">Date Created/Submitted</option>\r\n                    </select>\r\n                    <div ng-if="myOrders.sortSelection" class="input-group-btn">\r\n                        <button class="btn btn-default" ng-click="myOrders.reverseSort()">\r\n                            <i class="fa fa-sort"></i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-sm-6">\r\n                    <div class="form-group">\r\n                        <label>Order Status</label>\r\n                        <select ng-model="myOrders.parameters.filters.Status" ng-change="myOrders.filter(true)" class="form-control">\r\n                            <option value="">All</option>\r\n                            <option value="Open">Open</option>\r\n                            <option value="AwaitingApproval">Awaiting Approval</option>\r\n                            <option value="Completed">Completed</option>\r\n                            <option value="Declined">Declined</option>\r\n                            <option value="Cancelled">Cancelled</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-6">\r\n                    <label></label>\r\n                    <div class="form-group">\r\n                        <span ng-click="myOrders.toggleFavorites()">\r\n                            <button class="btn btn-default form-control">\r\n                                <i class="fa" ng-class="{\'fa-heart-o text-muted\': !myOrders.parameters.favorites, \'fa-heart text-danger\': myOrders.parameters.favorites}"></i><b> My Favorites</b> \r\n                            </button>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-md-6">\r\n            <div class="row">\r\n                <div class="col-sm-6">\r\n                    <div class="form-group">\r\n                        <label>From Date</label>\r\n                        <input ng-if="!application.isTouchDevice" type="date" class="form-control" ng-blur="myOrders.filter(true)" ng-model="myOrders.parameters.from">\r\n                        <input ng-if="application.isTouchDevice" uib-datepicker-popup datepicker-options="{maxDate:myOrders.parameters.to}" is-open="fromDate.open"  ng-change="myOrders.filter(true)" ng-click="fromDate.open = !fromDate.open" type="date" class="form-control" ng-model="myOrders.parameters.from">\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-6">\r\n                    <div class="form-group">\r\n                        <label>To Date</label>\r\n                        <input ng-if="!application.isTouchDevice" type="date" class="form-control" ng-blur="myOrders.filter(true)" ng-model="myOrders.parameters.to">\r\n                        <input ng-if="application.isTouchDevice" uib-datepicker-popup datepicker-options="{minDate:myOrders.parameters.from}" is-open="toDate.open" ng-change="myOrders.filter(true)" ng-click="toDate.open = !toDate.open" type="date" class="form-control" ng-model="myOrders.parameters.to">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!--====== LIST ======-->\r\n    <div class="no-matches" ng-if="!myOrders.list.Items.length">\r\n        <b>No matches found.</b>\r\n    </div>\r\n    <div ng-if="myOrders.list.Items.length">\r\n        <b class="pull-right">{{(application.$ocMedia(\'min-width:768px\') ? myOrders.list.Meta.ItemRange[0] : \'1\') + \' - \' +  myOrders.list.Meta.ItemRange[1] + \' of \' + myOrders.list.Meta.TotalCount + \' results\'}}</b>\r\n        <table class="table table-hover oc-table-responsive">\r\n            <thead>\r\n            <tr>\r\n                <th></th>\r\n                <th scope="col">\r\n                    <a href="#" role="button" ng-click="myOrders.updateSort(\'ID\')">\r\n                        ID\r\n                        <i class="fa fa-caret-down" ng-show="myOrders.parameters.sortBy == \'ID\'"></i>\r\n                        <i class="fa fa-caret-up" ng-show="myOrders.parameters.sortBy == \'!ID\'"></i>\r\n                    </a>\r\n                </th>\r\n                <th scope="col">\r\n                    <a href="#" role="button" ng-click="myOrders.updateSort(\'Status\')">\r\n                        Status\r\n                        <i class="fa fa-caret-down" ng-show="myOrders.parameters.sortBy == \'Status\'"></i>\r\n                        <i class="fa fa-caret-up" ng-show="myOrders.parameters.sortBy == \'!Status\'"></i>\r\n                    </a>\r\n                </th>\r\n                <th scope="col">\r\n                    <a href="#" role="button" ng-click="myOrders.updateSort(\'DateCreated\')">\r\n                        Date Submitted\r\n                        <i class="fa fa-caret-down" ng-show="myOrders.parameters.sortBy == \'DateCreated\'"></i>\r\n                        <i class="fa fa-caret-up" ng-show="myOrders.parameters.sortBy == \'!DateCreated\'"></i>\r\n                    </a>\r\n                </th>\r\n                <th scope="col">Total</th>\r\n                <th></th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr ng-repeat="order in myOrders.list.Items">\r\n                <td class="actions-cell">\r\n                    <ordercloud-favorite-order current-user="base.currentUser" order="order"></ordercloud-favorite-order>\r\n                </td>\r\n                <th scope="row">{{order.ID}}</th>\r\n                <td data-title="Status">{{order.Status}}</td>\r\n                <td data-title="Date Created/Submitted">{{(order.DateSubmitted ||  order.DateCreated) | date}}</td>\r\n                <td data-title="Total">{{order.Total | currency}}</td>\r\n                <td class="actions-cell">\r\n                    <button class="btn btn-default btn-sm" ui-sref="myOrders.detail({orderid: order.ID})">View Order</button>\r\n                </td>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n        <div class="text-center" ng-if="application.$ocMedia(\'min-width:768px\') && myOrders.list.Meta.TotalPages > 1">\r\n            <uib-pagination boundary-links="myOrders.list.Meta.TotalPages > 5"\r\n                            max-size="5" total-items="myOrders.list.Meta.TotalCount"\r\n                            items-per-page="myOrders.list.Meta.PageSize"\r\n                            ng-model="myOrders.list.Meta.Page"\r\n                            ng-change="myOrders.pageChanged(myOrders.list.Meta.Page)"></uib-pagination>\r\n        </div>\r\n        <button type="button"\r\n                ng-if="application.$ocMedia(\'max-width:767px\')"\r\n                class="btn btn-default btn-block btn-lg"\r\n                ng-show="myOrders.list.Meta.Page < myOrders.list.Meta.TotalPages"\r\n                ng-click="myOrders.loadMore()">Load More</button>\r\n    </div>\r\n</article>'),
$templateCache.put("myPayments/templates/myPayments.tpl.html",'<article id="myPayments">\r\n    <div >\r\n        <!--PERSONAL CREDIT CARDS-->\r\n        <button class="btn btn-primary pull-right" ng-click="myPayments.createCreditCard()"><i\r\n                class="fa fa-plus-circle"></i> New Credit Card\r\n        </button>\r\n        <h3><i class="fa fa-credit-card"></i> Personal Credit Cards</h3>\r\n        <hr>\r\n        <div class="panel panel-default" ng-repeat="creditCard in myPayments.personalCreditCards.Items" cg-busy="myPayments.loading[$index]">\r\n            <div class="panel-body">\r\n                <div class="row">\r\n                    <div class="col-xs-2 col-sm-1 text-center">\r\n                        <i class="fa fa-2x {{creditCard.CardType | faCreditCard}}"></i>\r\n                    </div>\r\n                    <div class="col-xs-6 col-sm-8">\r\n                        <b>{{creditCard.CardholderName}}</b> <br ng-if="creditCard.CardholderName">\r\n                        <span class="text-muted">{{\'XXXX-XXXX-XXXX-\' + creditCard.PartialAccountNumber}}</span><br>\r\n                        <small class="text-muted">Expires On: {{creditCard.ExpirationDate | date:\'MM/yy\'}}</small>\r\n                    </div>\r\n                    <div class="col-xs-4 col-sm-3 text-right">\r\n                        <a href="" ng-click="myPayments.delete(this)">Delete</a> |\r\n                        <a href="" ng-click="myPayments.edit(this)">Edit</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="no-matches" ng-if="!myPayments.personalCreditCards">\r\n        You have not created any personal credit cards. <br>\r\n        <a href="" ng-click="myPayments.createCreditCard()">Creat one now!</a>\r\n    </div>\r\n    <br  ng-if="myPayments.personalSpendingAccounts">\r\n    <div ng-if="myPayments.personalSpendingAccounts">\r\n        <h3><i class="fa fa-money"></i> Available Spending Accounts</h3>\r\n        <hr>\r\n        <div class="panel panel-default" ng-repeat="spendingAccount in myPayments.personalSpendingAccounts.Items">\r\n            <div class="panel-body">\r\n                <div class="row">\r\n                    <div class="col-xs-6">\r\n                        <b>{{spendingAccount.Name}}</b>\r\n                        <div class="text-muted">\r\n                            <small ng-if="spendingAccount.StartDate && spendingAccount.EndDate">\r\n                                Lifetime: {{spendingAccount.StartDate | date:\'shortDate\'}} - {{spendingAccount.EndDate | date :\'shortDate\'}}\r\n                            </small>\r\n                            <small ng-if="spendingAccount.StartDate && !spendingAccount.EndDate">\r\n                                Made Available On: {{spendingAccount.StartDate | date:\'shortDate\'}}\r\n                            </small>\r\n                            <small ng-if="!spendingAccount.StartDate && spendingAccount.EndDate">\r\n                                Expires On: {{spendingAccount.EndDate | date :\'shortDate\'}}\r\n                            </small>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-xs-6 text-right">\r\n                        <!--TODO: remove the inline style here-->\r\n                        <p style="margin:0;" class="lead text-primary" ng-if="spendingAccount.Balance">{{spendingAccount.Balance | currency}}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <br ng-if="myPayments.giftCards">\r\n    <div ng-if="myPayments.giftCards">\r\n        <h3><i class="fa fa-gift"></i> Available Gift Cards</h3>\r\n        <hr>\r\n        <div class="panel panel-default" ng-repeat="giftCard in myPayments.giftCards.Items">\r\n            <div class="panel-body">\r\n                <div class="row">\r\n                    <div class="col-xs-6">\r\n                        <b>{{giftCard.Name}}</b><br>\r\n                        <span>Redemption Code: <span class="text-primary">{{giftCard.RedemptionCode}}</span></span>\r\n                        <div class="text-muted">\r\n                            <small ng-if="giftCard.StartDate && giftCard.EndDate">\r\n                                Lifetime: {{giftCard.StartDate | date:\'shortDate\'}} - {{giftCard.EndDate | date :\'shortDate\'}}\r\n                            </small>\r\n                            <small ng-if="giftCard.StartDate && !giftCard.EndDate">\r\n                                Made Available On: {{giftCard.StartDate | date:\'shortDate\'}}\r\n                            </small>\r\n                            <small ng-if="!giftCard.StartDate && giftCard.EndDate">\r\n                                Expires On: {{giftCard.EndDate | date :\'shortDate\'}}\r\n                            </small>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-xs-6 text-right">\r\n                        <p style="margin:0;" class="lead text-primary" ng-if="giftCard.Balance">{{giftCard.Balance | currency}}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <br>\r\n</article>'),$templateCache.put("myPayments/templates/myPaymentsCreditCard.create.modal.tpl.html",'<form name="myPaymentsCreditCardCreateModalForm" ng-submit="createCreditCard.submit()" cg-busy="createCreditCard.loading" >\r\n    <div class="modal-header">\r\n        <button type="button" class="close" aria-label="Close" ng-click="createCreditCard.cancel()"><span aria-hidden="true">&times;</span></button>\r\n        <h3 class="modal-title">New Credit Card</h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <fieldset>\r\n            <div class="row">\r\n                <div class="form-group col-md-6">\r\n                    <label for="cardHolderNameInput">Card Holder Name</label>\r\n                    <input type="text"\r\n                           class="form-control"\r\n                           ng-model="createCreditCard.creditCard.CardholderName"\r\n                           disable-validation-message="">\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="form-group col-md-6">\r\n                    <label for="creditCardNumberInput">Card Number</label>\r\n                    <input type="text"\r\n                           class="form-control"\r\n                           ng-model="createCreditCard.creditCard.CardNumber"\r\n                           payments-validate="card"\r\n                           payments-format="card"\r\n                           payments-type-model="createCreditCard.creditCard.CardType"\r\n                           ng-class="createCreditCard.creditCard.CardType"\r\n                           disable-validation-message=""/>\r\n                </div>\r\n                <div class="form-group col-md-3">\r\n                   <div class="form-group">\r\n                       <label for="cardCode">Security Code</label>\r\n                       <input type="text"\r\n                              class="form-control"\r\n                              ng-model="createCreditCard.creditCard.CardCode"\r\n                              payments-validate="cvc"\r\n                              payments-format="cvc"\r\n                              payments-type-model="type"\r\n                              disable-validation-message=""/>\r\n\r\n                   </div>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="form-group col-xs-3">\r\n                    <label for="creditCardExpirationMonth">Expiration Month</label>\r\n                    <select id="creditCardExpirationMonth"\r\n                            class="form-control"\r\n                            required\r\n                            ng-model="createCreditCard.creditCard.ExpirationMonth"\r\n                            ng-options="month.string as month.string for month in createCreditCard.creditCardInfo.ExpirationMonths">\r\n                        <!--ng-change="createCreditCard.expirationDateChange(this.$index)"-->\r\n                    </select>\r\n                </div>\r\n                <div class="form-group col-xs-3">\r\n                    <label for="creditCardExpirationYear">Expiration Year</label>\r\n                    <select id="creditCardExpirationYear"\r\n                            class="form-control"\r\n                            required\r\n                            ng-model="createCreditCard.creditCard.ExpirationYear"\r\n                            ng-options="year as year for year in createCreditCard.creditCardInfo.ExpirationYears">\r\n                        <!--ng-change="checkoutPayment.expirationDateChange(this.$index)"-->\r\n                    </select>\r\n                </div>\r\n        </fieldset>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="submit" class="btn btn-primary btn-block" ng-disabled="myPaymentsCreditCardCreateModalForm.$invalid">Save</button>\r\n    </div>\r\n</form>\r\n\r\n'),$templateCache.put("myPayments/templates/myPaymentsCreditCard.edit.modal.tpl.html",'<form name="myPaymentsCreditCardCreateModalForm" ng-submit="editCreditCard.submit()" cg-busy="editCreditCard.loading">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" aria-label="Close" ng-click="editCreditCard.cancel()"><span\r\n                aria-hidden="true">&times;</span></button>\r\n        <h3 class="modal-title">Edit your\r\n            {{editCreditCard.creditCard.CardType}}...{{editCreditCard.creditCard.PartialAccountNumber}}</h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <fieldset>\r\n            <div class="row">\r\n                <div class="form-group col-md-6">\r\n                    <label for="cardHolderNameInput">Card Holder Name</label>\r\n                    <input type="text"\r\n                           class="form-control"\r\n                           ng-model="editCreditCard.creditCard.CardholderName"\r\n                           disable-validation-message="">\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="form-group col-md-6">\r\n                    <label for="creditCardNumberInput">Card Number</label>\r\n                    <input type="text"\r\n                           class="form-control"\r\n                           ng-model="editCreditCard.creditCard.CardNumber"\r\n                           payments-validate="card"\r\n                           payments-format="card"\r\n                           payments-type-model="editCreditCard.creditCard.CardType"\r\n                           ng-class="editCreditCard.creditCard.CardType"\r\n                           disable-validation-message=""/>\r\n                </div>\r\n                <div class="form-group col-md-3">\r\n                    <div class="form-group">\r\n                        <label for="cardCode">Security Code</label>\r\n                        <input type="text"\r\n                               class="form-control"\r\n                               ng-model="editCreditCard.creditCard.CardCode"\r\n                               payments-validate="cvc"\r\n                               payments-format="cvc"\r\n                               payments-type-model="type"\r\n                               disable-validation-message=""/>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="form-group col-xs-3">\r\n                    <label for="creditCardExpirationMonth">Expiration Month</label>\r\n                    <select id="creditCardExpirationMonth"\r\n                            class="form-control"\r\n                            required\r\n                            ng-model="editCreditCard.creditCard.ExpirationMonth"\r\n                            ng-options="month.string as month.string for month in editCreditCard.creditCardInfo.ExpirationMonths">\r\n                        <!--ng-change="createCreditCard.expirationDateChange(this.$index)"-->\r\n                    </select>\r\n                </div>\r\n                <div class="form-group col-xs-3">\r\n                    <label for="creditCardExpirationYear">Expiration Year</label>\r\n                    <select id="creditCardExpirationYear"\r\n                            class="form-control"\r\n                            required\r\n                            ng-model="editCreditCard.creditCard.ExpirationYear"\r\n                            ng-options="year as year for year in editCreditCard.creditCardInfo.ExpirationYears">\r\n                        <!--ng-change="checkoutPayment.expirationDateChange(this.$index)"-->\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="submit" class="btn btn-primary btn-block" ng-disabled="myPaymentsCreditCardCreateModalForm.$invalid">Save</button>\r\n    </div>\r\n</form>\r\n\r\n'),$templateCache.put("productBrowse/templates/mobileCategory.modal.tpl.html",'<div class="modal-header">\r\n    <button type="button" class="close" ng-click="mobileCategoryModal.cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n    <h4 class="modal-title">Categories</h4>\r\n</div>\r\n<div class="modal-body">\r\n    <treecontrol class="oc-tree"\r\n                 tree-model="mobileCategoryModal.treeConfig.treeData"\r\n                 options="mobileCategoryModal.treeConfig.treeOptions"\r\n                 selected-node="mobileCategoryModal.treeConfig.selectedNode"\r\n                 expanded-nodes="mobileCategoryModal.treeConfig.expandedNodes"\r\n                 on-selection="mobileCategoryModal.selectNode(node)">\r\n        {{node.Name}}\r\n    </treecontrol>\r\n</div>\r\n'),$templateCache.put("productBrowse/templates/productBrowse.tpl.html",'<article>\r\n    <ol class="breadcrumb">\r\n        <li>\r\n            <a href="" ui-sref="productBrowse.products({categoryid:category.ID})">All Products</a>\r\n        </li>\r\n        <li ng-repeat="crumb in productBrowse.breadcrumb">\r\n            <a href="" ui-sref="productBrowse.products({categoryid:crumb.ID})">{{crumb.Name}}</a>\r\n        </li>\r\n    </ol>\r\n    <div class="row">\r\n        <!--TODO: Waiting for EX-980 to be complete for the catalog select directory-->\r\n        <!--<ordercloud-select-catalog></ordercloud-select-catalog>-->\r\n\r\n        <div class="category-modal" ng-if="application.$ocMedia(\'max-width:991px\')" style="padding-bottom: 10px;">\r\n            <a class="btn btn-block btn-default" ng-click="productBrowse.openCategoryModal()">\r\n                {{breadcrumb[0].Name || "Category Select"}}  <i class="fa fa-angle-down"></i>\r\n            </a>\r\n        </div>\r\n\r\n        <!--START CATEGORY TREE-->\r\n        <aside class="col-md-3 visible-md visible-lg">\r\n            <div class="panel panel-default" hl-sticky anchor="top" offset-top="70" stick-limit="true" media-query="min-width: 992px">\r\n                <div class="panel-heading">\r\n                    <b class="panel-title">Categories</b>\r\n                </div>\r\n                <treecontrol class="oc-tree"\r\n                             tree-model="productBrowse.treeConfig.treeData"\r\n                             options="productBrowse.treeConfig.treeOptions"\r\n                             selected-node="productBrowse.treeConfig.selectedNode"\r\n                             expanded-nodes="productBrowse.treeConfig.expandedNodes"\r\n                             on-selection="productBrowse.treeConfig.selectNode(node)">\r\n                    {{node.Name}}\r\n                </treecontrol>\r\n                <div class="panel-heading">\r\n                    <b class="panel-title">Refine By</b>\r\n                </div>\r\n                <ul class="list-group">\r\n                    <li class="list-group-item">\r\n                        <span ng-click="productBrowse.toggleFavorites()">\r\n                            <i class="fa" ng-class="{\'fa-heart-o text-muted\': !productBrowse.parameters.favorites, \'fa-heart text-danger\': productBrowse.parameters.favorites}"></i> My Favorites\r\n                        </span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </aside>\r\n        <!--END CATEGORY TREE-->\r\n\r\n        <!--PRODUCT LIST VIEW-->\r\n        <div class="col-md-9" cg-busy="application.stateLoading(\'productBrowse\')" ui-view></div>\r\n    </div>\r\n</article>\r\n'),$templateCache.put("productBrowse/templates/productView.tpl.html",'<!--START FILTERS-->\r\n<div class="form-group">\r\n    <form class="form-inline pull-right">\r\n        <fieldset class="form-group">\r\n            <label for="SortSelect">Sort By:</label>\r\n            <div style="display:inline-table" ng-class="{\'input-group\':productView.sortSelection}">\r\n                <select id="SortSelect" class="form-control" ng-model="productView.sortSelection"\r\n                        ng-change="productView.updateSort()">\r\n                    <option value="" ng-show="productView.sortSelection">None</option>\r\n                    <option value="ID">ID</option>\r\n                    <option value="Name">Name</option>\r\n                </select>\r\n                <div ng-if="productView.sortSelection" class="input-group-btn">\r\n                    <button class="btn btn-default" ng-click="productView.reverseSort()">\r\n                        <i class="fa" ng-class="{\r\n                        \'fa-sort-alpha-asc\': productView.sortSelection == \'Name\' && productView.parameters.sortBy == \'Name\',\r\n                        \'fa-sort-alpha-desc\': productView.sortSelection == \'Name\' && productView.parameters.sortBy == \'!Name\',\r\n                        \'fa-sort-numeric-asc\': productView.sortSelection == \'ID\' && productView.parameters.sortBy == \'ID\',\r\n                        \'fa-sort-numeric-desc\': productView.sortSelection == \'ID\' && productView.parameters.sortBy == \'!ID\'\r\n                        }"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n    </form>\r\n    <!--END FILTERS-->\r\n    <h5 class="pull-left"><b>{{(application.$ocMedia(\'min-width:768px\') ? productView.list.Meta.ItemRange[0] : \'1\') + \' - \' +  productView.list.Meta.ItemRange[1] + \' of \' + productView.list.Meta.TotalCount + \' results\'}}</b></h5>\r\n    <div class="clearfix"></div>\r\n</div>\r\n\r\n\r\n<!--START PRODUCTS LIST-->\r\n<div ng-init="productBrowse.treeConfig.initBreadcrumbs(productView.parameters.categoryid)">\r\n    <div class="no-matches" ng-if="!productView.list.Items.length">\r\n        <b>No products found.</b>\r\n    </div>\r\n    <div ng-if="productView.list.Items.length">\r\n        <div class="row l-product-grid">\r\n            <div class=" col-xs-6 col-md-4 col-lg-3 l-product-grid__item"\r\n                 ng-repeat="product in productView.list.Items"\r\n                 ng-include="\'common/templates/card.product.tpl.html\'">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!--Pagination-->\r\n<div class="text-center" ng-if="application.$ocMedia(\'min-width:768px\') && productView.list.Meta.TotalPages > 1">\r\n    <uib-pagination boundary-links="productView.list.Meta.TotalPages > 5"\r\n                    max-size="5" total-items="productView.list.Meta.TotalCount"\r\n                    items-per-page="productView.list.Meta.PageSize"\r\n                    ng-model="productView.list.Meta.Page"\r\n                    ng-change="productView.pageChanged()"></uib-pagination>\r\n</div>\r\n<button type="button"\r\n        ng-if="application.$ocMedia(\'max-width:767px\')"\r\n        class="btn btn-default btn-block btn-lg"\r\n        ng-show="productView.list.Meta.Page < productView.list.Meta.TotalPages"\r\n        ng-click="productView.loadMore()">Load More\r\n</button>\r\n<!--END PRODUCTS LIST-->'),$templateCache.put("productDetail/templates/productDetail.tpl.html",'<form name="OCProductForm" ng-submit="productDetail.addToCart()" id="product_view" autocomplete="off" novalidate>\r\n    <h1>{{productDetail.item.Name || productDetail.item.ID}} <small ng-if="productDetail.item.Name">{{productDetail.item.ID}}</small>\r\n        <ordercloud-favorite-product product="productDetail.item" current-user="base.currentUser"></ordercloud-favorite-product>\r\n    </h1>\r\n    <hr>\r\n    <div class="row">\r\n        <div class="col-md-6">\r\n            <!--PRODUCT IMAGE-->\r\n            <div class="thumbnail">\r\n                <img class="img-responsive" alt="{{productDetail.item.xp.image.Name || \'Product Image\'}}"\r\n                     ng-src="{{productDetail.item.xp.image.URL || \'http://placehold.it/600x600?text=\' + productDetail.item.Name}}">\r\n            </div>\r\n        </div>\r\n        <div class="col-md-6">\r\n            <div class="panel panel-default" ng-if="productDetail.item.Description">\r\n                <div class="panel-heading">\r\n                    <h3 class="panel-title">Description</h3>\r\n                </div>\r\n                <div class="panel-body">\r\n                    {{productDetail.item.Description}}\r\n                </div>\r\n            </div>\r\n            <div class="panel panel-default" ng-if="productDetail.item.StandardPriceSchedule.PriceBreaks">\r\n                <div class="panel-heading">\r\n                    <h3 class="panel-title">Price Breaks</h3>\r\n                </div>\r\n                <table class="table">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>Quantity</th>\r\n                        <th>Price</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr ng-repeat="priceBreak in productDetail.item.StandardPriceSchedule.PriceBreaks">\r\n                        <td>{{priceBreak.Quantity}}</td>\r\n                        <td>{{priceBreak.Price | currency}}</td>\r\n                    </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <oc-spec-form product="productDetail.item"></oc-spec-form>\r\n            <fieldset class="form-group">\r\n                <oc-quantity-input product="productDetail.item" label="Quantity"></oc-quantity-input>\r\n            </fieldset>\r\n            <fieldset class="form-group">\r\n                <button type="submit" class="btn btn-block btn-success">Add to Cart  <span ng-if="productDetail.item.Quantity"  class="badge badge-success">{{productDetail.findPrice(productDetail.item.Quantity) | currency}}</span></button>\r\n            </fieldset>\r\n        </div>\r\n    </div>\r\n</form>'),$templateCache.put("productQuickView/templates/productQuickView.modal.tpl.html",'<form name="OCProductForm" ng-submit="productQuickView.addToCart()" autocomplete="off" novalidate>\r\n	<div class="modal-header">\r\n		<button type="button" class="close" ng-click="productQuickView.cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n		<h1>{{productQuickView.item.Name || productQuickView.item.ID}} <small ng-if="productQuickView.item.Name">{{productQuickView.item.ID}}</small></h1>\r\n	</div>\r\n	<div class="modal-body">\r\n		<div class="row">\r\n			<div class="col-md-6">\r\n				<!--PRODUCT IMAGE-->\r\n				<div class="thumbnail">\r\n					<img class="img-responsive" alt="{{productQuickView.item.xp.image.Name || \'Product Image\'}}"\r\n						 ng-src="{{productQuickView.item.xp.image.URL || \'http://placehold.it/600x600?text=\' + productQuickView.item.Name}}">\r\n				</div>\r\n			</div>\r\n			<div class="col-md-6">\r\n				<div class="panel panel-default" ng-if="productQuickView.item.Description">\r\n					<div class="panel-heading">\r\n						<h3 class="panel-title">Description</h3>\r\n					</div>\r\n					<div class="panel-body">\r\n						{{productQuickView.item.Description}}\r\n					</div>\r\n				</div>\r\n				<div class="panel panel-default" ng-if="productQuickView.item.StandardPriceSchedule.PriceBreaks">\r\n					<div class="panel-heading">\r\n						<h3 class="panel-title">Price Breaks</h3>\r\n					</div>\r\n					<table class="table">\r\n						<thead>\r\n						<tr>\r\n							<th>Quantity</th>\r\n							<th>Price</th>\r\n						</tr>\r\n						</thead>\r\n						<tbody>\r\n						<tr ng-repeat="priceBreak in productQuickView.item.StandardPriceSchedule.PriceBreaks">\r\n							<td>{{priceBreak.Quantity}}</td>\r\n							<td>{{priceBreak.Price}}</td>\r\n						</tr>\r\n						</tbody>\r\n					</table>\r\n				</div>\r\n				<oc-spec-form product="productQuickView.item"></oc-spec-form>\r\n				<fieldset class="form-group">\r\n					<oc-quantity-input product="productQuickView.item" label="Quantity"></oc-quantity-input>\r\n				</fieldset>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div class="modal-footer">\r\n		<button type="submit" class="btn btn-block btn-success">Add to Cart  <span ng-if="productQuickView.item.Quantity"  class="badge badge-success">{{productQuickView.findPrice(productQuickView.item.Quantity) | currency}}</span></button>\r\n	</div>\r\n</form>'),$templateCache.put("productSearch/templates/productSearch.component.tpl.html",'<form action="." name="OrderCloudProductSearch" class="c-productsearch c-typeahead" ng-submit="$ctrl.onHardEnter($ctrl.searchTerm)" pretty-submit>\r\n    <div class="form-group" ng-class="{open:noResults}">\r\n        <input type="search"\r\n                class="form-control"\r\n                placeholder="Search Products..."\r\n                ng-model="$ctrl.searchTerm"\r\n                uib-typeahead="product as product.Name for product in $ctrl.getSearchResults()"\r\n                disable-validation-message\r\n                typeahead-append-to="\'.c-typeahead__results\'"\r\n                typeahead-on-select="$ctrl.onSelect($item.ID)"\r\n                typeahead-focus-first="false"\r\n                typeahead-wait-ms="300"\r\n                typeahead-no-results="noResults"\r\n                typeahead-loading="loading"\r\n                typeahead-template-url="productSearch/templates/productSearch.typeahead.tpl.html"\r\n        />\r\n        <button class="sr-only" type="submit" value="Search"></button>\r\n        <div class="c-typeahead__results">\r\n            <div class="c-typeahead__results--empty" ng-if="$ctrl.searchTerm && noResults">\r\n                <span>No matches found</span>\r\n            </div>\r\n            <div class="c-typeahead__results--loading" ng-if="loading">\r\n                <div class="indicator-container">\r\n                    <div class="indicator">\r\n                        <div class="animation">\r\n                            <div class="dot"></div>\r\n                            <div class="dot"></div>\r\n                            <div class="dot"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n'),$templateCache.put("productSearch/templates/productSearch.modal.tpl.html",'<div class="modal-header">\r\n    <button type="button" class="close" ng-click="$ctrl.cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n    <h4 class="modal-title">Search</h4>\r\n</div>\r\n<div class="modal-body">\r\n    <form class="c-typeahead__form" name="OrderCloudProductSearch" id="OrderCloudProductSearch" autocomplete="off" autocorrect="off" ng-submit="$ctrl.onHardEnter($ctrl.searchTerm)">\r\n        <fieldset class="form-group">\r\n            <label for="ProductSearchInput" class="sr-only">Search Products</label>\r\n            <input type="text" id="ProductSearchInput" class="form-control" ng-model="$ctrl.searchTerm"\r\n                uib-typeahead="product as product.Name for product in $ctrl.getSearchResults()" typeahead-append-to="\'.c-typeahead__results\'"\r\n                typeahead-on-select="$ctrl.onSelect($item.ID)" typeahead-focus-first="false" typeahead-wait-ms="300" typeahead-no-results="noResults"\r\n                typeahead-loading="loading" typeahead-template-url="productSearch/templates/productSearch.typeahead.tpl.html"\r\n            />\r\n        </fieldset>\r\n        <button class="sr-only" type="submit" value="Search"></button>\r\n    </form>\r\n    <div class="c-typeahead__results">\r\n        <div class="c-typeahead__results--empty" ng-if="$ctrl.searchTerm && noResults">\r\n            <span>No matches found</span>\r\n        </div>\r\n        <div class="c-typeahead__results--loading" ng-if="loading">\r\n            <div class="indicator-container">\r\n                <div class="indicator">\r\n                    <div class="animation">\r\n                        <div class="dot"></div>\r\n                        <div class="dot"></div>\r\n                        <div class="dot"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),$templateCache.put("productSearch/templates/productSearch.results.tpl.html",'<article>\r\n    <!-- Page Header -->\r\n    <div class="page-header">\r\n        <h3>Products</h3>\r\n    </div>\r\n    <div ng-if="productSearch.list.Items.length">\r\n        <!-- Sorting and Display Options -->\r\n        <!--START FILTERS-->\r\n        <div class="form-group">\r\n            <form class="form-inline pull-right">\r\n                <fieldset class="form-group">\r\n                    <label for="SortSelect">Sort By:</label>\r\n                    <div style="display:inline-table" ng-class="{\'input-group\':productSearch.sortSelection}">\r\n                        <select id="SortSelect" class="form-control" ng-model="productSearch.sortSelection"\r\n                                ng-change="productSearch.updateSort()">\r\n                            <option value="" ng-show="productSearch.sortSelection">None</option>\r\n                            <option value="ID">ID</option>\r\n                            <option value="Name">Name</option>\r\n                        </select>\r\n                        <div ng-if="productSearch.sortSelection" class="input-group-btn">\r\n                            <button class="btn btn-default" ng-click="productSearch.reverseSort()">\r\n                                <i class="fa" ng-class="{\r\n                        \'fa-sort-alpha-asc\': productSearch.sortSelection == \'Name\' && productSearch.parameters.sortBy == \'Name\',\r\n                        \'fa-sort-alpha-desc\': productSearch.sortSelection == \'Name\' && productSearch.parameters.sortBy == \'!Name\',\r\n                        \'fa-sort-numeric-asc\': productSearch.sortSelection == \'ID\' && productSearch.parameters.sortBy == \'ID\',\r\n                        \'fa-sort-numeric-desc\': productSearch.sortSelection == \'ID\' && productSearch.parameters.sortBy == \'!ID\'\r\n                        }"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </fieldset>\r\n            </form>\r\n            <!--END FILTERS-->\r\n            <h5 class="pull-left"><b>{{(application.$ocMedia(\'min-width:768px\') ? productSearch.list.Meta.ItemRange[0] : \'1\') + \' - \' +  productSearch.list.Meta.ItemRange[1] + \' of \' + productSearch.list.Meta.TotalCount + \' results\'}}</b></h5>\r\n            <div class="clearfix"></div>\r\n        </div>\r\n\r\n\r\n        <!-- Product List -->\r\n        <div class="row l-product-grid">\r\n            <div class="col-sm-6 col-md-4 col-lg-3 l-product-grid__item"\r\n                 ng-repeat="product in productSearch.list.Items"\r\n                 ng-include="\'common/templates/card.product.tpl.html\'">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- No Results Found -->\r\n    <div ng-if="!productSearch.list.Items.length" class="well well-lg text-center">\r\n        <b><i class="fa fa-search"></i> No products or categories match your search.</b>\r\n    </div>\r\n    <!-- Pagination -->\r\n    <uib-pagination \r\n        boundary-links="productSearch.list.Meta.TotalPages > 5" \r\n        max-size="5" total-items="productSearch.list.Meta.TotalCount" \r\n        items-per-page="productSearch.list.Meta.PageSize" \r\n        ng-model="productSearch.list.Meta.Page" \r\n        ng-change="productSearch.pageChanged(productSearch.list.Meta.Page)"\r\n        ng-if="productSearch.list.Meta.TotalPages > 1">\r\n    </uib-pagination>\r\n</article>'),
$templateCache.put("productSearch/templates/productSearch.typeahead.tpl.html",'<a href\r\n   tabindex="-1"\r\n   ng-attr-title="{{match.label">\r\n	<h4 ng-bind-html="(match.model.Name | uibTypeaheadHighlight:query) + \'<br/><small>\' + (match.model.ID | uibTypeaheadHighlight:query) + \'</small>\'"></h4>\r\n</a>'),$templateCache.put("repeatOrder/templates/repeatOrder.component.html",'<div class="btn btn-primary" ng-click="$ctrl.openReorderModal()">Reorder</div>'),$templateCache.put("repeatOrder/templates/repeatOrder.modal.html",'<form name="repeatOrderModalForm" ng-submit="repeatModal.submit(repeatModal.validLI, repeatModal.orderid)" cg-busy="repeatModal.loading">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" aria-label="Close" ng-click="repeatModal.cancel()"><span aria-hidden="true">&times;</span></button>\r\n        <h3 class="modal-title">Reorder</h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div ng-if="!repeatModal.invalidLI.length" class="alert alert-success">\r\n            All line items are valid to reorder\r\n        </div>\r\n        <div ng-if="!repeatModal.validLI.length" class="alert alert-danger">\r\n            None of the line items on this order are available for reorder.\r\n        </div>\r\n        <div ng-if="repeatModal.invalidLI.length && repeatModal.validLI.length">\r\n            <div class="alert alert-warning">\r\n                <strong>Warning</strong> The following line items are not available for reorder, clicking add to cart will <strong>only</strong> add valid line items.\r\n            </div>\r\n            <table class="table table-striped table-bordered">\r\n                <thead class="thead-inverse">\r\n                <tr>\r\n                    <th>Product ID</th>\r\n                    <th>Quantity</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr ng-repeat="li in repeatModal.invalidLI track by $index">\r\n                    <td>{{li.ProductID}}</td>\r\n                    <td>{{li.Quantity}}</td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="submit" ng-disabled="!repeatModal.validLI.length" class="btn btn-primary btn-block">Add to Cart</button>\r\n    </div>\r\n</form>'),$templateCache.put("checkout/confirmation/templates/checkout.confirmation.tpl.html",'<article>\r\n	<h2 class="page-header">\r\n		Order Submitted <br>\r\n		<small>Thank you for your order. Check your <a href="" ui-sref="myOrders.detail({orderid:checkoutConfirmation.order.ID})">order history</a> to track your delivery!</small>\r\n	</h2>\r\n	<div class="row">\r\n		<div class="col-md-5">\r\n			<h5>Order ID: <span class="pull-right">{{checkoutConfirmation.order.ID}}</span></h5>\r\n			<h5>Date Submitted: <span class="pull-right">{{checkoutConfirmation.order.DateSubmitted | date:\'short\'}}</span></h5>\r\n			<h5>Subtotal: <span class="pull-right">{{checkoutConfirmation.order.Subtotal | currency}}</span></h5>\r\n			<h5 ng-if="checkoutConfirmation.order.ShippingCost" class="text-muted">Shipping: <span class="pull-right"> + {{checkoutConfirmation.order.ShippingCost | currency}}</span></h5>\r\n			<h5 ng-repeat="promotion in checkoutConfirmation.promotions" class="text-danger">\r\n				{{promotion.Code}}\r\n				<span class="pull-right">- {{promotion.Amount | currency}}</span></h5>\r\n			<hr>\r\n			<h4>Total: <b class="pull-right text-primary">{{checkoutConfirmation.order.Total | currency}}</b></h4>\r\n			<hr>\r\n			<h4>\r\n				<ng-pluralize count="checkoutConfirmation.payments.length"\r\n							  when="{\r\n								  \'1\': \'Payment\',\r\n								  \'other\': \'{} Payments\'\r\n							  }"></ng-pluralize>\r\n			</h4>\r\n			<hr>\r\n			<div ng-repeat="payment in checkoutConfirmation.payments">\r\n				<p>{{payment.Type | humanize}} <b class="pull-right text-primary">{{payment.Amount | currency}}</b></p>\r\n\r\n				<p ng-if="payment.xp.PONumber"><b>PO#:</b> {{payment.xp.PONumber}}</p>\r\n\r\n				<p ng-if="payment.Type == \'CreditCard\'">\r\n					<i style="font-size:1.3em;" class="fa {{payment.Details.CardType | faCreditCard}} pull-left"></i>\r\n					<span class="text-muted">XXXX-XXXX-XXXX-</span>{{payment.Details.PartialAccountNumber}}\r\n				</p>\r\n\r\n				<p ng-if="payment.Type == \'SpendingAccount\'">\r\n					{{payment.Details.Name}} <br>\r\n					<small><span class="text-muted">Remaining Balance:</span> {{payment.Details.Balance | currency}}</small>\r\n				</p>\r\n				<hr ng-if="!$last">\r\n			</div>\r\n			<hr class="visible-xs visisble-sm">\r\n		</div>\r\n		<div class="col-md-7">\r\n			<div class="row">\r\n				<div class="col-sm-6">\r\n					<h5>Delivery Address</h5>\r\n					<div class="panel panel-default">\r\n						<div class="panel-body">\r\n							<p ng-bind-html="checkoutConfirmation.shippingAddress | address:\'full\'"></p>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="col-sm-6">\r\n					<h5>Billing Address</h5>\r\n					<div class="panel panel-default">\r\n						<div class="panel-body">\r\n							<p ng-bind-html="checkoutConfirmation.billingAddress | address:\'full\'"></p>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<hr>\r\n	<h4>\r\n		<ng-pluralize count="checkoutConfirmation.order.LineItemCount"\r\n					  when="{\r\n							\'1\': \'1 Line Item\',\r\n							\'other\': \'{} Line Items\'\r\n						}"></ng-pluralize>\r\n	</h4>\r\n	<hr>\r\n	<div class="row  hidden-xs c-line-item__header">\r\n		<div class="col-xs-3 col-sm-2"></div>\r\n		<div class="col-xs-9 col-sm-10">\r\n			<div class="row">\r\n				<div class="col-sm-5 col-lg-6"><h6>Description</h6></div>\r\n				<div class="col-sm-7 col-lg-6">\r\n					<div class="row">\r\n						<div class="col-xs-4"><h6 class="text-right">Price</h6></div>\r\n						<div class="col-xs-4"><h6 class="text-center">Qty</h6></div>\r\n						<div class="col-xs-4"><h6 class="text-right">Total</h6></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n		<div class="col-xs-12">\r\n			<hr>\r\n		</div>\r\n	</div>\r\n	<div class="row c-line-item" ng-repeat="lineItem in checkoutConfirmation.lineItems.Items track by $index">\r\n		<div class="col-xs-3 col-sm-2">\r\n			<div class="thumbnail c-line-item__img">\r\n				<img class="img-responsive" ng-src="{{lineItem.xp.image.URL || \'http://placehold.it/100x100?text=\' + lineItem.Product.Name}}"\r\n					 alt="{{lineItem.Product.xp.image.Name || \'Product Image\'}}">\r\n			</div>\r\n		</div>\r\n		<div class="col-xs-9 col-sm-10">\r\n			<div class="row c-line-item__info c-line-item--centered">\r\n				<div class="col-sm-5 col-lg-6 c-line-item__info--top">\r\n					<h3 class="c-line-item__name">\r\n						<a href="#">{{lineItem.Product.Name}}</a>\r\n					</h3>\r\n					<small class="text-muted c-line-item__id">{{lineItem.ProductID}}</small>\r\n					<ul class="c-line-item__spec-list" ng-if="lineItem.Specs.length > 0">\r\n						<li class="c-line-item__spec" ng-repeat="spec in lineItem.Specs">\r\n							<small>{{spec.Name}}:</small>\r\n							<small>{{spec.Value}}</small>\r\n						</li>\r\n					</ul>\r\n				</div>\r\n				<div class="col-sm-7 col-lg-6 c-line-item__info--bottom">\r\n					<div class="row  c-line-item--centered">\r\n						<div class="col-xs-4">\r\n							<h4 class="c-line-item__price text-right">{{lineItem.UnitPrice | currency}}</h4>\r\n						</div>\r\n						<div class="col-xs-4 text-center">\r\n							<h4 class="c-line-item__qty-display ">\r\n								{{lineItem.Quantity}}\r\n							</h4>\r\n							<small class="help-block" ng-if="lineItem.Product.QuantityMultiplier > 1">\r\n								{{\'x \' + lineItem.Product.QuantityMultiplier + (lineItem.Quantity ? (\' (\' + (lineItem.Quantity * lineItem.Product.QuantityMultiplier) + \')\') : \'\')}}\r\n							</small>\r\n						</div>\r\n						<div class="col-xs-4">\r\n							<h4 class="c-line-item__total text-right">{{lineItem.LineTotal | currency}}</h4>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n		<div class="col-xs-12">\r\n			<hr>\r\n		</div>\r\n	</div>\r\n\r\n</article>\r\n'),$templateCache.put("checkout/payment/templates/checkout.payment.tpl.html",'<div ng-form="OC_Checkout_Payment" novalidate>\r\n    <div class="row">\r\n        <div class="col-md-8">\r\n            <div>\r\n                <h4>Payment</h4>\r\n                <oc-payments order="base.currentOrder"></oc-payments>\r\n            </div>\r\n            <hr>\r\n            <a href="" class="pull-right" ng-click="checkoutPayment.createAddress(base.currentOrder)"><i class="fa fa-plus-circle"></i> Create Address</a>\r\n            <h4>Billing Address</h4>\r\n            <div class="well text-center" ng-if="!checkout.billingAddress">\r\n                You currently do not have a billing address selected. <br />\r\n                <a href="" ng-click="checkoutPayment.changeBillingAddress(base.currentOrder)">Select one now</a>\r\n            </div>\r\n            <div class="panel panel-default" ng-if="checkout.billingAddress">\r\n                <div class="panel-body">\r\n                    <div class="pull-right">\r\n                        <a href="" ng-click="checkoutPayment.changeBillingAddress(base.currentOrder)">Change</a>\r\n                    </div>\r\n                    <p ng-bind-html="checkout.billingAddress | address:\'full\'"></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-md-4">\r\n            <div class="panel panel-default" hl-sticky anchor="top" offset-top="70" media-query="min-width: 992px">\r\n                <div class="panel-heading">\r\n                    <h3 class="panel-title">\r\n                        Order Summary\r\n                    </h3>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <p>\r\n                        <ng-pluralize count="base.currentOrder.LineItemCount" when="{\r\n							\'1\': \'Checking Out With 1 Item\',\r\n							\'other\': \'Checking Out With {} Items\'\r\n						}"></ng-pluralize>\r\n                    </p>\r\n                    <h5>Subtotal: <span class="pull-right">{{base.currentOrder.Subtotal | currency}}</span></h5>\r\n                    <h5 ng-if="base.currentOrder.ShippingCost" class="text-muted">Estimated Shipping: <span class="pull-right"> + {{base.currentOrder.ShippingCost | currency}}</span></h5>\r\n                    <h5 ng-repeat="promotion in checkout.promotions" class="text-danger">\r\n                        {{promotion.Code}}\r\n                        <span class="pull-right">- {{promotion.Amount | currency}}</span></h5>\r\n                    <hr>\r\n                    <h4>Estimated Total: <b class="pull-right text-primary">{{base.currentOrder.Total | currency}}</b></h4>\r\n                </div>\r\n                <div class="panel-footer">\r\n                    <button type="button" class="btn btn-primary form-control" ng-disabled="OC_Checkout_Payment.$invalid" ui-sref="checkout.review">Review Order</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),$templateCache.put("checkout/review/templates/checkout.review.tpl.html",'<div ng-form="OC_Checkout_Review">\r\n	<div class="row">\r\n		<div class="col-md-8">\r\n			<div class="row">\r\n				<div class="col-sm-6">\r\n					<h4>Delivery Address</h4>\r\n					<div class="panel panel-default">\r\n						<div class="panel-body">\r\n							<p ng-bind-html="checkout.shippingAddress | address:\'full\'"></p>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="col-sm-6">\r\n					<h4>Billing Address</h4>\r\n					<div class="panel panel-default">\r\n						<div class="panel-body">\r\n							<p ng-bind-html="checkout.billingAddress | address:\'full\'"></p>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<hr>\r\n			<div class="row  hidden-xs c-line-item__header">\r\n				<div class="col-xs-3 col-sm-2"></div>\r\n				<div class="col-xs-9 col-sm-10">\r\n					<div class="row">\r\n						<div class="col-sm-5 col-lg-6"><h6>Description</h6></div>\r\n						<div class="col-sm-7 col-lg-6">\r\n							<div class="row">\r\n								<div class="col-xs-4"><h6 class="text-right">Price</h6></div>\r\n								<div class="col-xs-4"><h6 class="text-center">Qty</h6></div>\r\n								<div class="col-xs-4"><h6 class="text-right">Total</h6></div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="col-xs-12">\r\n					<hr>\r\n				</div>\r\n			</div>\r\n			<div class="row c-line-item" ng-repeat="lineItem in checkoutReview.lineItems.Items track by $index">\r\n				<div class="col-xs-3 col-sm-2">\r\n					<div class="thumbnail c-line-item__img">\r\n						<img class="img-responsive" ng-src="{{lineItem.xp.image.URL || \'http://placehold.it/100x100?text=\' + lineItem.Product.Name}}"\r\n							 alt="{{lineItem.Product.xp.image.Name || \'Product Image\'}}">\r\n					</div>\r\n				</div>\r\n				<div class="col-xs-9 col-sm-10">\r\n					<div class="row c-line-item__info c-line-item--centered">\r\n						<div class="col-sm-5 col-lg-6 c-line-item__info--top">\r\n							<h3 class="c-line-item__name">\r\n								<a href="#">{{lineItem.Product.Name}}</a>\r\n							</h3>\r\n							<small class="text-muted c-line-item__id">{{lineItem.ProductID}}</small>\r\n							<ul class="c-line-item__spec-list" ng-if="lineItem.Specs.length > 0">\r\n								<li class="c-line-item__spec" ng-repeat="spec in lineItem.Specs">\r\n									<small>{{spec.Name}}:</small>\r\n									<small>{{spec.Value}}</small>\r\n								</li>\r\n							</ul>\r\n						</div>\r\n						<div class="col-sm-7 col-lg-6 c-line-item__info--bottom">\r\n							<div class="row  c-line-item--centered">\r\n								<div class="col-xs-4">\r\n									<h4 class="c-line-item__price text-right">{{lineItem.UnitPrice | currency}}</h4>\r\n								</div>\r\n								<div class="col-xs-4 text-center">\r\n									<h4 class="c-line-item__qty-display ">\r\n										{{lineItem.Quantity}}\r\n									</h4>\r\n									<small class="help-block" ng-if="lineItem.Product.QuantityMultiplier > 1">\r\n										{{\'x \' + lineItem.Product.QuantityMultiplier + (lineItem.Quantity ? (\' (\' + (lineItem.Quantity * lineItem.Product.QuantityMultiplier) + \')\') : \'\')}}\r\n									</small>\r\n								</div>\r\n								<div class="col-xs-4">\r\n									<h4 class="c-line-item__total text-right">{{lineItem.LineTotal | currency}}</h4>\r\n								</div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="col-xs-12">\r\n					<hr>\r\n				</div>\r\n			</div>\r\n		</div>\r\n		\r\n		<div class="col-md-4">\r\n			<div class="panel panel-default" hl-sticky anchor="top" offset-top="70" media-query="min-width: 992px">\r\n				<div class="panel-heading">\r\n					<h3 class="panel-title">\r\n						Order Summary\r\n					</h3>\r\n				</div>\r\n				<div class="panel-body">\r\n					<p>\r\n						<ng-pluralize count="base.currentOrder.LineItemCount" when="{\r\n							\'1\': \'Checking Out With 1 Item\',\r\n							\'other\': \'Checking Out With {} Items\'\r\n						}"></ng-pluralize>\r\n					</p>\r\n					<h5>Subtotal: <span class="pull-right">{{base.currentOrder.Subtotal | currency}}</span></h5>\r\n					<h5 ng-if="base.currentOrder.ShippingCost" class="text-muted">Estimated Shipping: <span class="pull-right"> + {{base.currentOrder.ShippingCost | currency}}</span></h5>\r\n					<h5 ng-repeat="promotion in checkout.promotions" class="text-danger">\r\n						{{promotion.Code}}\r\n						<span class="pull-right">- {{promotion.Amount | currency}}</span></h5>\r\n					<hr>\r\n					<h4>Total: <b class="pull-right text-primary">{{base.currentOrder.Total | currency}}</b></h4>\r\n					<hr>\r\n					<div ng-repeat="payment in checkoutReview.payments.Items">\r\n						<p>{{payment.Type | humanize}} <b class="pull-right text-primary">{{payment.Amount | currency}}</b></p>\r\n\r\n						<p ng-if="payment.xp.PONumber"><b>PO#:</b> {{payment.xp.PONumber}}</p>\r\n\r\n						<p ng-if="payment.Type == \'CreditCard\'">\r\n							<i style="font-size:1.3em;" class="fa {{payment.Details.CardType | faCreditCard}} pull-left"></i>\r\n							<span class="text-muted">XXXX-XXXX-XXXX-</span>{{payment.Details.PartialAccountNumber}}\r\n						</p>\r\n\r\n						<p ng-if="payment.Type == \'SpendingAccount\'">\r\n							{{payment.Details.Name}} <br>\r\n							<small><span class="text-muted">Remaining Balance:</span> {{payment.Details.Balance | currency}}</small>\r\n						</p>\r\n						<hr ng-if="!$last">\r\n					</div>\r\n				</div>\r\n				<div class="panel-footer">\r\n					<button type="button" class="btn btn-primary form-control" ng-disabled="false" ng-click="checkout.submitOrder(base.currentOrder)">Submit Order</button>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'),$templateCache.put("checkout/shipping/templates/checkout.shipping.tpl.html",'<div ng-form="OC_Checkout_Shipping" ng-init="checkoutShipping.initShippingRates(base.currentOrder)">\r\n    <div class="row">\r\n        <div class="col-md-8">\r\n            <div cg-busy="{promise:checkoutShipping.shippersLoading, message:\'Loading Shipping Rates\'}">\r\n                <a href="" class="pull-right" ng-click="checkoutShipping.createAddress(base.currentOrder)"><i class="fa fa-plus-circle"></i> New Address</a>\r\n                <h4>Delivery Address</h4>\r\n                <div class="panel panel-default" ng-if="checkout.shippingAddress">\r\n                    <div class="panel-body">\r\n                        <div class="pull-right">\r\n                            <a href="" ng-click="checkoutShipping.changeShippingAddress(base.currentOrder)">Change</a>\r\n                        </div>\r\n                        <p ng-bind-html="checkout.shippingAddress | address:\'full\'"></p>\r\n                    </div>\r\n                </div>\r\n                <div class="well text-center" ng-if="!checkout.shippingAddress">\r\n                    You currently do not have a shipping address selected. <br />\r\n                    <a href="" ng-click="checkoutShipping.changeShippingAddress(base.currentOrder)">Select one now</a>\r\n                </div>\r\n                <div ng-if="checkoutShipping.shippingRates.Rates.length">\r\n                    <hr>\r\n                    <h4>Shipping Method</h4>\r\n                    <form name="OCShippingRates">\r\n                        <fieldset class="form-group" ng-repeat="shipment in checkoutShipping.shippingRates">\r\n                            <label for="{{\'Shipper\' + $index}}" ng-if="checkoutShipping.shippingRates.length > 1">Shipment {{$index + 1}} ({{shipment.LineItemIDs.length}} Line Items)</label>\r\n                            <select id="{{\'Shipper\' + $index}}" class="form-control"\r\n                                    ng-model="shipment.SelectedShipper"\r\n                                    ng-options="shipper as (shipper.Description + \' (\' + (shipper.Price | currency) + \')\') for shipper in shipment.Rates"\r\n                                    ng-change="checkoutShipping.shipperSelected(base.currentOrder)"\r\n                                    required>\r\n                            </select>\r\n                        </fieldset>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-md-4">\r\n            <div class="panel panel-default" hl-sticky anchor="top" offset-top="70" media-query="min-width: 992px">\r\n                <div class="panel-heading">\r\n                    <h3 class="panel-title">\r\n                        Order Summary\r\n                    </h3>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <p>\r\n                        <ng-pluralize count="base.currentOrder.LineItemCount" when="{\r\n							\'1\': \'Checking Out With 1 Item\',\r\n							\'other\': \'Checking Out With {} Items\'\r\n						}"></ng-pluralize>\r\n                    </p>\r\n                    <h5>Subtotal: <span class="pull-right">{{base.currentOrder.Subtotal | currency}}</span></h5>\r\n                    <h5 ng-if="base.currentOrder.ShippingCost" class="text-muted">Estimated Shipping: <span class="pull-right"> + {{base.currentOrder.ShippingCost | currency}}</span></h5>\r\n                    <hr ng-if="checkout.promotions.length">\r\n                    <h5 ng-repeat="promotion in checkout.promotions" class="text-danger">\r\n                        {{promotion.Code}}\r\n                        <a href="" ng-click="checkout.removePromotion(base.currentOrder, promotion)">remove</a>\r\n                        <span class="pull-right">- {{promotion.Amount | currency}}</span></h5>\r\n                    <hr>\r\n                    <h4>Estimated Total: <b class="pull-right text-primary">{{base.currentOrder.Total | currency}}</b></h4>\r\n                </div>\r\n                <div class="panel-footer">\r\n                    <button type="button" class="btn btn-primary form-control" ng-disabled="!checkout.shippingAddress || checkoutShipping.shippersAreLoading || OC_Checkout_Shipping.$invalid" ui-sref="checkout.payment">Next</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),$templateCache.put("common/config/angular-busy/angular-busy.html",'<div class="indicator">\r\n	<div class="animation">\r\n		<div class="dot"></div>\r\n		<div class="dot"></div>\r\n		<div class="dot"></div>\r\n	</div>\r\n</div>\r\n\r\n'),$templateCache.put("common/directives/oc-file-upload/oc-file-upload.html",'<div ng-class="{\'has-error\': invalidExtension}">\r\n    <figure class="row">\r\n        <div class="col-xs-8 col-sm-5">\r\n            <img class="img-responsive" ng-src="{{model.xp.image.URL || \'http://placehold.it/300x300\'}}" alt="Product Image">\r\n        </div>\r\n    </figure>\r\n    <div>\r\n        <br>\r\n        <button type="button" class="btn btn-default" ng-click="upload()">{{model.xp.image.URL  ? \'Replace Image\' : \'Upload\'}}</button>\r\n        <button type="button" class="btn btn-danger" ng-click="remove()" ng-if="model.xp.image.URL "><i class="fa fa-trash"></i></button>\r\n    </div>\r\n    <input class="ng-hide" name="upload" type="file" id="orderCloudUpload" />\r\n    <span class="help-block error-msg" ng-show="invalidExtension">Invalid File Type</span>\r\n</div>'),$templateCache.put("common/directives/oc-quantity-input/oc-quantity-input.html",'<div id="QuantityInput">\r\n    <div class="form-group" ng-if="content == \'product\'">\r\n        <label for="itemQuantity" ng-if="label">{{label}}</label>\r\n        <input id="itemQuantity"\r\n               name="itemQuantity"\r\n               type="number"\r\n               ng-required="true"\r\n               ng-if="!item.StandardPriceSchedule.RestrictedQuantity"\r\n               class="form-control text-center"\r\n               ng-min="{{item.StandardPriceSchedule.MinQuantity}}"\r\n               ng-max="{{item.StandardPriceSchedule.MaxQuantity}}"\r\n               ng-model="item.Quantity"\r\n               placeholder="Quantity">\r\n        <select id="itemQuantity"\r\n                name="itemQuantity"\r\n                ng-required="true"\r\n                ng-if="item.StandardPriceSchedule.RestrictedQuantity"\r\n                class="form-control text-center"\r\n                ng-model="item.Quantity"\r\n                ng-options="priceBreak.Quantity as priceBreak.Quantity for priceBreak in item.StandardPriceSchedule.PriceBreaks"></select>\r\n        <small class="help-block" ng-if="item.QuantityMultiplier > 1">\r\n            {{\'Quantity multiplier x \' + item.QuantityMultiplier + (item.Quantity ? (\' (\' + (item.Quantity * item.QuantityMultiplier) + \')\') : \'\')}}\r\n        </small>\r\n    </div>\r\n    <div class="form-group" ng-if="content == \'lineitem\'">\r\n        <label for="itemQuantity" ng-if="label">{{label}}</label>\r\n        <input id="itemQuantity"\r\n               name="itemQuantity"\r\n               type="number"\r\n               ng-required="true"\r\n               ng-if="!item.Product.StandardPriceSchedule.RestrictedQuantity"\r\n               class="form-control text-center"\r\n               ng-min="{{item.Product.StandardPriceSchedule.MinQuantity}}"\r\n               ng-max="{{item.Product.StandardPriceSchedule.MaxQuantity}}"\r\n               ng-model="item.Quantity"\r\n               ng-model-options="{ debounce: 1000 }"\r\n               ng-change="updateQuantity()"\r\n               placeholder="Quantity">\r\n        <select id="itemQuantity"\r\n                name="itemQuantity"\r\n                ng-required="true"\r\n                ng-if="item.Product.StandardPriceSchedule.RestrictedQuantity"\r\n                class="form-control"\r\n                ng-model="item.Quantity"\r\n                ng-change="updateQuantity()"\r\n                ng-options="priceBreak.Quantity as priceBreak.Quantity for priceBreak in item.Product.StandardPriceSchedule.PriceBreaks"></select>\r\n        <small class="help-block" ng-if="item.Product.QuantityMultiplier > 1">\r\n            {{\'x \' + item.Product.QuantityMultiplier + (item.Quantity ? (\' (\' + (item.Quantity * item.Product.QuantityMultiplier) + \')\') : \'\')}}\r\n        </small>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n'),$templateCache.put("common/services/oc-confirm/oc-confirm.modal.html",'<div class="modal-body">\r\n	<div ng-class="{\'text-center\':confirmModal.type == \'delete\'}" ng-bind-html="confirmModal.message"></div>\r\n	<div class="text-center" ng-if="confirmModal.type == \'delete\'">\r\n		<br>\r\n		<span class="text-danger">This action cannot be undone.</span>\r\n	</div>\r\n</div>\r\n<div class="modal-footer">\r\n	<div class="text-center">\r\n		<button type="button" class="btn btn-default" ng-click="confirmModal.cancel()">{{confirmModal.cancelText || \'Cancel\'}}</button>\r\n		<button type="button" class="btn btn-primary" ng-class="{\'btn-danger\': confirmModal.type == \'delete\'}" ng-click="confirmModal.confirm()">{{confirmModal.confirmText || \'Okay\'}}</button>\r\n	</div>\r\n</div>'),$templateCache.put("productDetail/specForm/templates/specForm.tpl.html",'<div ng-repeat="spec in product.Specs | orderBy:\'ListOrder\' track by $index">\r\n    <fieldset class="form-group" ng-if="spec.Options.length === 0">\r\n        <label for="{{spec.ID}}">{{spec.Name || spec.ID}}</label>\r\n        <p ng-if="!spec.AllowOpenText" class="form-control-static">{{spec.DefaultValue}}</p>\r\n        <input ng-if="spec.AllowOpenText"  id="{{spec.ID}}"\r\n               ng-required="spec.Required"\r\n               class="form-control"\r\n               ng-model="spec.Value"\r\n               type="text">\r\n    </fieldset>\r\n    <fieldset ng-if="spec.Options.length > 0">\r\n        <label for="{{spec.ID}}">{{spec.Name || spec.ID}}</label>\r\n        <spec-select-field spec="spec"></spec-select-field>\r\n    </fieldset>\r\n</div>\r\n'),$templateCache.put("productDetail/specForm/templates/specSelectionField.tpl.html",'<div ng-class="{row: showField}">\r\n    <div class="form-group" ng-class="{\'col-sm-6\': showField}">\r\n        <select id="{{spec.ID}}"\r\n                ng-required="spec.Required"\r\n                class="form-control"\r\n                ng-model="spec.OptionID"\r\n                ng-options="option.ID as option.Value for option in spec.Options ">\r\n            <option value=""> </option>\r\n        </select>\r\n    </div>\r\n    <div class="form-group col-sm-6" ng-if="showField">\r\n        <input id="{{spec.OptionID + \'_value\'}}"\r\n               type="text"\r\n               placeholder="Custom value..."\r\n               ng-model="spec.Value"\r\n               class="form-control"\r\n               ng-required="spec.Required">\r\n    </div>\r\n</div>\r\n'),$templateCache.put("styles/styleguide/templates/styleguide.html",'<article>\r\n    <div class="row">\r\n        <div class="col-md-3 col-md-push-9 col-lg-2 col-lg-push-10 hidden-xs hidden-sm">\r\n            <ul class="nav nav-pills nav-stacked c-sidebar" hl-sticky anchor="top" offset-top="70">\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#headings">Headings</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#tables">Tables</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#content-formatting">Content Formatting</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#forms">Forms</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#buttons">Buttons</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#images">Images</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#dropdowns">Dropdowns</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#input-groups">Input Groups</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#navs">Navs</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#navbar">Navbar</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#pagination">Pagination</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#labels">Labels and Badges</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#alerts">Alerts</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#progress">Progress Bars</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#media-object">Media Object</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#list-group">List Group</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#panels">Panels</a></li>\r\n                <li class="c-sidebar__anchor" role="presentation"><a href="#wells">Wells</a></li>\r\n            </ul>\r\n        </div>\r\n        <div class="col-md-9 col-md-pull-3 col-lg-10 col-lg-pull-2">\r\n            <header class="jumbotron">\r\n                <h1>Styleguide</h1>\r\n                <p>A preview of common UI elements within your application.</p>\r\n            </header>\r\n            <section class="c-section" id="headings">\r\n                <h2 class="c-section__header">Headings\r\n                </h2>\r\n                <div class="c-section__body">\r\n                    <h1 class="page-header">Page Header <small>With Small Text</small></h1>\r\n                    <h1>This is an h1 heading</h1>\r\n                    <h2>This is an h2 heading</h2>\r\n                    <h3>This is an h3 heading</h3>\r\n                    <h4>This is an h4 heading</h4>\r\n                    <h5>This is an h5 heading</h5>\r\n                    <h6>This is an h6 heading</h6>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="tables">\r\n                <h2 class="c-section__header">Tables\r\n                </h2>\r\n                <div class="c-section__body">\r\n                    <table class="table table-hover">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>First Name</th>\r\n                                <th>Tables</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>1</td>\r\n                                <td>Michael</td>\r\n                                <td>Are formatted like this</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>2</td>\r\n                                <td>Lucille</td>\r\n                                <td>Do you like them?</td>\r\n                            </tr>\r\n                            <tr class="success ">\r\n                                <td>3</td>\r\n                                <td>Success</td>\r\n                                <td></td>\r\n                            </tr>\r\n                            <tr class="danger ">\r\n                                <td>4</td>\r\n                                <td>Danger</td>\r\n                                <td></td>\r\n                            </tr>\r\n                            <tr class="warning ">\r\n                                <td>5</td>\r\n                                <td>Warning</td>\r\n                                <td></td>\r\n                            </tr>\r\n                            <tr class="active ">\r\n                                <td>6</td>\r\n                                <td>Active</td>\r\n                                <td></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <table class="table table-striped table-bordered table-condensed ">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>First Name</th>\r\n                                <th>Tables</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>1</td>\r\n                                <td>Michael</td>\r\n                                <td>This one is bordered and condensed</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>2</td>\r\n                                <td>Lucille</td>\r\n                                <td>Do you still like it?</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="content-formatting">\r\n                <h2 class="c-section__header">Content Formatting\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <p class="lead">This is a lead paragraph.</p>\r\n                    <p>This is an <b>ordinary paragraph</b> that is <i>long enough</i> to wrap to\r\n                        <u>multiple lines</u> so that you can see how the line spacing looks.</p>\r\n                    <p class="text-muted ">Muted color paragraph.</p>\r\n                    <p class="text-warning ">Warning color paragraph.</p>\r\n                    <p class="text-danger ">Danger color paragraph.</p>\r\n                    <p class="text-info ">Info color paragraph.</p>\r\n                    <p class="text-success ">Success color paragraph.</p>\r\n                    <p><small>This is text in a <code>small</code> wrapper. <abbr title="No Big Deal">NBD</abbr>, right?</small></p>\r\n                    <hr>\r\n                    <address> <strong>Twitter, Inc.</strong><br> 795 Folsom Ave, Suite 600<br> San Francisco, CA 94107<br>                                <abbr title="Phone ">P:</abbr> (123) 456-7890 </address>\r\n                    <address class="col-6 "> <strong>Full Name</strong><br> <a href="mailto:# ">first.last@example.com</a> </address>\r\n                    <hr>\r\n                    <blockquote>Here\'s what a blockquote looks like in Bootstrap. <small>Use <code>small</code> to identify the source.</small>\r\n                    </blockquote>\r\n                    <hr>\r\n                    <div class="row ">\r\n                        <div class="col-xs-6 ">\r\n                            <ul>\r\n                                <li>Normal Unordered List</li>\r\n                                <li>Can Also Work\r\n                                    <ul>\r\n                                        <li>With Nested Children</li>\r\n                                    </ul>\r\n                                </li>\r\n                                <li>Adds Bullets to Page</li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class="col-xs-6 ">\r\n                            <ol>\r\n                                <li>Normal Ordered List</li>\r\n                                <li>Can Also Work\r\n                                    <ol>\r\n                                        <li>With Nested Children</li>\r\n                                    </ol>\r\n                                </li>\r\n                                <li>Adds Bullets to Page</li>\r\n                            </ol>\r\n                        </div>\r\n                    </div>\r\n                    <hr>\r\n                    <pre>function preFormatting() { // looks like this; var something = somethingElse; return true;}</pre>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="forms">\r\n                <h2 class="c-section__header">Forms\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <form>\r\n                        <fieldset>\r\n                            <legend>Legend</legend>\r\n                            <div class="form-group">\r\n                                <label for="exampleInputEmail ">Email address</label>\r\n                                <input type="text " class="form-control " id="exampleInputEmail " placeholder="Enter email ">\r\n                            </div>\r\n                            <div class="form-group ">\r\n                                <label for="exampleInputPassword ">Password</label>\r\n                                <input type="password " class="form-control " id="exampleInputPassword " placeholder="Password ">\r\n                            </div>\r\n                            <div class="form-group ">\r\n                                <label for="exampleInputFile ">File input</label>\r\n                                <input type="file " id="exampleInputFile ">\r\n                                <p class="help-block ">Example block-level help text here.</p>\r\n                            </div>\r\n                            <div class="checkbox ">\r\n                                <label>\r\n                            <input type="checkbox ">Check me out</label>\r\n                            </div>\r\n                            <button type="submit " class="btn btn-default ">Submit</button>\r\n                        </fieldset>\r\n                    </form>\r\n                    <hr>\r\n                    <form class="form-inline ">\r\n                        <input type="text " class="form-control " placeholder="Email " style="width: 200px; ">\r\n                        <input type="password " class="form-control " placeholder="Password " style="width: 200px; ">\r\n                        <div class="checkbox ">\r\n                            <label>\r\n                        <input type="checkbox ">Remember me</label>\r\n                        </div>\r\n                        <button type="submit " class="btn btn-default ">Sign in</button>\r\n                    </form>\r\n                    <hr>\r\n                    <form class="form-horizontal ">\r\n                        <div class="form-group ">\r\n                            <label for="inputEmail " class="col-lg-2 control-label ">Email</label>\r\n                            <div class="col-lg-10 ">\r\n                                <input type="text " class="form-control " id="inputEmail " placeholder="Email ">\r\n                            </div>\r\n                        </div>\r\n                        <div class="form-group has-warning ">\r\n                            <label for="inputEmail " class="col-lg-2 control-label ">Email</label>\r\n                            <div class="col-lg-10 ">\r\n                                <input type="text " class="form-control " id="inputEmail " placeholder="Email ">\r\n                            </div>\r\n                        </div>\r\n                        <div class="form-group has-error ">\r\n                            <label for="inputEmail " class="col-lg-2 control-label ">Email</label>\r\n                            <div class="col-lg-10 ">\r\n                                <input type="text " class="form-control " id="inputEmail " placeholder="Email ">\r\n                            </div>\r\n                        </div>\r\n                        <div class="form-group has-success ">\r\n                            <label for="inputEmail " class="col-lg-2 control-label ">Email</label>\r\n                            <div class="col-lg-10 ">\r\n                                <input type="text " class="form-control " id="inputEmail " placeholder="Email ">\r\n                            </div>\r\n                        </div>\r\n                        <div class="form-group ">\r\n                            <label for="inputPassword " class="col-lg-2 control-label ">Password</label>\r\n                            <div class="col-lg-10 ">\r\n                                <input type="password " class="form-control " id="inputPassword " placeholder="Password ">\r\n                                <div class="checkbox ">\r\n                                    <label>\r\n                                <input type="checkbox ">Remember me</label>\r\n                                </div>\r\n                                <button type="submit " class="btn btn-default ">Sign in</button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="buttons">\r\n                <h2 class="c-section__header">Buttons\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <p>\r\n                        <button type="button" class="btn btn-lg btn-default ">Default</button>\r\n                        <button type="button " class="btn btn-lg btn-primary ">Primary</button>\r\n                        <button type="button " class="btn btn-lg btn-success ">Success</button>\r\n                        <button type="button " class="btn btn-lg btn-info ">Info</button>\r\n                        <button type="button " class="btn btn-lg btn-warning ">Warning</button>\r\n                        <button type="button " class="btn btn-lg btn-danger ">Danger</button>\r\n                        <button type="button " class="btn btn-lg btn-link ">Link</button>\r\n                    </p>\r\n                    <p>\r\n                        <button type="button " class="btn btn-default ">Default</button>\r\n                        <button type="button " class="btn btn-primary ">Primary</button>\r\n                        <button type="button " class="btn btn-success ">Success</button>\r\n                        <button type="button " class="btn btn-info ">Info</button>\r\n                        <button type="button " class="btn btn-warning ">Warning</button>\r\n                        <button type="button " class="btn btn-danger ">Danger</button>\r\n                        <button type="button " class="btn btn-link ">Link</button>\r\n                    </p>\r\n                    <p>\r\n                        <button type="button " class="btn btn-sm btn-default ">Default</button>\r\n                        <button type="button " class="btn btn-sm btn-primary ">Primary</button>\r\n                        <button type="button " class="btn btn-sm btn-success ">Success</button>\r\n                        <button type="button " class="btn btn-sm btn-info ">Info</button>\r\n                        <button type="button " class="btn btn-sm btn-warning ">Warning</button>\r\n                        <button type="button " class="btn btn-sm btn-danger ">Danger</button>\r\n                        <button type="button " class="btn btn-sm btn-link ">Link</button>\r\n                    </p>\r\n                    <p>\r\n                        <button type="button " class="btn btn-xs btn-default ">Default</button>\r\n                        <button type="button " class="btn btn-xs btn-primary ">Primary</button>\r\n                        <button type="button " class="btn btn-xs btn-success ">Success</button>\r\n                        <button type="button " class="btn btn-xs btn-info ">Info</button>\r\n                        <button type="button " class="btn btn-xs btn-warning ">Warning</button>\r\n                        <button type="button " class="btn btn-xs btn-danger ">Danger</button>\r\n                        <button type="button " class="btn btn-xs btn-link ">Link</button>\r\n                    </p>\r\n                    <p>\r\n                        <button type="button " class="btn btn-default "><span class="glyphicon glyphicon-star "></span> Glyphicons!</button>\r\n                        <button type="button " class="btn btn-primary "><span class="glyphicon glyphicon-edit "></span></button>\r\n                        <button type="button " class="btn btn-success "><span class="glyphicon glyphicon-plus "></span></button>\r\n                        <button type="button " class="btn btn-info "><span class="glyphicon glyphicon-info-sign "></span></button>\r\n                        <button type="button " class="btn btn-warning "><span class="glyphicon glyphicon-flash "></span></button>\r\n                        <button type="button " class="btn btn-danger "><span class="glyphicon glyphicon-ban-circle "></span></button>\r\n                        <button type="button " class="btn btn-link "><span class="glyphicon glyphicon-arrow-right "></span></button>\r\n                    </p>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="images">\r\n                <h2 class="c-section__header">Images\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <p><img src="http://placehold.it/100x100" class="img-rounded ">\r\n                        <img src="http://placehold.it/100x100 " class="img-circle ">\r\n                        <img src="http://placehold.it/100x100 " class="img-thumbnail "></p>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="dropdowns">\r\n                <h2 class="c-section__header">Dropdowns\r\n                </h2>\r\n                <div class="panel-body clearfix">\r\n                    <div class="dropdown">\r\n                        <!-- Link or button to toggle dropdown -->\r\n                        <ul class="dropdown-menu " role="menu " aria-labelledby="dropdownMenu " style="display: block; position: static; ">\r\n                            <li class="dropdown-header ">Dropdown header</li>\r\n                            <li class="disabled ">\r\n                                <a tabindex="-1 " href="# ">Action</a>\r\n                            </li>\r\n                            <li>\r\n                                <a tabindex="-1 " href="# ">Another action</a>\r\n                            </li>\r\n                            <li>\r\n                                <a tabindex="-1 " href="# ">Something else here</a>\r\n                            </li>\r\n                            <li class="divider "></li>\r\n                            <li>\r\n                                <a tabindex="-1 " href="# ">Separated link</a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="input-groups">\r\n                <h2 class="c-section__header">Input Groups\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <div class="input-group">\r\n                        <span class="input-group-btn ">                <button class="btn btn-default " type="button ">Go!</button>              </span>\r\n                        <input\r\n                            type="text " class="form-control " placeholder="Username ">\r\n                    </div><br>\r\n                    <div class="input-group ">\r\n                        <input type="text " class="form-control input-large ">\r\n                        <span class="input-group-addon input-large ">.00</span>\r\n                    </div><br>\r\n                    <div class="input-group ">\r\n                        <span class="input-group-addon ">$</span><input type="text " class="form-control ">\r\n                        <span class="input-group-addon ">.00</span>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="navs">\r\n                <h2 class="c-section__header">Navs\r\n                </h2>\r\n                <div class="panel-body clearfix">\r\n                    <ul class="nav nav-tabs">\r\n                        <li class="active ">\r\n                            <a href="# ">Home</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">About</a>\r\n                        </li>\r\n                    </ul>\r\n                    <p></p>\r\n                    <p></p>\r\n                    <ul class="nav nav-pills ">\r\n                        <li class="active ">\r\n                            <a href="# ">Home</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">About</a>\r\n                        </li>\r\n                    </ul>\r\n                    <p></p>\r\n                    <p></p>\r\n                    <ul class="nav nav-stacked nav-pills ">\r\n                        <li class="active ">\r\n                            <a href="# ">Home</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">About</a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="navbar">\r\n                <h2 class="c-section__header">Navbar\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <p></p>\r\n                    <div class="navbar">\r\n                        <div class="navbar-header ">\r\n                            <a href="# " class="navbar-brand ">Your Company</a>\r\n                        </div>\r\n                        <div class="navbar-collapse ">\r\n                            <ul class="nav navbar-nav navbar-right ">\r\n                                <li class="active ">\r\n                                    <a href="# ">Home</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="# ">About</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="# ">Contact</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div class="navbar navbar-inverse ">\r\n                        <div class="navbar-header ">\r\n                            <a href="# " class="navbar-brand ">Your Company</a>\r\n                        </div>\r\n                        <div class="navbar-collapse ">\r\n                            <ul class="nav navbar-nav navbar-right ">\r\n                                <li class="active ">\r\n                                    <a href="# ">Home</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="# ">About</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="# ">Contact</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div class="navbar ">\r\n                        <div class="collapse navbar-collapse ">\r\n                            <a class="btn btn-primary navbar-btn ">Navbar Button</a>\r\n                            <p class="navbar-text navbar-right ">Navbar Text</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="pagination">\r\n                <h2 class="c-section__header">Pagination\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <ul class="pagination" style="margin-right: 10px; ">\r\n                        <li>\r\n                            <a href="# ">Prev</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">1</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">2</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">3</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">4</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">Next</a>\r\n                        </li>\r\n                    </ul>\r\n                    <ul class="pagination pagination-lg ">\r\n                        <li>\r\n                            <a href="# ">Prev</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">1</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">2</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">3</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">4</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">Next</a>\r\n                        </li>\r\n                    </ul>\r\n                    <ul class="pager ">\r\n                        <li>\r\n                            <a href="# ">Prev</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href="# ">Next</a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="labels">\r\n                <h2 class="c-section__header">Labels and Badges\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <h3><span class="label label-default">Default</span>&nbsp;<span class="label label-success">Success</span>&nbsp;\r\n                        <span\r\n                            class="label label-warning">Warning</span>&nbsp;<span class="label label-danger">Danger</span>&nbsp;<span class="label label-info">Info</span></h3>\r\n                    <p class="lead"><a href="#">Inbox <span class="badge">42</span></a></p>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="alerts">\r\n                <h2 class="c-section__header">Alerts\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <div>\r\n                        <div class="alert alert-danger">\r\n                            <button type="button " class="close " data-dismiss="alert ">×</button>\r\n                            <strong>Oh snap!</strong> <a href="# " class="alert-link ">Change a few things up</a> and\r\n                            try submitting again.\r\n                        </div>\r\n                        <div class="alert alert-success ">\r\n                            <button type="button " class="close " data-dismiss="alert ">×</button>\r\n                            <strong>Well done!</strong> You successfully read <a href="# " class="alert-link ">this important alert message</a>.\r\n                        </div>\r\n                        <div class="alert alert-warning ">\r\n                            <button type="button " class="close " data-dismiss="alert ">×</button>\r\n                            <strong>Heads up!</strong> This <a href="# " class="alert-link ">alert needs your attention</a>,\r\n                            but it\'s not super important.\r\n                        </div>\r\n                        <div class="alert alert-info ">\r\n                            <button type="button " class="close " data-dismiss="alert ">×</button>\r\n                            <strong>Heads up!</strong> This <a href="# " class="alert-link ">alert needs your attention</a>,\r\n                            but it\'s not super important.\r\n                        </div>\r\n                        <div class="alert ">\r\n                            <button type="button " class="close " data-dismiss="alert ">×</button>\r\n                            <h4>Warning!</h4>\r\n                            <p>This is a block style alert.</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="progress">\r\n                <h2 class="c-section__header">Progress Bars\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <div class="progress">\r\n                        <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"><span class="sr-only">60% Complete</span></div>\r\n                    </div>\r\n                    <div class="progress">\r\n                        <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"\r\n                            style="width: 40%"><span class="sr-only">40% Complete (success)</span></div>\r\n                    </div>\r\n                    <div class="progress">\r\n                        <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 20%"><span class="sr-only">20% Complete</span></div>\r\n                    </div>\r\n                    <div class="progress">\r\n                        <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"\r\n                            style="width: 60%"><span class="sr-only">60% Complete (warning)</span></div>\r\n                    </div>\r\n                    <div class="progress">\r\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"\r\n                            style="width: 80%"><span class="sr-only">80% Complete (danger)</span></div>\r\n                    </div>\r\n                    <div class="progress">\r\n                        <div class="progress-bar progress-bar-success" style="width: 35%"><span class="sr-only">35% Complete (success)</span></div>\r\n                        <div class="progress-bar progress-bar-warning" style="width: 20%"><span class="sr-only">20% Complete (warning)</span></div>\r\n                        <div class="progress-bar progress-bar-danger" style="width: 10%"><span class="sr-only">10% Complete (danger)</span></div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="media-object">\r\n                <h2 class="c-section__header">Media Object\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <p></p>\r\n                    <div class="media">\r\n                        <a class="pull-left" href="#"> <img class="media-object" src="https://app.divshot.com/img/placeholder-64x64.gif"> </a>\r\n                        <div class="media-body">\r\n                            <h4 class="media-heading">Media heading</h4>\r\n                            <p>This is the content for your media.</p>\r\n                            <div class="media">\r\n                                <a class="pull-left" href="#"> <img class="media-object" src="https://app.divshot.com/img/placeholder-64x64.gif">                                            </a>\r\n                                <div class="media-body">\r\n                                    <h4 class="media-heading">Media heading</h4>\r\n                                    <p>This is the content for your media.</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="list-group">\r\n                <h2 class="c-section__header">List Group\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <div class="row">\r\n                        <div class="col-lg-4 ">\r\n                            <ul class="list-group ">\r\n                                <li class="list-group-item ">Cras justo odio</li>\r\n                                <li class="list-group-item ">Dapibus ac facilisis in</li>\r\n                                <li class="list-group-item ">Morbi leo risus</li>\r\n                                <li class="list-group-item ">Porta ac consectetur ac</li>\r\n                                <li class="list-group-item ">Vestibulum at eros</li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class="col-lg-4 ">\r\n                            <div class="list-group ">\r\n                                <a href="# " class="list-group-item active ">Cras justo odio</a>\r\n                                <a href="# " class="list-group-item ">Dapibus ac facilisis in</a>\r\n                                <a href="# " class="list-group-item ">Morbi leo risus</a>\r\n                                <a href="# " class="list-group-item ">Porta ac consectetur ac</a>\r\n                                <a href="# " class="list-group-item ">Vestibulum at eros</a>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-lg-4 ">\r\n                            <div class="list-group ">\r\n                                <a href="# " class="list-group-item active ">\r\n                                    <h4 class="list-group-item-heading ">List group item heading</h4>\r\n                                    <p class="list-group-item-text ">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>\r\n                                </a>\r\n                                <a href="# " class="list-group-item ">\r\n                                    <h4 class="list-group-item-heading ">List group item heading</h4>\r\n                                    <p class="list-group-item-text ">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>\r\n                                </a>\r\n                                <a href="# " class="list-group-item ">\r\n                                    <h4 class="list-group-item-heading ">List group item heading</h4>\r\n                                    <p class="list-group-item-text ">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="panels">\r\n                <h2 class="c-section__header">Panels\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <div class="row">\r\n                        <div class="col-lg-3">\r\n                            <div class="panel panel-primary" id="panels">\r\n                                <div class="panel-heading">This is a header\r\n                                </div>\r\n                                <p class="panel-body">This is a panel</p>\r\n                                <div class="panel-footer">This is a footer\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-lg-3">\r\n                            <div class="panel panel-success">\r\n                                <div class="panel-heading">This is a header\r\n                                </div>\r\n                                <div class="panel-body">This is a panel</div>\r\n                                <div class="panel-footer">This is a footer\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-lg-3">\r\n                            <div class="panel panel-danger">\r\n                                <div class="panel-heading">This is a header\r\n                                </div>\r\n                                <div class="panel-body">This is a panel</div>\r\n                                <div class="panel-footer">This is a footer\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-lg-3">\r\n                            <div class="panel panel-warning">\r\n                                <div class="panel-heading">This is a header\r\n                                </div>\r\n                                <div class="panel-body">This is a panel</div>\r\n                                <div class="panel-footer">This is a footer\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="row">\r\n                        <div class="col-lg-3">\r\n                            <div class="panel panel-info">\r\n                                <div class="panel-heading">This is a header\r\n                                </div>\r\n                                <p class="panel-body">This is a panel</p>\r\n                                <div class="panel-footer">This is a footer\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-lg-3">\r\n                            <div class="panel panel-default">\r\n                                <div class="panel-heading">This is a header\r\n                                </div>\r\n                                <div class="panel-body">This is a panel</div>\r\n                                <ul class="list-group list-group-flush">\r\n                                    <li class="list-group-item">First Item</li>\r\n                                    <li class="list-group-item">Second Item</li>\r\n                                    <li class="list-group-item">Third Item</li>\r\n                                </ul>\r\n                                <div class="panel-footer">This is a footer\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="c-section" id="wells">\r\n                <h2 class="c-section__header">Wells\r\n                </h2>\r\n                <div  class="c-section__body">\r\n                    <div class="col-lg-3">\r\n                        <div class="well" id="wells">Default Well\r\n                        </div>\r\n                        <div class="well well-sm">Small Well\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-lg-3">\r\n                        <div class="well well-lg">Large Padding Well\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</article>'),
$templateCache.put("checkout/payment/directives/templates/creditCard.tpl.html",'<!--Single Credit Card Payment View-->\r\n<div ng-form="OCPaymentCreditCard" cg-busy="updatingCreditCardPayment">\r\n	<label>Credit Card <!--{{checkoutPayment.creditCardDisplayLimit}}--></label>\r\n	<a href="" class="pull-right" ng-click="createCreditCard(this)"><i class="fa fa-plus-circle"></i> Create Credit Card</a>\r\n	<div class="panel panel-default" ng-repeat="creditCard in creditCards" ng-if="payment.CreditCardID == creditCard.ID || (showPaymentOptions && (!excludedCreditCards || excludedCreditCards.indexOf(creditCard.ID) == -1))">\r\n		<div class="panel-body">\r\n			<div class="row">\r\n				<div class="col-xs-2 col-sm-1 text-center">\r\n					<i class="fa fa-2x {{creditCard.CardType | faCreditCard}}"></i>\r\n				</div>\r\n				<div class="col-xs-6 col-sm-8">\r\n					<b>{{creditCard.CardholderName}}</b> <br ng-if="creditCard.CardholderName">\r\n					<span class="text-muted">{{\'XXXX-XXXX-XXXX-\' + creditCard.PartialAccountNumber}}</span><br>\r\n					<small class="text-muted">Expires On: {{creditCard.ExpirationDate | date:\'MM/yy\'}}</small>\r\n				</div>\r\n				<div class="col-xs-4 col-sm-3 text-right">\r\n					<a href="" ng-click="changePayment()" ng-if="!showPaymentOptions">Change</a>\r\n					<a href="" ng-click="updatePayment(this)" ng-if="showPaymentOptions">Select</a>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'),$templateCache.put("checkout/payment/directives/templates/payment.tpl.html",'<!--Single Payment, Multiple Types View-->\r\n<div ng-form="{{\'OCPayment\' + paymentIndex}}">\r\n	<fieldset class="form-group" ng-if="methods.length > 1">\r\n		<label for="payment_method">Payment Method</label>\r\n		<select id="payment_method" class="form-control" ng-model="payment.Type" ng-options="method as (method | humanize) for method in methods" required></select>\r\n	</fieldset>\r\n	<div ng-if="payment.Type == \'PurchaseOrder\'">\r\n		<oc-payment-po order="order" payment="payment"></oc-payment-po>\r\n	</div>\r\n	<div ng-if="payment.Type == \'SpendingAccount\'">\r\n		<oc-payment-sa order="order" payment="payment" exclude-options="excludeOptions.SpendingAccounts"></oc-payment-sa>\r\n	</div>\r\n	<div ng-if="payment.Type == \'CreditCard\'">\r\n		<oc-payment-cc order="order" payment="payment" exclude-options="excludeOptions.CreditCards"></oc-payment-cc>\r\n	</div>\r\n</div>'),$templateCache.put("checkout/payment/directives/templates/payments.tpl.html",'<!--Multiple Payments, Multiple Types View-->\r\n<div ng-form="OCPayments">\r\n	<div ng-repeat="payment in payments.Items">\r\n		<div class="row">\r\n			<div ng-class="{\'col-xs-10 col-sm-11\': payments.Items.length > 1, \'col-xs-12\': payments.Items.length == 1}">\r\n				<fieldset class="form-group">\r\n					<label for="paymentAmount">Amount</label>\r\n					<input id="paymentAmount" name="{{\'paymentAmount\' + $index}}" class="form-control" type="number" ng-model="payment.Amount" ng-max="payment.MaxAmount" ng-model-options="{allowInvalid:true, debounce: 1200}" ng-change="updatePaymentAmount(this)" required>\r\n				</fieldset>\r\n				<oc-payment order="order" payment="payment" methods="methods" payment-index="$index" exclude-options="excludeOptions"></oc-payment>\r\n			</div>\r\n			<div class="col-xs-2 col-sm-1 text-right" ng-if="payments.Items.length > 1">\r\n				<button type="button" class="btn btn-default" ng-click="removePayment(this)" uib-tooltip="Remove Payment" tooltip-placement="left">\r\n					<i class="fa fa-trash-o text-danger"></i>\r\n					<span class="sr-only">Remove Payment</span>\r\n				</button>\r\n			</div>\r\n		</div>\r\n		<hr ng-if="!$last">\r\n	</div>\r\n	<button type="button" class="btn btn-block btn-default" ng-click="addNewPayment()" ng-if="canAddPayment">Add New Payment</button>\r\n</div>'),$templateCache.put("checkout/payment/directives/templates/purchaseOrder.tpl.html",'<!--Single Purchase Order Payment View-->\r\n<div ng-form="OCPaymentPurchaseOrder">\r\n	<fieldset class="form-group">\r\n		<label for="poNumber">PO Number</label>\r\n		<input id="poNumber" class="form-control" type="text" ng-model="payment.xp.PONumber" placeholder="(Optional)" ng-model-options="{debounce: 750}" ng-change="updatePayment()"/>\r\n	</fieldset>\r\n</div>'),$templateCache.put("checkout/payment/directives/templates/spendingAccount.tpl.html",'<!--Single Spending Account Payment View-->\r\n<div ng-form="OCPaymentSpendingAccount" cg-busy="updatingSpendingAccountPayment">\r\n	<div class="panel panel-default" ng-repeat="spendingAccount in spendingAccounts" ng-if="payment.SpendingAccountID == spendingAccount.ID || (showPaymentOptions && (!excludedSpendingAccounts || excludedSpendingAccounts.indexOf(spendingAccount.ID) == -1))">\r\n		<div class="panel-body">\r\n			<div class="row">\r\n				<div class="col-xs-6">\r\n					<b>{{spendingAccount.Name}}</b>\r\n					<div class="text-muted">\r\n						<small ng-if="spendingAccount.StartDate && spendingAccount.EndDate">\r\n							Lifetime: {{spendingAccount.StartDate | date:\'shortDate\'}} - {{spendingAccount.EndDate | date :\'shortDate\'}}\r\n						</small>\r\n						<small ng-if="spendingAccount.StartDate && !spendingAccount.EndDate">\r\n							Made Available On: {{spendingAccount.StartDate | date:\'shortDate\'}}\r\n						</small>\r\n						<small ng-if="!spendingAccount.StartDate && spendingAccount.EndDate">\r\n							Expires On: {{spendingAccount.EndDate | date :\'shortDate\'}}\r\n						</small>\r\n					</div>\r\n				</div>\r\n				<div class="col-xs-4 text-right">\r\n					<!--TODO: remove the inline style here-->\r\n					<p style="margin:0;" class="lead text-primary" ng-if="spendingAccount.Balance">{{spendingAccount.Balance | currency}}</p>\r\n				</div>\r\n				<div class="col-xs-2 text-right">\r\n					<a href="" ng-click="changePayment()" ng-if="!showPaymentOptions">Change</a>\r\n					<a href="" ng-click="updatePayment(this)" ng-if="showPaymentOptions">Select</a>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>')}])}()}(),function(){"use strict";angular.module("orderCloud").constant("appname","Angular Buyer").constant("scope","MeAdmin MeXpAdmin MeAddressAdmin MeCreditCardAdmin").constant("clientid","73FDFC1E-6FD5-4AFA-8751-C42C5CF47B57").constant("buyerid","A").constant("anonymous",!1).constant("catalogid","SHARED").constant("environment","prod").constant("defaultstate","home").constant("html5mode",!1).constant("bootswatchtheme",null).constant("authurl","https://auth.ordercloud.io/oauth/token").constant("apiurl","https://api.ordercloud.io")}(),function(){"use strict";angular.module("orderCloud").factory("ocStateLoading",["$rootScope","$ocMedia","$exceptionHandler","defaultstate","$q",function($rootScope,$ocMedia,$exceptionHandler,defaultstate,$q){function _init(){$rootScope.$on("$stateChangeStart",function(e,toState){var parent=toState.parent||toState.name.split(".")[0];stateLoading[parent]=$q.defer()}),$rootScope.$on("$stateChangeSuccess",function(){document.body.scrollTop=document.documentElement.scrollTop=0,_end()}),$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){toState.name==defaultstate&&event.preventDefault(),$exceptionHandler(error.data?error:{message:error}),_end()})}function _watch(key){return stateLoading[key]}function _end(){angular.forEach(stateLoading,function(val,key){stateLoading[key].promise&&!stateLoading[key].promise.$cgBusyFulfilled&&stateLoading[key].resolve()})}var stateLoading={},service={Init:_init,Watch:_watch};return service}])}(),function(){"use strict";function OrderCloudRolesService($window,OrderCloud){function base64Decode(string){var output=string.replace(/-/g,"+").replace(/_/g,"/");switch(output.length%4){case 0:break;case 2:output+="==";break;case 3:output+="=";break;default:return void console.warn("Illegal base64url string")}return $window.decodeURIComponent(escape($window.atob(output)))}function _set(token){if(token){var tokenParts=token.split(".");if(3!=tokenParts.length)return void console.warn("ocRoles","Token is not valid");var decodedToken=base64Decode(tokenParts[1]);if(!decodedToken)return void console.warn("ocRoles","Cannot decode token");var decodedTokenObject=JSON.parse(decodedToken);return roles=decodedTokenObject.role,"string"==typeof roles&&(roles=[roles]),roles||[]}}function _get(){return roles||_set(OrderCloud.Auth.ReadToken())}function _remove(){roles=null}function _userIsAuthorized(requiredRoles,any){var userRoles=_get();if(userRoles)return userRoles.indexOf("FullAccess")>-1?!0:any?_.intersection(requiredRoles,userRoles).length>0:0==_.difference(requiredRoles,userRoles).length}var roles,service={Set:_set,Get:_get,Remove:_remove,UserIsAuthorized:_userIsAuthorized};return service}function OrderCloudRolesProvider(){var roleGroups={};return{$get:function(){return{GetRoleGroups:function(){return roleGroups}}},AddRoleGroup:function(roleGroup){if(!roleGroup.Name)throw"ocRoles: RoleGroup must have a Name value";if(!roleGroup.Roles||!roleGroup.Roles.length)throw"ocRoles: RoleGroup must have Roles";if(!angular.isArray(roleGroup.Roles))throw"ocRoles: RoleGroup Roles must be an array";if(!roleGroup.Type||-1==["All","Any"].indexOf(roleGroup.Type))throw"ocRoles: RoleGroup Type must be 'All' or 'Any'";roleGroups[roleGroup.Name]=roleGroup}}}OrderCloudRolesService.$inject=["$window","OrderCloud"],angular.module("orderCloud").factory("ocRolesService",OrderCloudRolesService).provider("ocRoles",OrderCloudRolesProvider)}(),function(){"use strict";function OrderCloudParametersService($filter){function _get(stateParams,suffix){var suffixParams,parameters=angular.copy(stateParams);return parameters.filters?parameters.filters=JSON.parse(parameters.filters):parameters.filters={},parameters.from?parameters.from=new Date(parameters.from):angular.noop(),parameters.to?parameters.to=new Date(parameters.to):angular.noop(),suffix&&(suffixParams={},angular.forEach(parameters,function(val,key){suffixParams[key.split(suffix)[0]]=val})),suffixParams||parameters}function _create(params,resetPage,suffix){var suffixParams,parameters=angular.copy(params);return resetPage?parameters.page=null:angular.noop(),parameters.filters&&(""==parameters.filters.orderType?delete parameters.filters.orderType:angular.noop(),""==parameters.filters.type?delete parameters.filters.type:angular.noop(),null==parameters.filters.status||""==parameters.filters.status?delete parameters.filters.status:angular.noop(),parameters.filters=JSON.stringify(parameters.filters),"{}"==parameters.filters?parameters.filters=null:angular.noop()),parameters.fromDate&&(parameters.fromDate=$filter("date")(parameters.fromDate,"MM-dd-yyyy")),parameters.toDate&&(parameters.toDate=$filter("date")(parameters.toDate,"MM-dd-yyyy")),suffix&&(suffixParams={},angular.forEach(parameters,function(val,key){suffixParams[key+suffix]=val})),suffixParams||parameters}var service={Get:_get,Create:_create};return service}OrderCloudParametersService.$inject=["$filter"],angular.module("orderCloud").factory("ocParameters",OrderCloudParametersService)}(),function(){"use strict";function MEDIA_CONSTANT(){return{sm:"(max-width: 600px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 960px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1200px)","gt-lg":"(min-width: 1200px)"}}function MEDIA_PRIORITY_CONSTANT(){return["gt-lg","lg","gt-md","md","gt-sm","sm"]}function ocMediaFactory(MEDIA,MEDIA_PRIORITY,$rootScope,$window){function $ocMedia(query){var validated=queries[query];angular.isUndefined(validated)&&(validated=queries[query]=validate(query));var result=results[validated];return angular.isUndefined(result)&&(result=add(validated)),result}function validate(query){return MEDIA[query]||("("!==query.charAt(0)?"("+query+")":query)}function add(query){var result=mqls[query]=$window.matchMedia(query);return result.addListener(onQueryChange),results[result.media]=!!result.matches}function onQueryChange(query){$rootScope.$evalAsync(function(){results[query.media]=!!query.matches})}function getQuery(name){return mqls[name]}function getResponsiveAttribute(attrs,attrName){for(var i=0;i<MEDIA_PRIORITY.length;i++){var mediaName=MEDIA_PRIORITY[i];if(mqls[queries[mediaName]].matches){var normalizedName=getNormalizedName(attrs,attrName+"-"+mediaName);if(attrs[normalizedName])return attrs[normalizedName]}}return attrs[getNormalizedName(attrs,attrName)]}function watchResponsiveAttributes(attrNames,attrs,watchFn){var unwatchFns=[];return attrNames.forEach(function(attrName){var normalizedName=getNormalizedName(attrs,attrName);attrs[normalizedName]&&unwatchFns.push(attrs.$observe(normalizedName,angular.bind(void 0,watchFn,null)));for(var mediaName in MEDIA){if(normalizedName=getNormalizedName(attrs,attrName+"-"+mediaName),!attrs[normalizedName])return;unwatchFns.push(attrs.$observe(normalizedName,angular.bind(void 0,watchFn,mediaName)))}}),function(){unwatchFns.forEach(function(fn){fn()})}}function getNormalizedName(attrs,attrName){return normalizeCache[attrName]||(normalizeCache[attrName]=attrs.$normalize(attrName))}var queries={},mqls={},results={},normalizeCache={};return $ocMedia.getResponsiveAttribute=getResponsiveAttribute,$ocMedia.getQuery=getQuery,$ocMedia.watchResponsiveAttributes=watchResponsiveAttributes,$ocMedia}ocMediaFactory.$inject=["MEDIA","MEDIA_PRIORITY","$rootScope","$window"],angular.module("orderCloud").factory("$ocMedia",ocMediaFactory).constant("MEDIA",MEDIA_CONSTANT).constant("MEDIA_PRIORITY",MEDIA_PRIORITY_CONSTANT)}(),function(){"use strict";function LineItemFactory($rootScope,$q,$uibModal,OrderCloud){function _specConvert(specs){var results=[];return angular.forEach(specs,function(spec){var spec_to_push={SpecID:spec.ID};spec.Options.length>0?(spec.DefaultOptionID&&(spec_to_push.OptionID=spec.DefaultOptionID),spec.OptionID&&(spec_to_push.OptionID=spec.OptionID),spec.Value&&(spec_to_push.Value=spec.Value)):spec_to_push.Value=spec.Value||spec.DefaultValue||null,results.push(spec_to_push)}),results}function _addItem(order,product){function isSingleShipping(order){return 1==_.pluck(order.LineItems,"ShippingAddressID").length}function getSingleShippingAddressID(order){return order.LineItems[0].ShippingAddressID}var deferred=$q.defer(),li={ProductID:product.ID,Quantity:product.Quantity,Specs:_specConvert(product.Specs)};return li.ShippingAddressID=isSingleShipping(order)?getSingleShippingAddressID(order):null,OrderCloud.LineItems.Create(order.ID,li).then(function(lineItem){$rootScope.$broadcast("OC:UpdateOrder",order.ID),deferred.resolve()})["catch"](function(error){deferred.reject(error)}),deferred.promise}function _getProductInfo(LineItems){var li=LineItems.Items||LineItems,productIDs=_.uniq(_.pluck(li,"ProductID")),dfd=$q.defer(),queue=[];return angular.forEach(productIDs,function(productid){queue.push(OrderCloud.Me.GetProduct(productid))}),$q.all(queue).then(function(results){angular.forEach(li,function(item){item.Product=angular.copy(_.where(results,{ID:item.ProductID})[0])}),dfd.resolve(li)}),dfd.promise}function _customShipping(Order,LineItem){var modalInstance=$uibModal.open({animation:!0,templateUrl:"common/lineitems/templates/shipping.tpl.html",controller:"LineItemModalCtrl",controllerAs:"liModal",size:"lg"});modalInstance.result.then(function(address){address.ID=Math.floor(1e6*Math.random()).toString(),OrderCloud.LineItems.SetShippingAddress(Order.ID,LineItem.ID,address).then(function(){$rootScope.$broadcast("LineItemAddressUpdated",LineItem.ID,address)})})}function _updateShipping(Order,LineItem,AddressID){OrderCloud.Addresses.Get(AddressID).then(function(address){OrderCloud.LineItems.SetShippingAddress(Order.ID,LineItem.ID,address),$rootScope.$broadcast("LineItemAddressUpdated",LineItem.ID,address)})}function _listAll(orderID){var li,dfd=$q.defer(),queue=[];return OrderCloud.LineItems.List(orderID,null,1,100).then(function(data){if(li=data,data.Meta.TotalPages>data.Meta.Page)for(var page=data.Meta.Page;page<data.Meta.TotalPages;)page+=1,queue.push(OrderCloud.LineItems.List(orderID,null,page,100));$q.all(queue).then(function(results){angular.forEach(results,function(result){li.Items=[].concat(li.Items,result.Items),li.Meta=result.Meta}),dfd.resolve(li.Items)})}),dfd.promise}return{SpecConvert:_specConvert,AddItem:_addItem,GetProductInfo:_getProductInfo,CustomShipping:_customShipping,UpdateShipping:_updateShipping,ListAll:_listAll}}LineItemFactory.$inject=["$rootScope","$q","$uibModal","OrderCloud"],angular.module("orderCloud").factory("ocLineItems",LineItemFactory)}(),function(){"use strict";function OrderCloudGeography(){var _countries=[{label:"United States of America",value:"US"},{label:"Afghanistan",value:"AF"},{label:"Åland Islands",value:"AX"},{label:"Albania",value:"AL"},{label:"Algeria",value:"DZ"},{label:"American Samoa",value:"AS"},{label:"Andorra",value:"AD"},{label:"Angola",value:"AO"},{label:"Anguilla",value:"AI"},{label:"Antarctica",value:"AQ"},{label:"Antigua and Barbuda",value:"AG"},{label:"Argentina",value:"AR"},{label:"Armenia",value:"AM"},{label:"Aruba",value:"AW"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Azerbaijan",value:"AZ"},{label:"Bahamas",value:"BS"},{label:"Bahrain",value:"BH"},{label:"Bangladesh",value:"BD"},{label:"Barbados",value:"BB"},{label:"Belarus",value:"BY"},{label:"Belgium",value:"BE"},{label:"Belize",value:"BZ"},{label:"Benin",value:"BJ"},{label:"Bermuda",value:"BM"},{label:"Bhutan",value:"BT"},{label:"Bolivia",value:"BO"},{label:"Bosnia and Herzegovina",value:"BA"},{label:"Botswana",value:"BW"},{label:"Bouvet Island",value:"BV"},{label:"Brazil",value:"BR"},{label:"British Indian Ocean Territory",value:"IO"},{label:"Brunei Darussalam",value:"BN"},{label:"Bulgaria",value:"BG"},{label:"Burkina Faso",value:"BF"},{label:"Burundi",value:"BI"},{label:"Cambodia",value:"KH"},{label:"Cameroon",value:"CM"},{label:"Canada",value:"CA"},{label:"Cape Verde",value:"CV"},{label:"Cayman Islands",value:"KY"},{label:"Central African Republic",value:"CF"},{label:"Chad",value:"TD"},{label:"Chile",value:"CL"},{label:"China",value:"CN"},{label:"Christmas Island Australia",value:"CX"},{label:"Cocos Keeling Islands",value:"CC"},{label:"Colombia",value:"CO"},{label:"Comoros",value:"KM"},{label:"Congo",value:"CG"},{label:"Congo, D.R.",value:"CD"},{label:"Cook Islands",value:"CK"},{label:"Costa Rica",value:"CR"},{label:"Cote D'Ivoire Ivory Coast",value:"CI"},{label:"Croatia Hrvatska",value:"HR"},{label:"Cuba",value:"CU"},{label:"Cyprus",value:"CY"},{label:"Czech Republic",value:"CZ"},{label:"Denmark",value:"DK"},{label:"Djibouti",value:"DJ"},{label:"Dominica",value:"DM"},{label:"Dominican Republic",value:"DO"},{label:"Ecuador",value:"EC"},{label:"Egypt",value:"EG"},{label:"El Salvador",value:"SV"},{label:"Equatorial Guinea",value:"GQ"},{label:"Eritrea",value:"ER"},{label:"Estonia",value:"EE"},{label:"Ethiopia",value:"ET"},{label:"Faeroe Islands",value:"FO"},{label:"Falkland Islands Malvinas",value:"FK"},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"France, Metropolitan",value:"FX"},{label:"French Guiana",value:"GF"},{label:"French Polynesia",value:"PF"},{label:"French Southern Territories",value:"TF"},{label:"Gabon",value:"GA"},{label:"Gambia",value:"GM"},{label:"Georgia",value:"GE"},{label:"Germany",value:"DE"},{label:"Ghana",value:"GH"},{label:"Gibraltar",value:"GI"},{label:"Greece",value:"GR"},{label:"Greenland",value:"GL"},{label:"Grenada",value:"GD"},{label:"Guadeloupe",value:"GP"},{label:"Guam",value:"GU"},{label:"Guatemala",value:"GT"},{label:"Guinea",value:"GN"},{label:"Guinea Bissau",value:"GW"},{label:"Guyana",value:"GY"},{label:"Haiti",value:"HT"},{label:"Heard and McDonald Is.",value:"HM"},{label:"Honduras",value:"HN"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Iran",value:"IR"},{label:"Iraq",value:"IQ"},{label:"Isle of Man",value:"IM"},{label:"Ireland",value:"IE"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Jamaica",value:"JM"},{label:"Japan",value:"JP"},{label:"Jersey",value:"JE"},{label:"Jordan",value:"JO"},{label:"Kazakhstan",value:"KZ"},{label:"Kenya",value:"KE"},{label:"Kiribati",value:"KI"},{label:"Korea North",value:"KP"},{label:"Korea South",value:"KR"},{label:"Kuwait",value:"KW"},{label:"Kyrgyzstan",value:"KG"},{label:"Lao P.Dem.R.",value:"LA"},{label:"Latvia",value:"LV"},{label:"Lebanon",value:"LB"},{label:"Lesotho",value:"LS"},{label:"Liberia",value:"LR"},{label:"Libyan Arab Jamahiriya",value:"LY"},{label:"Liechtenstein",value:"LI"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Macau",value:"MO"},{label:"Macedonia",value:"MK"},{label:"Madagascar",value:"MG"},{label:"Malawi",value:"MW"},{label:"Malaysia",value:"MY"},{label:"Maldives",value:"MV"},{label:"Mali",value:"ML"},{label:"Malta",value:"MT"},{label:"Marshall Islands",value:"MH"},{label:"Martinique",value:"MQ"},{label:"Mauritania",value:"MR"},{label:"Mauritius",value:"MU"},{label:"Mayotte",value:"YT"},{label:"Mexico",value:"MX"},{label:"Micronesia",value:"FM"},{label:"Moldova",value:"MD"},{label:"Monaco",value:"MC"},{label:"Mongolia",value:"MN"},{label:"Montenegro",value:"ME"},{label:"Montserrat",value:"MS"},{label:"Morocco",value:"MA"},{label:"Mozambique",value:"MZ"},{label:"Myanmar",value:"MM"},{label:"Namibia",value:"NA"},{label:"Nauru",value:"NR"},{label:"Nepal",value:"NP"},{label:"Netherlands",value:"NL"},{label:"Netherlands Antilles",value:"AN"},{label:"New Caledonia",value:"NC"},{label:"New Zealand",value:"NZ"},{label:"Nicaragua",value:"NI"},{label:"Niger",value:"NE"},{label:"Nigeria",value:"NG"},{label:"Niue",value:"NU"},{label:"Norfolk Island",value:"NF"},{label:"Northern Mariana Islands",value:"MP"},{label:"Norway",value:"NO"},{label:"Oman",value:"OM"},{label:"Pakistan",value:"PK"},{label:"Palau",value:"PW"},{label:"Palestinian Territory, Occupied",value:"PS"},{label:"Panama",value:"PA"},{label:"Papua New Guinea",value:"PG"},{label:"Paraguay",value:"PY"},{label:"Peru",value:"PE"},{label:"Philippines",value:"PH"},{label:"Pitcairn",value:"PN"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Puerto Rico",value:"PR"},{label:"Qatar",value:"QA"},{label:"Reunion",value:"RE"},{label:"Romania",value:"RO"},{label:"Russian Federation",value:"RU"},{label:"Rwanda",value:"RW"},{label:"Saint Helena",value:"SH"},{label:"Saint Kitts and Nevis",value:"KN"},{label:"Saint Lucia",value:"LC"},{label:"Saint Pierre and Miquelon",value:"PM"},{label:"Saint Vincent and the Grenadines",value:"VC"},{label:"Samoa",value:"WS"},{label:"San Marino",value:"SM"},{label:"Sao Tome and Principe",value:"ST"},{label:"Saudi Arabia",value:"SA"},{label:"Senegal",value:"SN"},{label:"Serbia",value:"RS"},{label:"Seychelles",value:"SC"},{label:"Sierra Leone",value:"SL"},{label:"Singapore",value:"SG"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Solomon Islands",value:"SB"},{label:"Somalia",value:"SO"},{label:"South Africa",value:"ZA"},{label:"S. Georgia &amp; S. Sandwich Is.",value:"GS"},{label:"Spain",value:"ES"},{label:"Sri Lanka",value:"LK"},{label:"Sudan",value:"SD"},{label:"Suriname",value:"SR"},{label:"Svalbard &amp; Jan Mayen Is.",value:"SJ"},{label:"Swaziland",value:"SZ"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Syrian Arab Rep.",value:"SY"},{label:"Taiwan",value:"TW"},{label:"Tajikistan",value:"TJ"},{label:"Tanzania",value:"TZ"},{label:"Thailand",value:"TH"},{label:"Timor-Leste",value:"TG"},{label:"Togo",value:"TG"},{label:"Tokelau",value:"TK"},{label:"Tonga",value:"TO"},{label:"Trinidad and Tobago",value:"TT"},{label:"Tunisia",value:"TN"},{label:"Turkey",value:"TR"},{label:"Turkmenistan",value:"TM"},{label:"Turks and Caicos Islands",value:"TC"},{label:"Tuvalu",value:"TU"},{label:"Uganda",value:"UG"},{label:"Ukraine",value:"UA"},{label:"United Kingdom",value:"GB"},{label:"United Arab Emirates",value:"AE"},{label:"US Minor Outlying Is.",value:"UM"},{label:"Uruguay",value:"UY"},{label:"Uzbekistan",value:"UZ"},{label:"Vanuatu",value:"VU"},{label:"Vatican City State",value:"VC"},{label:"Venezuela",value:"VE"},{label:"Viet Nam",value:"VN"},{label:"Virgin Islands British",value:"VG"},{label:"Virgin Islands US",value:"VI"},{label:"Wallis and Futuna Islnds",value:"WF"},{label:"Western Sahara",value:"EH"},{label:"Yemen",value:"YE"},{label:"Yugoslavia",value:"YU"},{label:"Zambia",value:"ZM"},{label:"Zimbabwe",value:"ZW"}],_states=[{label:"Alabama",value:"AL",country:"US"},{label:"Alaska",value:"AK",country:"US"},{label:"Arizona",value:"AZ",country:"US"},{label:"Arkansas",value:"AR",country:"US"},{label:"California",value:"CA",country:"US"},{label:"Colorado",value:"CO",country:"US"},{label:"Connecticut",value:"CT",country:"US"},{label:"Delaware",value:"DE",country:"US"},{label:"District of Columbia",value:"DC",country:"US"},{label:"Florida",value:"FL",country:"US"},{label:"Georgia",value:"GA",country:"US"},{label:"Hawaii",value:"HI",country:"US"},{label:"Idaho",value:"ID",country:"US"},{label:"Illinois",value:"IL",country:"US"},{label:"Indiana",value:"IN",country:"US"},{label:"Iowa",value:"IA",country:"US"},{label:"Kansas",value:"KS",country:"US"},{label:"Kentucky",value:"KY",country:"US"},{label:"Louisiana",value:"LA",country:"US"},{label:"Maine",value:"ME",country:"US"},{label:"Maryland",value:"MD",country:"US"},{label:"Massachusetts",value:"MA",country:"US"},{label:"Michigan",value:"MI",country:"US"},{label:"Minnesota",value:"MN",country:"US"},{label:"Mississippi",value:"MS",country:"US"},{label:"Missouri",value:"MO",country:"US"},{label:"Montana",value:"MT",country:"US"},{label:"Nebraska",value:"NE",country:"US"},{label:"Nevada",value:"NV",country:"US"},{label:"New Hampshire",value:"NH",country:"US"},{label:"New Jersey",value:"NJ",country:"US"},{label:"New Mexico",value:"NM",country:"US"},{label:"New York",value:"NY",country:"US"},{label:"North Carolina",value:"NC",country:"US"},{label:"North Dakota",value:"ND",country:"US"},{label:"Ohio",value:"OH",country:"US"},{label:"Oklahoma",value:"OK",country:"US"},{label:"Oregon",value:"OR",country:"US"},{label:"Pennsylvania",value:"PA",country:"US"},{label:"Rhode Island",value:"RI",country:"US"},{label:"South Carolina",value:"SC",country:"US"},{label:"South Dakota",value:"SD",country:"US"},{label:"Tennessee",value:"TN",country:"US"},{label:"Texas",value:"TX",country:"US"},{label:"Utah",value:"UT",country:"US"},{label:"Vermont",value:"VT",country:"US"},{label:"Virginia",value:"VA",country:"US"},{label:"Washington",value:"WA",country:"US"},{label:"West Virginia",value:"WV",country:"US"},{label:"Wisconsin",value:"WI",country:"US"},{label:"Wyoming",value:"WY",country:"US"},{label:"Armed Forces Americas (AA)",value:"AA",country:"US"},{label:"Armed Forces Africa/Canada/Europe/Middle East (AE)",value:"AE",country:"US"},{label:"Armed Forces Pacific (AP)",value:"AP",country:"US"},{label:"American Samoa",value:"AS",country:"US"},{label:"Federated States of Micronesia",value:"FM",country:"US"},{label:"Guam",value:"GU",country:"US"},{label:"Marshall Islands",value:"MH",country:"US"},{label:"Northern Mariana Islands",value:"MP",country:"US"},{label:"Palau",value:"PW",country:"US"},{label:"Puerto Rico",value:"PR",country:"US"},{label:"Virgin Islands",value:"VI",country:"US"},{label:"Drenthe",value:"Drenthe",country:"NL"},{label:"Flevoland",value:"Flevoland",country:"NL"},{label:"Friesland",value:"Friesland",country:"NL"},{label:"Gelderland",value:"Gelderland",country:"NL"},{label:"Groningen",value:"Groningen",country:"NL"},{label:"Limburg",value:"Limburg",country:"NL"},{label:"Noord-Brabant",value:"Noord-Brabant",country:"NL"},{label:"Noord-Holland",value:"Noord-Holland",country:"NL"},{label:"Overijssel",value:"Overijssel",country:"NL"},{label:"Utrecht",value:"Utrecht",country:"NL"},{label:"Zeeland",value:"Zeeland",country:"NL"},{label:"Zuid-Holland",value:"Zuid-Holland",country:"NL"},{label:"Alberta",value:"AB",country:"CA"},{label:"British Columbia",value:"BC",country:"CA"},{label:"Manitoba",value:"MB",country:"CA"},{label:"New Brunswick",value:"NB",country:"CA"},{label:"Newfoundland and Labrador",value:"NL",country:"CA"},{label:"Northwest Territories",value:"NT",country:"CA"},{label:"Nova Scotia",value:"NS",country:"CA"},{label:"Nunavut",value:"NU",country:"CA"},{label:"Ontario",value:"ON",country:"CA"},{label:"Prince Edward Island",value:"PE",country:"CA"},{label:"Quebec",value:"QC",country:"CA"},{label:"Saskatchewan",value:"SK",country:"CA"},{label:"Yukon",value:"YT",country:"CA"}];return{Countries:_countries,States:_states}}angular.module("orderCloud").factory("ocGeography",OrderCloudGeography)}(),function(){"use strict";function OrderCloudFilesService($q){function randomString(){for(var chars="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",string_length=15,randomstring="",i=0;string_length>i;i++){var rnum=Math.floor(Math.random()*chars.length);randomstring+=chars.substring(rnum,rnum+1)}return randomstring}function _get(fileKey){var deferred=$q.defer(),s3=new AWS.S3,params={Bucket:"marketplace-application-test",Key:fileKey};return s3.getObject(params,function(err,data){err?console.log(err):console.log(data),deferred.resolve(data)}),deferred.promise}function _upload(file){var deferred=$q.defer(),s3=new AWS.S3,params={Bucket:"marketplace-application-test",Key:randomString(),ContentType:file.type,Body:file};return s3.upload(params,function(err,data){err?console.log(err):console.log(data),deferred.resolve(data)}),deferred.promise}function _delete(fileKey){var deferred=$q.defer(),s3=new AWS.S3,params={Bucket:"marketplace-application-test",Key:fileKey};return s3.deleteObject(params,function(err,data){err?console.log(err):console.log(data),deferred.resolve(data)}),deferred.promise}var service={Get:_get,Upload:_upload,Delete:_delete};return AWS.config.region="us-west-2",AWS.config.update({accessKeyId:"AKIAJDDM5ZWWOIH4AZZQ",secretAccessKey:"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"}),service}OrderCloudFilesService.$inject=["$q"],angular.module("orderCloud").factory("ocFilesService",OrderCloudFilesService)}(),function(){"use strict";function OrderCloudFileReader($q){function onLoad(reader,deferred,scope){return function(){scope.$apply(function(){deferred.resolve(reader)})}}function onError(reader,deferred,scope){return function(){scope.$apply(function(){deferred.reject(reader)})}}function onProgress(reader,scope){return function(event){scope.$broadcast("fileProgress",{total:event.total,loaded:event.loaded})}}function getReader(deferred,scope){var reader=new FileReader;return reader.onload=onLoad(reader,deferred,scope),reader.onerror=onError(reader,deferred,scope),reader.onprogress=onProgress(reader,scope),reader}function _readAsDataURL(file,scope){var deferred=$q.defer(),reader=getReader(deferred,scope);return reader.readAsDataURL(file),deferred.promise}var service={ReadAsDataUrl:_readAsDataURL};return service}OrderCloudFileReader.$inject=["$q"],angular.module("orderCloud").factory("ocFileReader",OrderCloudFileReader)}(),function(){"use strict";function CreditCardUtility(){function convertYearToString(year){return Year=year.toString().substring(2,4)}function _ccExpireYears(){var today=new Date;today=today.getFullYear();for(var x=today;today+21>x;x++)creditCardUtility.ExpirationYears.push(x);return creditCardUtility.ExpirationYears}var ExpirationDate,Year,creditCardUtility={ExpirationMonths:[{number:1,string:"01"},{number:2,string:"02"},{number:3,string:"03"},{number:4,string:"04"},{number:5,string:"05"},{number:6,string:"06"},{number:7,string:"07"},{number:8,string:"08"},{number:9,string:"09"},{number:10,string:"10"},{number:11,string:"11"},{number:12,string:"12"}],ExpirationYears:[],isLeapYear:function(year){return year%4==0&&year%100!=0||year%400==0},CreditCardTypes:["MasterCard","American Express","Discover","Visa"],ExpirationDateFormat:function(month,year){return ExpirationDate=month.concat(convertYearToString(year))}};return _ccExpireYears(),creditCardUtility;
}angular.module("orderCloud").factory("ocCreditCardUtility",CreditCardUtility)}(),function(){"use strict";function OrderCloudConfirmService($uibModal){function _confirm(options){return $uibModal.open({backdrop:"static",templateUrl:"common/services/oc-confirm/oc-confirm.modal.html",controller:"ConfirmModalCtrl",controllerAs:"confirmModal",size:options.size||"confirm",resolve:{ConfirmOptions:function(){return options}}}).result}var service={Confirm:_confirm};return service}function ConfirmModalController($uibModalInstance,ConfirmOptions){var vm=this;vm.message=ConfirmOptions.message,vm.confirmText=ConfirmOptions.confirmText,vm.cancelText=ConfirmOptions.cancelText,vm.type=ConfirmOptions.type,vm.confirm=function(){$uibModalInstance.close()},vm.cancel=function(){$uibModalInstance.dismiss()}}OrderCloudConfirmService.$inject=["$uibModal"],ConfirmModalController.$inject=["$uibModalInstance","ConfirmOptions"],angular.module("orderCloud").factory("ocConfirm",OrderCloudConfirmService).controller("ConfirmModalCtrl",ConfirmModalController)}(),function(){"use strict";function AuthorizeNet($q,$resource,OrderCloud,apiurl,ocCreditCardUtility){function _createCreateCard(creditCard,buyerID){var ExpirationDate=ocCreditCardUtility.ExpirationDateFormat(creditCard.ExpirationMonth,creditCard.ExpirationYear);return _makeApiCall("POST",{buyerID:buyerID?buyerID:OrderCloud.BuyerID.Get(),TransactionType:"createCreditCard",CardDetails:{CardholderName:creditCard.CardholderName,CardType:creditCard.CardType,CardNumber:creditCard.CardNumber,ExpirationDate:ExpirationDate,CardCode:creditCard.CardCode}})}function _updateCreditCard(creditCard,buyerID){var ExpirationDate=ocCreditCardUtility.ExpirationDateFormat(creditCard.ExpirationMonth,creditCard.ExpirationYear);return _makeApiCall("POST",{buyerID:buyerID?buyerID:OrderCloud.BuyerID.Get(),TransactionType:"updateCreditCard",CardDetails:{CreditCardID:creditCard.ID,CardholderName:creditCard.CardholderName,CardType:creditCard.CardType,CardNumber:"XXXX"+creditCard.PartialAccountNumber,ExpirationDate:ExpirationDate}})}function _deleteCreditCard(creditCard,buyerID){return _makeApiCall("POST",{buyerID:buyerID?buyerID:OrderCloud.BuyerID.Get(),TransactionType:"deleteCreditCard",CardDetails:{CreditCardID:creditCard.ID}})}function _makeApiCall(method,requestBody){var apiUrl=apiurl+"/v1/integrationproxy/authorizenettest",d=$q.defer();return $resource(apiUrl,null,{callApi:{method:method,headers:{Authorization:"Bearer "+OrderCloud.Auth.ReadToken()}}}).callApi(requestBody).$promise.then(function(data){d.resolve(data)})["catch"](function(ex){d.reject(ex)}),d.promise}return{CreateCreditCard:_createCreateCard,UpdateCreditCard:_updateCreditCard,DeleteCreditCard:_deleteCreditCard,MakeAuthnetCall:_makeApiCall}}AuthorizeNet.$inject=["$q","$resource","OrderCloud","apiurl","ocCreditCardUtility"],angular.module("orderCloud").factory("ocAuthNet",AuthorizeNet)}(),function(){"use strict";function ocCachedList(){return function(items,page){if(items&&page){var results=[];return angular.forEach(items,function(item){item.MetaPage&&item.MetaPage==page&&results.push(item)}),results}}}angular.module("orderCloud").filter("ocCachedList",ocCachedList)}(),function(){"use strict";function AddressFilter(){return function(address,option){if(!address)return null;if("full"===option){var result=[];return address.AddressName&&result.push("<b>"+address.AddressName+"</b>"),(address.FirstName||address.LastName)&&result.push(address.FirstName&&!address.LastName?address.FirstName:!address.FirstName&&address.LastName?address.LastName:address.FirstName+" "+address.LastName),address.CompanyName&&result.push(address.CompanyName),result.push(address.Street1),address.Street2&&result.push(address.Street2),result.push(address.City+", "+address.State+" "+address.Zip),address.Phone&&result.push(address.Phone),result.join("<br/>")}return"fullOneLine"==option?address.Street1+(address.Street2?", "+address.Street2:"")+" "+address.City+", "+address.State+" "+address.Zip:address.Street1+(address.Street2?", "+address.Street2:"")}}angular.module("orderCloud").filter("address",AddressFilter)}(),function(){"use strict";function faCreditCard(){return function(type){var result="fa-credit-card-alt";if(!type)return result;switch(type.toLowerCase()){case"visa":result="fa-cc-visa";break;case"mastercard":result="fa-cc-mastercard";break;case"american express":result="fa-cc-amex";break;case"diners club":result="fa-cc-diners-club";break;case"discover":result="fa-cc-discover";break;case"jcb":result="fa-cc-jcb";break;default:result="fa-credit-card-alt"}return result}}angular.module("orderCloud").filter("faCreditCard",faCreditCard)}(),function(){"use strict";function humanize(){return function(string){return string?string.replace(/([A-Z])/g," $1").replace(/^./,function(str){return str.toUpperCase()}).trim():void 0}}angular.module("orderCloud").filter("humanize",humanize)}(),function(){"use strict";function prettySubmit(){return{restrict:"A",link:function(scope,element){var el=document.createElement("div");el.setAttribute("ongesturestart","return;");var isTouch="function"==typeof el.ongesturestart;isTouch&&($(element).attr("action","."),$(element).submit(function(event){event.preventDefault(),$(document.activeElement).blur()}))}}}angular.module("orderCloud").directive("prettySubmit",prettySubmit)}(),function(){"use strict";function OrderCloudReadonlyRoles(ocRoles,ocRolesService){var directive={restrict:"A",controller:function($scope,$attrs,$element){function analyzeRoles(requiredRoles,any){ocRolesService.UserIsAuthorized(requiredRoles,any)?$element.removeClass("oc-read-only"):(vm.Authorized=!1,$element.addClass("oc-read-only"))}var vm=this;vm.Authorized=!0;var attrValue=$attrs.ocReadonlyRoles,roleGroups=ocRoles.GetRoleGroups();if(attrValue&&!/[^a-z]/i.test(attrValue))if(roleGroups[attrValue]){var roleGroup=roleGroups[attrValue];analyzeRoles(roleGroup.Roles,"Any"==roleGroup.Type)}else analyzeRoles([attrValue]);else if(attrValue.split(" || ").length>1)analyzeRoles(attrValue.split(" || "),!0);else{var value=JSON.parse($attrs.ocReadonlyRoles.replace(/'/g,'"'));angular.isArray(value)&&value.length&&"string"==typeof value[0]&&analyzeRoles(value)}}};return directive}function OrderCloudReadonlyRolesInput(){function link(scope,element,attr,ctrl){var ocReadonlyRolesCtrl=ctrl[0];if(ocReadonlyRolesCtrl){var authorized=ocReadonlyRolesCtrl.Authorized;authorized||("checkbox"==element.attr("type")||attr.uibDatepickerPopup?element.attr("disabled",!0):element.attr("readonly",!0))}}var directive={restrict:"E",priority:-1e3,require:["^?ocReadonlyRoles"],link:link};return directive}function OrderCloudReadonlyRolesTextArea(){function link(scope,element,attr,ctrl){var ocReadonlyRolesCtrl=ctrl[0];if(ocReadonlyRolesCtrl){var authorized=ocReadonlyRolesCtrl.Authorized;authorized||element.attr("readonly",!0)}}var directive={restrict:"E",priority:-1e3,require:["^?ocReadonlyRoles"],link:link};return directive}function OrderCloudReadonlyRolesSelect(){function link(scope,element,attr,ctrl){var ocReadonlyRolesCtrl=ctrl[0];if(ocReadonlyRolesCtrl){var authorized=ocReadonlyRolesCtrl.Authorized;authorized||element.attr("disabled",!0)}}var directive={restrict:"E",require:["^?ocReadonlyRoles"],link:link};return directive}function OrderCloudReadonlyRolesButton(){function link(scope,element,attr,ctrl){var ocReadonlyRolesCtrl=ctrl[0];if(ocReadonlyRolesCtrl){var authorized=ocReadonlyRolesCtrl.Authorized;authorized||element.attr("ng-disabled")||element.hasClass("close")||element.attr("disabled",!0)}}var directive={restrict:"E",priority:-1e3,require:["^?ocReadonlyRoles"],link:link};return directive}OrderCloudReadonlyRoles.$inject=["ocRoles","ocRolesService"],angular.module("orderCloud").directive("ocReadonlyRoles",OrderCloudReadonlyRoles).directive("input",OrderCloudReadonlyRolesInput).directive("textarea",OrderCloudReadonlyRolesTextArea).directive("select",OrderCloudReadonlyRolesSelect).directive("button",OrderCloudReadonlyRolesButton)}(),function(){"use strict";function OCQuantityInput(toastr,OrderCloud,$rootScope){return{scope:{product:"=",lineitem:"=",label:"@",order:"=",onUpdate:"&"},templateUrl:"common/directives/oc-quantity-input/oc-quantity-input.html",replace:!0,link:function(scope){scope.product?(scope.item=scope.product,scope.content="product"):scope.lineitem?(scope.item=scope.lineitem,scope.content="lineitem",scope.updateQuantity=function(){scope.item.Quantity>0&&OrderCloud.LineItems.Patch(scope.order.ID,scope.item.ID,{Quantity:scope.item.Quantity}).then(function(data){data.Product=scope.lineitem.Product,scope.item=data,scope.lineitem=data,"function"==typeof scope.onUpdate&&scope.onUpdate(scope.lineitem),toastr.success("Quantity Updated"),$rootScope.$broadcast("OC:UpdateOrder",scope.order.ID,"Calculating Order Total")})}):(toastr.error("Please input either a product or lineitem attribute in the directive","Error"),console.error("Please input either a product or lineitem attribute in the quantityInput directive "))}}}OCQuantityInput.$inject=["toastr","OrderCloud","$rootScope"],angular.module("orderCloud").directive("ocQuantityInput",OCQuantityInput)}(),function(){"use strict";function OrderCloudIfRoles(ocRolesService,ocRoles){function link(scope,element,attr,ctrl){function analyzeRoles(requiredRoles,any){ocRolesService.UserIsAuthorized(requiredRoles,any)||removeElement()}function removeElement(){element.before("<!-- ocIfPermissions: "+attr.ocIfRoles+" -->"),element.remove()}var attrValue=attr.ocIfRoles,roleGroups=ocRoles.GetRoleGroups();if(attrValue&&!/[^a-z]/i.test(attrValue))if(roleGroups[attrValue]){var roleGroup=roleGroups[attrValue];analyzeRoles(roleGroup.Roles,"Any"==roleGroup.Type)}else analyzeRoles([attrValue]);else attrValue.split(" || ").length>1?analyzeRoles(attrValue.split(" || "),!0):scope.$watch(attr.ocIfRoles,function(value){angular.isArray(value)&&value.length&&"string"==typeof value[0]&&analyzeRoles(value)})}var directive={multiElement:!0,restrict:"A",priority:599,link:link};return directive}OrderCloudIfRoles.$inject=["ocRolesService","ocRoles"],angular.module("orderCloud").directive("ocIfRoles",OrderCloudIfRoles)}(),function(){"use strict";function ordercloudFileUpload($parse,ocFileReader,ocFilesService){function link(scope,element,attrs){function afterSelection(file,fileName){ocFilesService.Upload(file,fileName).then(function(fileData){scope.model.xp||(scope.model.xp={}),scope.model.xp.image={},scope.model.xp.image.URL=fileData.Location,scope.patch&&scope.patch({xp:scope.model.xp})})}function updateModel(event){switch(event.target.name){case"upload":if(null==event.target.files[0])return;var fileName=event.target.files[0].name,valid=!0;if((allowed.Extensions.length||allowed.Types.length)&&fileName){var ext=fileName.split(".").pop().toLowerCase();valid=-1!=allowed.Extensions.indexOf(ext)||allowed.Types.indexOf(event.target.files[0].type.split("/")[0])>-1}valid?scope.$apply(function(){ocFileReader.ReadAsDataUrl(event.target.files[0],scope).then(function(){afterSelection(event.target.files[0],fileName)}),file_input.assign(scope,event.target.files[0])}):scope.$apply(function(){scope.invalidExtension=!0;var input;event.target.files[0]=null,el.find("input").replaceWith(input=el.find("input").clone(!0)),scope.model.xp.image||(scope.model.xp.image={}),scope.model.xp.image.URL=null})}}var file_input=$parse("file"),el=element;scope.invalidExtension=!1,scope.upload=function(){$("#orderCloudUpload").click()},scope.remove=function(){delete scope.model.xp.image.URL};var allowed={Extensions:[],Types:[]};if(scope.extensions){var items=_.map(scope.extensions.split(","),function(ext){return ext.replace(/ /g,"").replace(/\./g,"").toLowerCase()});angular.forEach(items,function(item){item.indexOf("/")>-1?item.indexOf("*")>-1?allowed.Types.push(item.split("/")[0]):allowed.Extensions.push(item.split("/")[1]):allowed.Extensions.push(item)})}element.bind("change",updateModel)}var directive={scope:{model:"=",extensions:"@",invalidExtension:"@",patch:"&"},restrict:"E",templateUrl:"common/directives/oc-file-upload/oc-file-upload.html",replace:!0,link:link};return directive}ordercloudFileUpload.$inject=["$parse","ocFileReader","ocFilesService"],angular.module("orderCloud").directive("ocFileUpload",ordercloudFileUpload)}(),function(){"use strict";function confirmpassword(){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,ngModel){if(ngModel){scope.$watch(attrs.ngModel,function(){validate()}),attrs.$observe("confirmpassword",function(val){validate()});var validate=function(){var val1=ngModel.$viewValue,val2=attrs.confirmpassword;val1&&val2&&val1!==val2?ngModel.$setValidity("confirmpassword",!1):ngModel.$setValidity("confirmpassword",!0)}}}}}angular.module("orderCloud").directive("confirmpassword",confirmpassword)}(),function(){"use strict";angular.module("orderCloud").config(["$urlMatcherFactoryProvider","$locationProvider","$urlRouterProvider","defaultstate","html5mode",function($urlMatcherFactoryProvider,$locationProvider,$urlRouterProvider,defaultstate,html5mode){$urlMatcherFactoryProvider.strictMode(!1),$locationProvider.html5Mode(html5mode),$urlRouterProvider.otherwise(function($injector){$injector.get("$state").go(defaultstate)})}])}(),function(){"use strict";angular.module("orderCloud").value("ocIsTouchDevice",!1).config(["$provide",function($provide){$provide.decorator("ocIsTouchDevice",function(){var el=document.createElement("div");return el.setAttribute("ongesturestart","return;"),"function"==typeof el.ongesturestart})}])}(),function(){"use strict";angular.module("orderCloud").config(["ocRolesProvider",function(ocRolesProvider){var roleGroups=[{Name:"BuyerRoles",Type:"Any",Roles:["BuyerReader","BuyerAdmin"]},{Name:"ProductRoles",Type:"Any",Roles:["ProductReader","ProductAdmin"]},{Name:"OrderRoles",Type:"Any",Roles:["OrderReader","OrderAdmin"]},{Name:"AdminUserRoles",Type:"Any",Roles:["AdminUserReader","AdminUserAdmin"]},{Name:"AdminUserGroupRoles",Type:"Any",Roles:["AdminUserGroupReader","AdminUserGroupAdmin"]},{Name:"BuyerUserRoles",Type:"Any",Roles:["BuyerUserReader","BuyerUserAdmin"]},{Name:"UserGroupRoles",Type:"Any",Roles:["UserGroupReader","UserGroupAdmin"]},{Name:"CategoryRoles",Type:"Any",Roles:["CategoryReader","CategoryAdmin"]},{Name:"AddressRoles",Type:"Any",Roles:["AddressReader","AddressAdmin"]},{Name:"CreditCardRoles",Type:"Any",Roles:["CreditCardReader","CreditCardAdmin"]},{Name:"SpendingAccountRoles",Type:"Any",Roles:["SpendingAccountReader","SpendingAccountAdmin"]},{Name:"CostCenterRoles",Type:"Any",Roles:["CostCenterReader","CostCenterAdmin"]},{Name:"ApprovalRuleRoles",Type:"Any",Roles:["ApprovalRuleReader","ApprovalRuleAdmin"]},{Name:"PromotionRoles",Type:"Any",Roles:["PromotionReader","PromotionAdmin"]}];angular.forEach(roleGroups,function(roleGroup){ocRolesProvider.AddRoleGroup(roleGroup)})}])}(),function(){"use strict";angular.module("orderCloud").config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push(["$q","$injector",function($q,$injector){return{responseError:function(rejection){return rejection.config.url.indexOf("ordercloud.io")>-1&&401==rejection.status&&($injector.get("anonymous")?$injector.get("LoginService").AuthAnonymous():$injector.get("LoginService").RememberMe()),rejection.config.url.indexOf("ordercloud.io")>-1&&403==rejection.status&&(rejection.data.Errors[0].Message="You do not have permission to do this."),$q.reject(rejection)}}}])}])}(),function(){"use strict";function LocalForage($localForageProvider){$localForageProvider.config({version:1,name:"OrderCloud",storeName:"four51",description:"Four51 OrderCloud Local Storage"})}LocalForage.$inject=["$localForageProvider"],angular.module("orderCloud").config(LocalForage)}(),function(){"use strict";angular.module("orderCloud").config(["$qProvider","$provide",function($qProvider,$provide){function handler($delegate,$injector){return function(ex,cause){ex&&($delegate(ex,cause),$injector.get("toastr").error(ex.data?ex.data.error||(ex.data.Errors?ex.data.Errors[0].Message:ex.data):ex.message,"Error"))}}handler.$inject=["$delegate","$injector"],$provide.value("ocErrorMessages",{customPassword:"Password must be at least eight characters long and include at least one letter and one number",positiveInteger:"Please enter a positive integer",ID_Name:"Only Alphanumeric characters, hyphens and underscores are allowed",confirmpassword:"Your passwords do not match",noSpecialChars:"Only Alphanumeric characters are allowed","Buyer.UnavailableID":"This ID is already in use.","LineItem.UnavailableID":"This ID is already in use.","User.UsernameMustBeUnique":"This username is already in use."}),$provide.decorator("$exceptionHandler",handler),$qProvider.errorOnUnhandledRejections(!1)}])}(),function(){"use strict";angular.module("orderCloud").config(["toastrConfig",function(toastrConfig){angular.extend(toastrConfig,{containerId:"toast-container",maxOpened:5,newestOnTop:!0,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!0,progressBar:!0,tapToClose:!0,target:"body",extendedTimeOut:1e3,timeOut:4e3,iconClasses:{error:"alert-danger",info:"alert-info",success:"alert-success",warning:"alert-warning"},toastClass:"alert alert-dismissable",closeButton:!0,closeHtml:'<button type="button" class="close hidden-xs" aria-label="Close"><span aria-hidden="true">&times;</span></button>'})}])}(),function(){"use strict";angular.module("orderCloud").config(["angularBusyDefaults",function(angularBusyDefaults){angular.extend(angularBusyDefaults,{templateUrl:"common/config/angular-busy/angular-busy.html",message:null,wrapperClass:"indicator-container"})}])}(),function(){"use strict";angular.module("orderCloud").config(["uibDatepickerConfig","uibDatepickerPopupConfig","$uibModalProvider",function(uibDatepickerConfig,uibDatepickerPopupConfig,$uibModalProvider){uibDatepickerConfig.showWeeks=!1,uibDatepickerPopupConfig.onOpenFocus=!1,uibDatepickerPopupConfig.showButtonBar=!1,$uibModalProvider.options.backdrop="static"}])}(),function(){"use strict";function OCPaymentPurchaseOrder(){return{restrict:"E",scope:{order:"=",payment:"=?"},templateUrl:"checkout/payment/directives/templates/purchaseOrder.tpl.html",controller:"PaymentPurchaseOrderCtrl"}}function PaymentPurchaseOrderController($scope,$rootScope,toastr,OrderCloud,$exceptionHandler){$scope.payment?("PurchaseOrder"!=$scope.payment.Type||null!=$scope.payment.CreditCardID||null!=$scope.payment.SpendingAccountID)&&($scope.payment.Type="PurchaseOrder",$scope.payment.CreditCardID=null,$scope.payment.SpendingAccountID=null,OrderCloud.Payments.Patch($scope.order.ID,$scope.payment.ID,$scope.payment).then(function(){toastr.success("Paying by purchase order","Purchase Order Payment"),$rootScope.$broadcast("OC:PaymentsUpdated")})):OrderCloud.Payments.List($scope.order.ID).then(function(data){data.Items.length?OrderCloud.Payments.Patch($scope.order.ID,data.Items[0].ID,{Type:"PurchaseOrder",CreditCardID:null,SpendingAccountID:null,Amount:null}).then(function(data){$scope.payment=data}):OrderCloud.Payments.Create($scope.order.ID,{Type:"PurchaseOrder"}).then(function(data){$scope.payment=data})}),$scope.updatePayment=function(){$scope.payment.xp&&$scope.payment.xp.PONumber&&!$scope.payment.xp.PONumber.length&&($scope.payment.xp.PONumber=null),OrderCloud.Payments.Update($scope.order.ID,$scope.payment.ID,$scope.payment).then(function(){toastr.success("Purchase Order Number Saved"),$rootScope.$broadcast("OC:PaymentsUpdated")})["catch"](function(ex){$exceptionHandler(ex)})}}function OCPaymentSpendingAccount(){return{restrict:"E",scope:{order:"=",payment:"=?",excludedSpendingAccounts:"=?excludeOptions"},templateUrl:"checkout/payment/directives/templates/spendingAccount.tpl.html",controller:"PaymentSpendingAccountCtrl",controllerAs:"paymentSA"}}function PaymentSpendingAccountController($scope,$rootScope,toastr,OrderCloud,$exceptionHandler){OrderCloud.Me.ListSpendingAccounts(null,1,100,null,null,{RedemptionCode:"!*",AllowAsPaymentMethod:!0}).then(function(data){$scope.spendingAccounts=data.Items}),$scope.payment?(delete $scope.payment.CreditCardID,$scope.payment.xp&&$scope.payment.xp.PONumber&&($scope.payment.xp.PONumber=null),$scope.payment.SpendingAccountID||($scope.showPaymentOptions=!0)):OrderCloud.Payments.List($scope.order.ID).then(function(data){data.Items.length?OrderCloud.Payments.Patch($scope.order.ID,data.Items[0].ID,{Type:"SpendingAccount",xp:{PONumber:null},CreditCardID:null,SpendingAccountID:null,Amount:null}).then(function(data){$scope.payment=data,$scope.payment.SpendingAccountID||($scope.showPaymentOptions=!0)}):OrderCloud.Payments.Create($scope.order.ID,{Type:"SpendingAccount"}).then(function(data){$scope.payment=data,$scope.showPaymentOptions=!0})}),$scope.changePayment=function(){$scope.showPaymentOptions=!0},$scope.updatePayment=function(scope){var oldSelection=angular.copy($scope.payment.SpendingAccountID);$scope.payment.SpendingAccountID=scope.spendingAccount.ID,$scope.updatingSpendingAccountPayment=OrderCloud.Payments.Update($scope.order.ID,$scope.payment.ID,$scope.payment).then(function(){$scope.showPaymentOptions=!1,toastr.success("Using "+scope.spendingAccount.Name,"Spending Account Payment"),$rootScope.$broadcast("OC:PaymentsUpdated")})["catch"](function(ex){$scope.payment.SpendingAccountID=oldSelection,$exceptionHandler(ex)})},$scope.$watch("payment",function(n,o){n&&!n.SpendingAccountID?$scope.OCPaymentSpendingAccount.$setValidity("SpendingAccount_Not_Set",!1):$scope.OCPaymentSpendingAccount.$setValidity("SpendingAccount_Not_Set",!0)},!0)}function OCPaymentCreditCard(){return{restrict:"E",scope:{order:"=",payment:"=?",excludedCreditCards:"=?excludeOptions"},templateUrl:"checkout/payment/directives/templates/creditCard.tpl.html",controller:"PaymentCreditCardCtrl",controllerAs:"paymentCC"}}function PaymentCreditCardController($scope,$rootScope,toastr,$filter,OrderCloud,MyPaymentCreditCardModal,$exceptionHandler){OrderCloud.Me.ListCreditCards(null,1,100,null,null,{}).then(function(data){$scope.creditCards=data.Items}),$scope.payment?(delete $scope.payment.SpendingAccountID,$scope.payment.xp&&$scope.payment.xp.PONumber&&($scope.payment.xp.PONumber=null),$scope.payment.CreditCardID||($scope.showPaymentOptions=!0)):OrderCloud.Payments.List($scope.order.ID).then(function(data){data.Items.length?OrderCloud.Payments.Patch($scope.order.ID,data.Items[0].ID,{Type:"CreditCard",xp:{PONumber:null},SpendingAccountID:null,Amount:null}).then(function(data){$scope.payment=data,$scope.payment.SpendingAccountID||($scope.showPaymentOptions=!0)}):OrderCloud.Payments.Create($scope.order.ID,{Type:"CreditCard"}).then(function(data){$scope.payment=data,$scope.showPaymentOptions=!0})}),$scope.changePayment=function(){$scope.showPaymentOptions=!0},$scope.$watch("payment",function(n,o){n&&!n.CreditCardID?$scope.OCPaymentCreditCard.$setValidity("CreditCard_Not_Set",!1):$scope.OCPaymentCreditCard.$setValidity("CreditCard_Not_Set",!0)},!0),$scope.updatePayment=function(scope){var oldSelection=angular.copy($scope.payment.CreditCardID);$scope.payment.CreditCardID=scope.creditCard.ID,$scope.updatingCreditCardPayment=OrderCloud.Payments.Update($scope.order.ID,$scope.payment.ID,$scope.payment).then(function(){$scope.showPaymentOptions=!1,toastr.success("Using "+$filter("humanize")(scope.creditCard.CardType)+" ending in "+scope.creditCard.PartialAccountNumber,"Credit Card Payment"),$rootScope.$broadcast("OC:PaymentsUpdated")})["catch"](function(ex){$scope.payment.CreditCardID=oldSelection,$exceptionHandler(ex)})},$scope.createCreditCard=function(){MyPaymentCreditCardModal.Create().then(function(card){toastr.success("Credit Card Created","Success"),$scope.creditCards.push(card),$scope.updatePayment({creditCard:card})})}}function OCPayment(){return{restrict:"E",scope:{order:"=",methods:"=?",payment:"=?",paymentIndex:"=?",excludeOptions:"=?"},templateUrl:"checkout/payment/directives/templates/payment.tpl.html",controller:"PaymentCtrl",controllerAs:"ocPayment"}}function PaymentController($scope,$rootScope,OrderCloud,CheckoutConfig){$scope.methods||($scope.methods=CheckoutConfig.AvailablePaymentMethods),$scope.payment?1==$scope.methods.length&&($scope.payment.Type=$scope.methods[0]):OrderCloud.Payments.List($scope.order.ID).then(function(data){CheckoutPaymentService.PaymentsExceedTotal(data,$scope.order.Total)?CheckoutPaymentService.RemoveAllPayments(data,$scope.order).then(function(data){OrderCloud.Payments.Create($scope.order.ID,{Type:CheckoutConfig.AvailablePaymentMethods[0]}).then(function(data){$scope.payment=data,$rootScope.$broadcast("OC:PaymentsUpdated")})}):data.Items.length?($scope.payment=data.Items[0],1==$scope.methods.length&&($scope.payment.Type=$scope.methods[0])):OrderCloud.Payments.Create($scope.order.ID,{Type:CheckoutConfig.AvailablePaymentMethods[0]}).then(function(data){$scope.payment=data,$rootScope.$broadcast("OC:PaymentsUpdated")})})}function OCPayments(){return{restrict:"E",scope:{order:"=",methods:"=?"},templateUrl:"checkout/payment/directives/templates/payments.tpl.html",controller:"PaymentsCtrl"}}function PaymentsController($rootScope,$scope,$exceptionHandler,toastr,OrderCloud,CheckoutPaymentService,CheckoutConfig){function calculateMaxTotal(){var paymentTotal=0;$scope.excludeOptions={SpendingAccounts:[],CreditCards:[]},angular.forEach($scope.payments.Items,function(payment){paymentTotal+=payment.Amount,payment.SpendingAccountID&&$scope.excludeOptions.SpendingAccounts.push(payment.SpendingAccountID),payment.CreditCardID&&$scope.excludeOptions.CreditCards.push(payment.CreditCardID);var maxAmount=$scope.order.Total-_.reduce(_.pluck($scope.payments.Items,"Amount"),function(a,b){return a+b});payment.MaxAmount=(payment.Amount+maxAmount).toFixed(2)}),$scope.canAddPayment=paymentTotal<$scope.order.Total,$scope.OCPayments&&$scope.OCPayments.$setValidity("Insufficient_Payment",!$scope.canAddPayment)}$scope.methods||($scope.methods=CheckoutConfig.AvailablePaymentMethods),OrderCloud.Payments.List($scope.order.ID).then(function(data){data.Items.length?CheckoutPaymentService.PaymentsExceedTotal(data,$scope.order.Total)?CheckoutPaymentService.RemoveAllPayments(data,$scope.order).then(function(data){$scope.payments={Items:[]},$scope.addNewPayment()}):($scope.payments=data,calculateMaxTotal()):($scope.payments={Items:[]},$scope.addNewPayment())}),$scope.addNewPayment=function(){OrderCloud.Payments.Create($scope.order.ID,{Type:CheckoutConfig.AvailablePaymentMethods[0]}).then(function(data){$scope.payments.Items.push(data),calculateMaxTotal(),toastr.success("Payment Added")})},$scope.removePayment=function(scope){OrderCloud.Payments.Delete($scope.order.ID,scope.payment.ID).then(function(){$scope.payments.Items.splice(scope.$index,1),calculateMaxTotal(),toastr.success("Payment Removed")})},$scope.updatePaymentAmount=function(scope){scope.payment.Amount>scope.payment.MaxAmount||!scope.payment.Amount||OrderCloud.Payments.Update($scope.order.ID,scope.payment.ID,scope.payment).then(function(data){toastr.success("Payment Amount Updated"),calculateMaxTotal()})["catch"](function(ex){$exceptionHandler(ex)})},$rootScope.$on("OC:PaymentsUpdated",function(){calculateMaxTotal()})}PaymentPurchaseOrderController.$inject=["$scope","$rootScope","toastr","OrderCloud","$exceptionHandler"],PaymentSpendingAccountController.$inject=["$scope","$rootScope","toastr","OrderCloud","$exceptionHandler"],PaymentCreditCardController.$inject=["$scope","$rootScope","toastr","$filter","OrderCloud","MyPaymentCreditCardModal","$exceptionHandler"],PaymentController.$inject=["$scope","$rootScope","OrderCloud","CheckoutConfig"],PaymentsController.$inject=["$rootScope","$scope","$exceptionHandler","toastr","OrderCloud","CheckoutPaymentService","CheckoutConfig"],angular.module("orderCloud").directive("ocPaymentPo",OCPaymentPurchaseOrder).controller("PaymentPurchaseOrderCtrl",PaymentPurchaseOrderController).directive("ocPaymentSa",OCPaymentSpendingAccount).controller("PaymentSpendingAccountCtrl",PaymentSpendingAccountController).directive("ocPaymentCc",OCPaymentCreditCard).controller("PaymentCreditCardCtrl",PaymentCreditCardController).directive("ocPayment",OCPayment).controller("PaymentCtrl",PaymentController).directive("ocPayments",OCPayments).controller("PaymentsCtrl",PaymentsController)}(),function(){"use strict";function StyleguideConfig($stateProvider){$stateProvider.state("styleguide",{parent:"base",url:"/styleguide",templateUrl:"styles/styleguide/templates/styleguide.html",controller:"StyleguideCtrl",controllerAs:"styleguide"})}function StyleguideController(){}StyleguideConfig.$inject=["$stateProvider"],angular.module("orderCloud").config(StyleguideConfig).controller("StyleguideCtrl",StyleguideController)}(),function(){"use strict";function OCSpecForm(OrderCloud){return{scope:{product:"="},templateUrl:"productDetail/specForm/templates/specForm.tpl.html",replace:!0,link:function(scope){return scope.product.SpecCount>0?void OrderCloud.Me.ListSpecs(scope.product.ID,null,1,100).then(function(data){angular.forEach(data.Items,function(obj,key){obj.DefaultValue&&0==obj.AllowOpenText?obj.Value=obj.DefaultValue:angular.noop()}),scope.product.Specs=data.Items}):null}}}function SpecSelectionDirective(){return{scope:{spec:"="},templateUrl:"productDetail/specForm/templates/specSelectionField.tpl.html",link:function(scope){scope.spec.DefaultOptionID&&(scope.spec.OptionID=scope.spec.DefaultOptionID),scope.showField=!1,scope.$watch(function(){return scope.spec.OptionID},function(newVal,oldVal){if(newVal){var selectedOption=_.findWhere(scope.spec.Options,{ID:newVal});scope.showField=selectedOption.IsOpenText}})}}}OCSpecForm.$inject=["OrderCloud"],angular.module("orderCloud").directive("ocSpecForm",OCSpecForm).directive("specSelectField",SpecSelectionDirective)}(),function(){"use strict";function ShippingRatesService($q,$resource,OrderCloud,apiurl){function _getRates(order){var deferred=$q.defer(),request={BuyerID:OrderCloud.BuyerID.Get(),TransactionType:"GetRates",OrderID:order.ID};return $resource(shippingRatesURL,{},{getrates:{method:"POST",headers:{Authorization:"Bearer "+OrderCloud.Auth.ReadToken()}}}).getrates(request).$promise.then(function(data){deferred.resolve(data.ResponseBody.Shipments)})["catch"](function(ex){deferred.resolve(null)}),deferred.promise}function _getLineItemRates(order){var deferred=$q.defer(),request={BuyerID:OrderCloud.BuyerID.Get(),TransactionType:"GetLineItemRates",OrderID:order.ID};return $resource(shippingRatesURL,{},{getlineitemrates:{method:"POST",headers:{Authorization:"Bearer "+OrderCloud.Auth.ReadToken()}}}).getlineitemrates(request).$promise.then(function(data){deferred.resolve(data.ResponseBody.Shipments)})["catch"](function(ex){deferred.resolve(null)}),deferred.promise}function _setShippingCost(order,cost){var deferred=$q.defer(),request={BuyerID:OrderCloud.BuyerID.Get(),TransactionType:"SetShippingCost",OrderID:order.ID,ShippingCost:cost};return $resource(shippingRatesURL,{},{setshippingcost:{method:"POST",headers:{Authorization:"Bearer "+OrderCloud.Auth.ReadToken()}}}).setshippingcost(request).$promise.then(function(data){deferred.resolve(data.ResponseBody)})["catch"](function(ex){deferred.resolve(null)}),deferred.promise}function _manageShipments(order,shipments){function updateShippingCost(){_setShippingCost(order,shippingCost).then(function(data){deferred.resolve(data)})["catch"](function(ex){deferred.reject()})}var deferred=$q.defer(),xpPatch={Shippers:[]},shippingCost=0;return angular.forEach(shipments,function(shipment){shipment.SelectedShipper&&(shippingCost+=shipment.SelectedShipper.Price,xpPatch.Shippers.push({Shipper:shipment.SelectedShipper.Description,Cost:shipment.SelectedShipper.Price,LineItemIDs:shipment.LineItemIDs}))}),OrderCloud.Orders.Patch(order.ID,{xp:xpPatch}).then(function(){updateShippingCost()})["catch"](function(){deferred.reject()}),deferred.promise}function _analyzeShipments(order,shippingRates){return order.xp&&order.xp.Shippers&&angular.forEach(order.xp.Shippers,function(shipment){angular.forEach(shippingRates,function(s){if(_.intersection(s.LineItemIDs,shipment.LineItemIDs).length==shipment.LineItemIDs.length){
var selection=_.findWhere(s.Rates,{Description:shipment.Shipper});selection&&(s.SelectedShipper=selection)}})}),shippingRates}var service={GetRates:_getRates,GetLineItemRates:_getLineItemRates,SetShippingCost:_setShippingCost,ManageShipments:_manageShipments,AnalyzeShipments:_analyzeShipments},shippingRatesURL=apiurl+"/v1/integrationproxy/shippingrates";return service}ShippingRatesService.$inject=["$q","$resource","OrderCloud","apiurl"],angular.module("orderCloud").factory("ShippingRates",ShippingRatesService)}(),function(){"use strict";function checkoutShippingConfig($stateProvider){$stateProvider.state("checkout.shipping",{url:"/shipping",templateUrl:"checkout/shipping/templates/checkout.shipping.tpl.html",controller:"CheckoutShippingCtrl",controllerAs:"checkoutShipping"})}function CheckoutShippingController($exceptionHandler,$rootScope,toastr,OrderCloud,MyAddressesModal,AddressSelectModal,ShippingRates,CheckoutConfig){function createAddress(order){MyAddressesModal.Create().then(function(address){toastr.success("Address Created","Success"),order.ShippingAddressID=address.ID,vm.saveShipAddress(order)})}function changeShippingAddress(order){AddressSelectModal.Open("shipping").then(function(address){"create"==address?vm.createAddress(order):(order.ShippingAddressID=address.ID,vm.saveShipAddress(order))})}function saveShipAddress(order){order&&order.ShippingAddressID&&OrderCloud.Orders.Patch(order.ID,{ShippingAddressID:order.ShippingAddressID}).then(function(updatedOrder){$rootScope.$broadcast("OC:OrderShipAddressUpdated",updatedOrder),vm.getShippingRates(order)})["catch"](function(ex){$exceptionHandler(ex)})}function initShippingRates(order){CheckoutConfig.ShippingRates&&order.ShippingAddressID&&vm.getShippingRates(order)}function getShippingRates(order){vm.shippersAreLoading=!0,vm.shippersLoading=ShippingRates.GetRates(order).then(function(shipments){vm.shippersAreLoading=!1,vm.shippingRates=shipments,vm.analyzeShipments(order)})}function analyzeShipments(order){vm.shippingRates=ShippingRates.AnalyzeShipments(order,vm.shippingRates)}function shipperSelected(order){ShippingRates.ManageShipments(order,vm.shippingRates).then(function(){$rootScope.$broadcast("OC:UpdateOrder",order.ID)})}var vm=this;vm.createAddress=createAddress,vm.changeShippingAddress=changeShippingAddress,vm.saveShipAddress=saveShipAddress,vm.shipperSelected=shipperSelected,vm.initShippingRates=initShippingRates,vm.getShippingRates=getShippingRates,vm.analyzeShipments=analyzeShipments}checkoutShippingConfig.$inject=["$stateProvider"],CheckoutShippingController.$inject=["$exceptionHandler","$rootScope","toastr","OrderCloud","MyAddressesModal","AddressSelectModal","ShippingRates","CheckoutConfig"],angular.module("orderCloud").config(checkoutShippingConfig).controller("CheckoutShippingCtrl",CheckoutShippingController)}(),function(){"use strict";function checkoutReviewConfig($stateProvider){$stateProvider.state("checkout.review",{url:"/review",templateUrl:"checkout/review/templates/checkout.review.tpl.html",controller:"CheckoutReviewCtrl",controllerAs:"checkoutReview",resolve:{LineItemsList:["$q","$state","toastr","OrderCloud","ocLineItems","CurrentOrder",function($q,$state,toastr,OrderCloud,ocLineItems,CurrentOrder){var dfd=$q.defer();return OrderCloud.LineItems.List(CurrentOrder.ID).then(function(data){data.Items.length?ocLineItems.GetProductInfo(data.Items).then(function(){dfd.resolve(data)}):dfd.resolve(data)})["catch"](function(){toastr.error("Your order does not contain any line items.","Error"),dfd.reject()}),dfd.promise}],OrderPaymentsDetail:["$q","OrderCloud","CurrentOrder","$state",function($q,OrderCloud,CurrentOrder,$state){return OrderCloud.Payments.List(CurrentOrder.ID).then(function(data){var dfd=$q.defer();data.Items.length||(dfd.reject(),$state.go("checkout.shipping"));var queue=[];return angular.forEach(data.Items,function(payment,index){"CreditCard"===payment.Type&&payment.CreditCardID&&queue.push(function(){var d=$q.defer();return OrderCloud.Me.GetCreditCard(payment.CreditCardID).then(function(cc){data.Items[index].Details=cc,d.resolve()}),d.promise}()),"SpendingAccount"===payment.Type&&payment.SpendingAccountID&&queue.push(function(){var d=$q.defer();return OrderCloud.Me.GetSpendingAccount(payment.SpendingAccountID).then(function(sa){data.Items[index].Details=sa,d.resolve()}),d.resolve()}())}),$q.all(queue).then(function(){dfd.resolve(data)}),dfd.promise})}]}})}function CheckoutReviewController(LineItemsList,OrderPaymentsDetail){var vm=this;vm.payments=OrderPaymentsDetail,vm.lineItems=LineItemsList}checkoutReviewConfig.$inject=["$stateProvider"],CheckoutReviewController.$inject=["LineItemsList","OrderPaymentsDetail"],angular.module("orderCloud").config(checkoutReviewConfig).controller("CheckoutReviewCtrl",CheckoutReviewController)}(),function(){"use strict";function checkoutPaymentConfig($stateProvider){$stateProvider.state("checkout.payment",{url:"/payment",templateUrl:"checkout/payment/templates/checkout.payment.tpl.html",controller:"CheckoutPaymentCtrl",controllerAs:"checkoutPayment"})}function CheckoutPaymentController($exceptionHandler,$rootScope,toastr,OrderCloud,AddressSelectModal,MyAddressesModal){function createAddress(order){return MyAddressesModal.Create().then(function(address){toastr.success("Address Created","Success"),order.BillingAddressID=address.ID,saveBillingAddress(order)})}function changeBillingAddress(order){AddressSelectModal.Open("billing").then(function(address){"create"==address?createAddress(order):(order.BillingAddressID=address.ID,saveBillingAddress(order))})}function saveBillingAddress(order){order&&order.BillingAddressID&&OrderCloud.Orders.Patch(order.ID,{BillingAddressID:order.BillingAddressID}).then(function(updatedOrder){$rootScope.$broadcast("OC:OrderBillAddressUpdated",updatedOrder)})["catch"](function(ex){$exceptionHandler(ex)})}var vm=this;vm.createAddress=createAddress,vm.changeBillingAddress=changeBillingAddress}function CheckoutPaymentService($q,OrderCloud){function _paymentsExceedTotal(payments,orderTotal){var paymentTotal=0;return angular.forEach(payments.Items,function(payment){paymentTotal+=payment.Amount}),paymentTotal.toFixed(2)>orderTotal}function _removeAllPayments(payments,order){var deferred=$q.defer(),queue=[];return angular.forEach(payments.Items,function(payment){queue.push(OrderCloud.Payments.Delete(order.ID,payment.ID))}),$q.all(queue).then(function(){deferred.resolve()}),deferred.promise}var service={PaymentsExceedTotal:_paymentsExceedTotal,RemoveAllPayments:_removeAllPayments};return service}checkoutPaymentConfig.$inject=["$stateProvider"],CheckoutPaymentController.$inject=["$exceptionHandler","$rootScope","toastr","OrderCloud","AddressSelectModal","MyAddressesModal"],CheckoutPaymentService.$inject=["$q","OrderCloud"],angular.module("orderCloud").config(checkoutPaymentConfig).controller("CheckoutPaymentCtrl",CheckoutPaymentController).factory("CheckoutPaymentService",CheckoutPaymentService)}(),function(){"use strict";function checkoutConfirmationConfig($stateProvider){$stateProvider.state("confirmation",{parent:"base",url:"/confirmation/:orderid",templateUrl:"checkout/confirmation/templates/checkout.confirmation.tpl.html",controller:"CheckoutConfirmationCtrl",controllerAs:"checkoutConfirmation",resolve:{SubmittedOrder:["$stateParams","OrderCloud",function($stateParams,OrderCloud){return OrderCloud.Me.GetOrder($stateParams.orderid)}],OrderShipAddress:["SubmittedOrder","OrderCloud",function(SubmittedOrder,OrderCloud){return OrderCloud.Me.GetAddress(SubmittedOrder.ShippingAddressID)}],OrderPromotions:["SubmittedOrder","OrderCloud",function(SubmittedOrder,OrderCloud){return OrderCloud.Orders.ListPromotions(SubmittedOrder.ID)}],OrderBillingAddress:["SubmittedOrder","OrderCloud",function(SubmittedOrder,OrderCloud){return OrderCloud.Me.GetAddress(SubmittedOrder.BillingAddressID)}],OrderPayments:["$q","SubmittedOrder","OrderCloud",function($q,SubmittedOrder,OrderCloud){var deferred=$q.defer();return OrderCloud.Payments.List(SubmittedOrder.ID).then(function(data){var queue=[];angular.forEach(data.Items,function(payment,index){"CreditCard"===payment.Type&&payment.CreditCardID?queue.push(function(){var d=$q.defer();return OrderCloud.Me.GetCreditCard(payment.CreditCardID).then(function(cc){data.Items[index].Details=cc,d.resolve()}),d.promise}()):"SpendingAccount"===payment.Type&&payment.SpendingAccountID&&queue.push(function(){var d=$q.defer();return OrderCloud.Me.GetSpendingAccount(payment.SpendingAccountID).then(function(cc){data.Items[index].Details=cc,d.resolve()}),d.promise}())}),$q.all(queue).then(function(){deferred.resolve(data)})}),deferred.promise}],LineItemsList:["$q","$state","toastr","ocLineItems","SubmittedOrder","OrderCloud",function($q,$state,toastr,ocLineItems,SubmittedOrder,OrderCloud){var dfd=$q.defer();return OrderCloud.LineItems.List(SubmittedOrder.ID).then(function(data){ocLineItems.GetProductInfo(data.Items).then(function(){dfd.resolve(data)})}),dfd.promise}]}})}function CheckoutConfirmationController(SubmittedOrder,OrderShipAddress,OrderPromotions,OrderBillingAddress,OrderPayments,LineItemsList){var vm=this;vm.order=SubmittedOrder,vm.shippingAddress=OrderShipAddress,vm.promotions=OrderPromotions.Items,vm.billingAddress=OrderBillingAddress,vm.payments=OrderPayments.Items,vm.lineItems=LineItemsList}checkoutConfirmationConfig.$inject=["$stateProvider"],CheckoutConfirmationController.$inject=["SubmittedOrder","OrderShipAddress","OrderPromotions","OrderBillingAddress","OrderPayments","LineItemsList"],angular.module("orderCloud").config(checkoutConfirmationConfig).controller("CheckoutConfirmationCtrl",CheckoutConfirmationController)}(),function(){"use strict";function RepeatOrderCtrl(toastr,RepeatOrderFactory,$uibModal){var vm=this;vm.$onInit=function(){"undefined"===vm.orderid&&toastr.error("repeat order component is not configured correctly. orderid is a required attribute","Error")},vm.openReorderModal=function(){$uibModal.open({templateUrl:"repeatOrder/templates/repeatOrder.modal.html",controller:RepeatOrderModalCtrl,controllerAs:"repeatModal",size:"md",resolve:{OrderID:function(){return vm.currentOrderId},LineItems:function(){return RepeatOrderFactory.GetValidLineItems(vm.originalOrderId)}}})}}function RepeatOrderModalCtrl(LineItems,OrderID,$uibModalInstance,$state,RepeatOrderFactory){var vm=this;vm.orderid=OrderID,vm.invalidLI=LineItems.invalid,vm.validLI=LineItems.valid,vm.cancel=function(){$uibModalInstance.dismiss()},vm.submit=function(){vm.loading={templateUrl:"common/loading-indicators/templates/view.loading.tpl.html",message:"Adding Products to Cart"},vm.loading.promise=RepeatOrderFactory.AddLineItemsToCart(vm.validLI,vm.orderid).then(function(){$uibModalInstance.close(),$state.go("cart",{},{reload:!0})})}}function RepeatOrderFactory($q,$rootScope,toastr,$exceptionHandler,OrderCloud,ocLineItems){function getValidLineItems(originalOrderID){function ListAllMeProducts(){var dfd=$q.defer(),queue=[];return OrderCloud.Me.ListProducts(null,1,100).then(function(data){var productList=data;if(data.Meta.TotalPages>data.Meta.Page)for(var page=data.Meta.Page;page<data.Meta.TotalPages;)page+=1,queue.push(OrderCloud.Me.ListProducts(null,page,100));$q.all(queue).then(function(results){angular.forEach(results,function(result){productList.Items=[].concat(productList.Items,result.Items)}),dfd.resolve(productList.Items)})["catch"](function(err){dfd.reject(err)})}),dfd.promise}var dfd=$q.defer();return ListAllMeProducts().then(function(productList){var productIds=_.pluck(productList,"ID");ocLineItems.ListAll(originalOrderID).then(function(lineItemList){lineItemList.ProductIds=productIds;var valid=[],invalid=[];angular.forEach(lineItemList,function(li){productIds.indexOf(li.ProductID)>-1?valid.push(li):invalid.push(li)}),dfd.resolve({valid:valid,invalid:invalid})})}),dfd.promise}function addLineItemsToCart(validLI,orderID){var queue=[],dfd=$q.defer();return angular.forEach(validLI,function(li){var lineItemToAdd={ProductID:li.ProductID,Quantity:li.Quantity,Specs:li.Specs};queue.push(OrderCloud.LineItems.Create(orderID,lineItemToAdd))}),$q.all(queue).then(function(){dfd.resolve(),toastr.success("Product(s) Add to Cart","Success")})["catch"](function(error){$exceptionHandler(error),dfd.reject(error)}),dfd.promise}return{GetValidLineItems:getValidLineItems,AddLineItemsToCart:addLineItemsToCart}}RepeatOrderFactory.$inject=["$q","$rootScope","toastr","$exceptionHandler","OrderCloud","ocLineItems"],RepeatOrderCtrl.$inject=["toastr","RepeatOrderFactory","$uibModal"],RepeatOrderModalCtrl.$inject=["LineItems","OrderID","$uibModalInstance","$state","RepeatOrderFactory"],angular.module("orderCloud").factory("RepeatOrderFactory",RepeatOrderFactory).controller("RepeatOrderCtrl",RepeatOrderCtrl).controller("RepeatOrderModalCtrl",RepeatOrderModalCtrl).component("ordercloudRepeatOrder",{templateUrl:"repeatOrder/templates/repeatOrder.component.html",controller:RepeatOrderCtrl,bindings:{currentOrderId:"<",originalOrderId:"<"}})}(),function(){"use strict";function ProductSearchConfig($stateProvider){$stateProvider.state("productSearchResults",{parent:"base",url:"/productSearchResults/:searchTerm?page&pageSize&sortBy",templateUrl:"productSearch/templates/productSearch.results.tpl.html",controller:"ProductSearchCtrl",controllerAs:"productSearch",resolve:{Parameters:["ocParameters","$stateParams",function(ocParameters,$stateParams){return ocParameters.Get($stateParams)}],ProductList:["OrderCloud","Parameters",function(OrderCloud,Parameters){return OrderCloud.Me.ListProducts(Parameters.searchTerm,Parameters.page,Parameters.pageSize||12,null,Parameters.sortBy)}]}})}function ProductSearchController($state,ocParameters,Parameters,ProductList){var vm=this;vm.list=ProductList,vm.parameters=Parameters,vm.sortSelection=Parameters.sortBy?0===Parameters.sortBy.indexOf("!")?Parameters.sortBy.split("!")[1]:Parameters.sortBy:null,vm.filter=function(resetPage){$state.go(".",ocParameters.Create(vm.parameters,resetPage))},vm.updateSort=function(value){switch(value?angular.noop():value=vm.sortSelection,vm.parameters.sortBy){case value:vm.parameters.sortBy="!"+value;break;case"!"+value:vm.parameters.sortBy=null;break;default:vm.parameters.sortBy=value}vm.filter(!1)},vm.updatePageSize=function(pageSize){vm.parameters.pageSize=pageSize,vm.filter(!0)},vm.pageChanged=function(page){vm.parameters.page=page,vm.filter(!1)},vm.reverseSort=function(){0===Parameters.sortBy.indexOf("!")?vm.parameters.sortBy=Parameters.sortBy.split("!")[1]:vm.parameters.sortBy="!"+Parameters.sortBy,vm.filter(!1)}}function OrderCloudProductSearchComponent(){return{replace:!0,templateUrl:"productSearch/templates/productSearch.component.tpl.html",controller:"ProductSearchDirectiveCtrl",bindings:{maxProducts:"<"}}}function ProductSearchDirectiveController($state,OrderCloud){var vm=this;vm.getSearchResults=function(){return OrderCloud.Me.ListProducts(vm.searchTerm,1,vm.maxProducts||5).then(function(data){return data.Items})},vm.onSelect=function(productID){$state.go("productDetail",{productid:productID})},vm.onHardEnter=function(searchTerm){$state.go("productSearchResults",{searchTerm:searchTerm})}}function ProductSearchService($uibModal){function _open(){return $uibModal.open({backdrop:"static",templateUrl:"productSearch/templates/productSearch.modal.tpl.html",controller:"ProductSearchModalCtrl",controllerAs:"$ctrl",size:"-full-screen c-productsearch-modal"}).result}var service={Open:_open};return service}function ProductSearchModalController($uibModalInstance,$timeout,$scope,OrderCloud){var vm=this;$timeout(function(){$("#ProductSearchInput").focus()},300),vm.getSearchResults=function(){return OrderCloud.Me.ListProducts(vm.searchTerm,1,vm.maxProducts||5).then(function(data){return data.Items})},vm.cancel=function(){$uibModalInstance.dismiss()},vm.onSelect=function(productID){$uibModalInstance.close({productID:productID})},vm.onHardEnter=function(searchTerm){$uibModalInstance.close({searchTerm:searchTerm})}}ProductSearchConfig.$inject=["$stateProvider"],ProductSearchController.$inject=["$state","ocParameters","Parameters","ProductList"],ProductSearchDirectiveController.$inject=["$state","OrderCloud"],ProductSearchModalController.$inject=["$uibModalInstance","$timeout","$scope","OrderCloud"],ProductSearchService.$inject=["$uibModal"],angular.module("orderCloud").config(ProductSearchConfig).controller("ProductSearchCtrl",ProductSearchController).controller("ProductSearchDirectiveCtrl",ProductSearchDirectiveController).controller("ProductSearchModalCtrl",ProductSearchModalController).component("ordercloudProductSearch",OrderCloudProductSearchComponent()).factory("ProductSearch",ProductSearchService)}(),function(){"use strict";function ProductQuickViewService($uibModal){function _open(currentOrder,product){return $uibModal.open({backdrop:"static",templateUrl:"productQuickView/templates/productQuickView.modal.tpl.html",controller:"ProductQuickViewCtrl",controllerAs:"productQuickView",size:"lg",animation:!1,resolve:{SelectedProduct:function(){return product},CurrentOrder:function(){return currentOrder}}}).result}var service={Open:_open};return service}function ProductQuickViewController(toastr,$uibModalInstance,SelectedProduct,CurrentOrder,ocLineItems){var vm=this;vm.item=SelectedProduct,vm.addToCart=function(){ocLineItems.AddItem(CurrentOrder,vm.item).then(function(){toastr.success("Product added to cart","Success"),$uibModalInstance.close()})},vm.findPrice=function(qty){var finalPriceBreak=null;return angular.forEach(vm.item.StandardPriceSchedule.PriceBreaks,function(priceBreak){priceBreak.Quantity<=qty&&(finalPriceBreak=angular.copy(priceBreak))}),finalPriceBreak.Price*qty},vm.cancel=function(){$uibModalInstance.dismiss()}}ProductQuickViewService.$inject=["$uibModal"],ProductQuickViewController.$inject=["toastr","$uibModalInstance","SelectedProduct","CurrentOrder","ocLineItems"],angular.module("orderCloud").service("ProductQuickView",ProductQuickViewService).controller("ProductQuickViewCtrl",ProductQuickViewController).component("ordercloudProductQuickView",{bindings:{product:"<",currentOrder:"<"},template:'<i class="fa fa-eye text-primary" ng-click="$ctrl.quickView($ctrl.currentOrder, $ctrl.product)"></i>',controller:["ProductQuickView",function(ProductQuickView){this.quickView=function(currentorder,product){ProductQuickView.Open(currentorder,product)}}]})}(),function(){"use strict";function ProductConfig($stateProvider){$stateProvider.state("productDetail",{parent:"base",url:"/product/:productid",templateUrl:"productDetail/templates/productDetail.tpl.html",controller:"ProductDetailCtrl",controllerAs:"productDetail",resolve:{Product:["$stateParams","OrderCloud",function($stateParams,OrderCloud){return OrderCloud.Me.GetProduct($stateParams.productid)}]}})}function ProductDetailController($exceptionHandler,Product,CurrentOrder,ocLineItems,toastr){var vm=this;vm.item=Product,vm.finalPriceBreak=null,vm.addToCart=function(){ocLineItems.AddItem(CurrentOrder,vm.item).then(function(){toastr.success("Product added to cart","Success")})["catch"](function(error){$exceptionHandler(error)})},vm.findPrice=function(qty){return angular.forEach(vm.item.StandardPriceSchedule.PriceBreaks,function(priceBreak){priceBreak.Quantity<=qty&&(vm.finalPriceBreak=angular.copy(priceBreak))}),vm.finalPriceBreak.Price*qty}}ProductConfig.$inject=["$stateProvider"],ProductDetailController.$inject=["$exceptionHandler","Product","CurrentOrder","ocLineItems","toastr"],angular.module("orderCloud").config(ProductConfig).controller("ProductDetailCtrl",ProductDetailController)}(),function(){"use strict";function ProductBrowseConfig($urlRouterProvider,$stateProvider){$urlRouterProvider.when("/browse","/browse/products"),$stateProvider.state("productBrowse",{"abstract":!0,parent:"base",url:"/browse",templateUrl:"productBrowse/templates/productBrowse.tpl.html",controller:"ProductBrowseCtrl",controllerAs:"productBrowse",data:{pageTitle:"Browse Products"},resolve:{Parameters:["$stateParams","ocParameters",function($stateParams,ocParameters){return ocParameters.Get($stateParams)}],CategoryList:["OrderCloud",function(OrderCloud){return OrderCloud.Me.ListCategories(null,1,100,null,null,null,"all")}],CategoryTree:["CategoryList",function(CategoryList){function getnode(node){var children=_.where(CategoryList.Items,{ParentID:node.ID});return children.length>0?(node.children=children,angular.forEach(children,function(child){return getnode(child)})):node.children=[],node}var result=[];return angular.forEach(_.where(CategoryList.Items,{ParentID:null}),function(node){result.push(getnode(node))}),result}]}}).state("productBrowse.products",{url:"/products?categoryid?favorites?search?page?pageSize?searchOn?sortBy?filters?depth",templateUrl:"productBrowse/templates/productView.tpl.html",controller:"ProductViewCtrl",controllerAs:"productView",resolve:{Parameters:["$stateParams","ocParameters",function($stateParams,ocParameters){return ocParameters.Get($stateParams)}],ProductList:["OrderCloud","CurrentUser","Parameters",function(OrderCloud,CurrentUser,Parameters){return Parameters.favorites&&CurrentUser.xp.FavoriteProducts?Parameters.filters?angular.extend(Parameters.filters,Parameters.filters,{ID:CurrentUser.xp.FavoriteProducts.join("|")}):Parameters.filters={ID:CurrentUser.xp.FavoriteProducts.join("|")}:Parameters.filters&&delete Parameters.filters.ID,OrderCloud.Me.ListProducts(Parameters.search,Parameters.page,Parameters.pageSize,Parameters.searchOn,Parameters.sortBy,Parameters.filters,Parameters.categoryid)}]}})}function ProductBrowseController($state,$uibModal,CategoryList,CategoryTree,Parameters){var vm=this;vm.parameters=Parameters,vm.categoryList=CategoryList,vm.treeConfig={},vm.treeConfig.treeData=CategoryTree,vm.treeConfig.treeOptions={equality:function(node1,node2){return node2&&node1?node1.ID===node2.ID:node1===node2}},vm.treeConfig.selectNode=function(node){$state.go("productBrowse.products",{categoryid:node.ID,page:""})},vm.treeConfig.initBreadcrumbs=function(activeCategoryID,ignoreSetNode){if(ignoreSetNode||(vm.treeConfig.selectedNode={ID:activeCategoryID},vm.breadcrumb=[]),activeCategoryID){var activeCategory=_.findWhere(vm.categoryList.Items,{ID:activeCategoryID});activeCategory&&(vm.breadcrumb.unshift(activeCategory),activeCategory.ParentID?vm.treeConfig.initBreadcrumbs(activeCategory.ParentID,!0):vm.treeConfig.expandedNodes=angular.copy(vm.breadcrumb))}else vm.treeConfig.expandedNodes=angular.copy(vm.breadcrumb)},vm.toggleFavorites=function(){vm.parameters.filters&&vm.parameters.filters.ID&&delete vm.parameters.filters.ID,vm.parameters.favorites?vm.parameters.favorites="":(vm.parameters.favorites=!0,vm.parameters.page=""),$state.go("productBrowse.products",vm.parameters)},vm.openCategoryModal=function(){$uibModal.open({animation:!0,backdrop:"static",templateUrl:"productBrowse/templates/mobileCategory.modal.tpl.html",controller:"MobileCategoryModalCtrl",controllerAs:"mobileCategoryModal",size:"-full-screen",resolve:{TreeConfig:function(){return vm.treeConfig}}}).result.then(function(node){$state.go("productBrowse.products",{categoryid:node.ID,page:""})})}}function ProductViewController($state,$ocMedia,ocParameters,OrderCloud,CurrentOrder,ProductList,CategoryList,Parameters){var vm=this;vm.parameters=Parameters,vm.categories=CategoryList,vm.list=ProductList,vm.sortSelection=Parameters.sortBy?0==Parameters.sortBy.indexOf("!")?Parameters.sortBy.split("!")[1]:Parameters.sortBy:null,vm.filtersApplied=vm.parameters.filters||$ocMedia("max-width: 767px")&&vm.sortSelection,vm.showFilters=vm.filtersApplied,vm.filter=function(resetPage){$state.go(".",ocParameters.Create(vm.parameters,resetPage))},vm.clearFilters=function(){vm.parameters.filters=null,$ocMedia("max-width: 767px")?vm.parameters.sortBy=null:angular.noop(),vm.filter(!0)},vm.updateSort=function(value){switch(value?angular.noop():value=vm.sortSelection,vm.parameters.sortBy){case value:vm.parameters.sortBy="!"+value;break;case"!"+value:vm.parameters.sortBy=null;break;default:vm.parameters.sortBy=value}vm.filter(!1)},vm.reverseSort=function(){0==Parameters.sortBy.indexOf("!")?vm.parameters.sortBy=Parameters.sortBy.split("!")[1]:vm.parameters.sortBy="!"+Parameters.sortBy,vm.filter(!1)},vm.pageChanged=function(){$state.go(".",{page:vm.list.Meta.Page})},vm.loadMore=function(){return OrderCloud.Me.ListProducts(Parameters.search,vm.list.Meta.Page+1,Parameters.pageSize||vm.list.Meta.PageSize,Parameters.searchOn,Parameters.sortBy,Parameters.filters).then(function(data){vm.list.Items=vm.list.Items.concat(data.Items),vm.list.Meta=data.Meta})}}function PreventClick(){return{link:function($scope,element){element.on("click",function(e){e.stopPropagation()})}}}function MobileCategoryModalController($uibModalInstance,TreeConfig){var vm=this;vm.treeConfig=TreeConfig,vm.cancel=function(){$uibModalInstance.dismiss()},vm.selectNode=function(node){$uibModalInstance.close(node)}}ProductBrowseConfig.$inject=["$urlRouterProvider","$stateProvider"],ProductBrowseController.$inject=["$state","$uibModal","CategoryList","CategoryTree","Parameters"],ProductViewController.$inject=["$state","$ocMedia","ocParameters","OrderCloud","CurrentOrder","ProductList","CategoryList","Parameters"],MobileCategoryModalController.$inject=["$uibModalInstance","TreeConfig"],angular.module("orderCloud").config(ProductBrowseConfig).controller("ProductBrowseCtrl",ProductBrowseController).controller("ProductViewCtrl",ProductViewController).directive("preventClick",PreventClick).controller("MobileCategoryModalCtrl",MobileCategoryModalController)}(),function(){"use strict";function MyPaymentsConfig($stateProvider){$stateProvider.state("myPayments",{parent:"account",url:"/payments",templateUrl:"myPayments/templates/myPayments.tpl.html",controller:"MyPaymentsCtrl",controllerAs:"myPayments",data:{pageTitle:"Payment Methods"},resolve:{UserCreditCards:["OrderCloud",function(OrderCloud){return OrderCloud.Me.ListCreditCards(null,null,null,null,null,{Editable:!0})}],UserSpendingAccounts:["OrderCloud",function(OrderCloud){return OrderCloud.Me.ListSpendingAccounts(null,null,null,null,null,{RedemptionCode:"!*"})}],GiftCards:["OrderCloud",function(OrderCloud){return OrderCloud.Me.ListSpendingAccounts(null,null,null,null,null,{RedemptionCode:"*"})}]}})}function MyPaymentsController($q,$state,toastr,$exceptionHandler,ocConfirm,ocAuthNet,MyPaymentCreditCardModal,UserCreditCards,UserSpendingAccounts,GiftCards){var vm=this;vm.personalCreditCards=UserCreditCards,vm.personalSpendingAccounts=UserSpendingAccounts,vm.giftCards=GiftCards,vm.createCreditCard=function(){MyPaymentCreditCardModal.Create().then(function(data){toastr.success("Credit Card Created","Success"),vm.personalCreditCards.Items.push(data)})},vm.edit=function(scope){MyPaymentCreditCardModal.Edit(scope.creditCard).then(function(data){toastr.success("Credit Card Updated","Success"),vm.personalCreditCards.Items[scope.$index]=data})},vm["delete"]=function(scope){vm.loading=[],ocConfirm.Confirm({message:"Are you sure you want to delete <br> <b>xxxx-xxxx-xxxx-"+scope.creditCard.PartialAccountNumber+"</b>?",confirmText:"Delete credit card",type:"delete"}).then(function(){vm.loading[scope.$index]=ocAuthNet.DeleteCreditCard(scope.creditCard).then(function(){toastr.success("Credit Card Deleted","Success"),vm.personalCreditCards.Items.splice(scope.$index,1)})["catch"](function(error){$exceptionHandler(error)})})}}MyPaymentsConfig.$inject=["$stateProvider"],MyPaymentsController.$inject=["$q","$state","toastr","$exceptionHandler","ocConfirm","ocAuthNet","MyPaymentCreditCardModal","UserCreditCards","UserSpendingAccounts","GiftCards"],angular.module("orderCloud").config(MyPaymentsConfig).controller("MyPaymentsCtrl",MyPaymentsController)}(),function(){"use strict";function MyPaymentCreditCardModalFactory($uibModal){function _create(){return $uibModal.open({templateUrl:"myPayments/templates/myPaymentsCreditCard.create.modal.tpl.html",controller:"CreateCreditCardModalCtrl",controllerAs:"createCreditCard",size:"md"}).result}function _edit(creditCard){var creditCardCopy=angular.copy(creditCard);return $uibModal.open({templateUrl:"myPayments/templates/myPaymentsCreditCard.edit.modal.tpl.html",controller:"EditCreditCardModalCtrl",controllerAs:"editCreditCard",size:"md",resolve:{SelectedCreditCard:function(){return creditCardCopy}}}).result}return{Create:_create,Edit:_edit}}function CreateCreditCardModalController($q,$exceptionHandler,$uibModalInstance,ocCreditCardUtility,ocAuthNet){var vm=this;vm.creditCardInfo=ocCreditCardUtility,vm.creditCard={},vm.cancel=function(){$uibModalInstance.dismiss()},vm.submit=function(){vm.loading={message:"Creating Credit Card"},vm.loading.promise=ocAuthNet.CreateCreditCard(vm.creditCard).then(function(data){$uibModalInstance.close(data.ResponseBody)})["catch"](function(error){$exceptionHandler(error)})}}function EditCreditCardModalController($q,$exceptionHandler,$uibModalInstance,ocCreditCardUtility,ocAuthNet,SelectedCreditCard){var vm=this;vm.creditCardInfo=ocCreditCardUtility,vm.creditCard=SelectedCreditCard;var date=new Date(vm.creditCard.ExpirationDate);vm.creditCard.ExpirationMonth=date.toISOString().substring(5,7),vm.creditCard.ExpirationYear=date.getFullYear(),vm.cancel=function(){$uibModalInstance.dismiss()},vm.submit=function(){vm.loading={message:"Editing Credit Card"},vm.loading.promise=ocAuthNet.UpdateCreditCard(vm.creditCard).then(function(data){$uibModalInstance.close(data.ResponseBody)})["catch"](function(error){$exceptionHandler(error)})}}MyPaymentCreditCardModalFactory.$inject=["$uibModal"],CreateCreditCardModalController.$inject=["$q","$exceptionHandler","$uibModalInstance","ocCreditCardUtility","ocAuthNet"],EditCreditCardModalController.$inject=["$q","$exceptionHandler","$uibModalInstance","ocCreditCardUtility","ocAuthNet","SelectedCreditCard"],angular.module("orderCloud").factory("MyPaymentCreditCardModal",MyPaymentCreditCardModalFactory).controller("CreateCreditCardModalCtrl",CreateCreditCardModalController).controller("EditCreditCardModalCtrl",EditCreditCardModalController)}(),function(){"use strict";function MyOrdersConfig($stateProvider){$stateProvider.state("myOrders",{parent:"account",templateUrl:"myOrders/templates/myOrders.tpl.html",controller:"MyOrdersCtrl",controllerAs:"myOrders",data:{pageTitle:"Order History"},url:"/myorders?from&to&search&page&pageSize&searchOn&sortBy&filters?favorites",resolve:{Parameters:["$stateParams","ocParameters",function($stateParams,ocParameters){return ocParameters.Get($stateParams)}],OrderList:["OrderCloud","Parameters","CurrentUser",function(OrderCloud,Parameters,CurrentUser){Parameters.favorites&&CurrentUser.xp.FavoriteOrders?Parameters.filters?angular.extend(Parameters.filters,Parameters.filters,{ID:CurrentUser.xp.FavoriteOrders.join("|")}):Parameters.filters={ID:CurrentUser.xp.FavoriteOrders.join("|")}:Parameters.filters&&delete Parameters.filters.ID;var showSubmittedOnly=angular.extend({},Parameters.filters,{Status:"!Unsubmitted"});return OrderCloud.Me.ListOutgoingOrders(Parameters.search,Parameters.page,Parameters.pageSize||12,Parameters.searchOn,Parameters.sortBy,showSubmittedOnly,Parameters.from,Parameters.to)}]}}).state("myOrders.detail",{url:"/:orderid",templateUrl:"myOrders/templates/myOrders.detail.tpl.html",controller:"MyOrderDetailCtrl",controllerAs:"myOrderDetail",resolve:{SelectedOrder:["$stateParams","OrderCloud",function($stateParams,OrderCloud){return OrderCloud.Me.GetOrder($stateParams.orderid)}],SelectedPayments:["$stateParams","$q","OrderCloud",function($stateParams,$q,OrderCloud){var deferred=$q.defer();return OrderCloud.Payments.List($stateParams.orderid).then(function(data){var queue=[];angular.forEach(data.Items,function(payment,index){"CreditCard"===payment.Type&&payment.CreditCardID?queue.push(function(){var d=$q.defer();return OrderCloud.Me.GetCreditCard(payment.CreditCardID).then(function(cc){data.Items[index].Details=cc,d.resolve()}),d.promise}()):"SpendingAccount"===payment.Type&&payment.SpendingAccountID&&queue.push(function(){
var d=$q.defer();return OrderCloud.Me.GetSpendingAccount(payment.SpendingAccountID).then(function(cc){data.Items[index].Details=cc,d.resolve()}),d.promise}())}),$q.all(queue).then(function(){deferred.resolve(data)})}),deferred.promise}],LineItemList:["$q","$stateParams","OrderCloud","ocLineItems",function($q,$stateParams,OrderCloud,ocLineItems){var dfd=$q.defer();return OrderCloud.LineItems.List($stateParams.orderid,null,1,100).then(function(data){ocLineItems.GetProductInfo(data.Items).then(function(){dfd.resolve(data)})}),dfd.promise}],PromotionList:["$stateParams","OrderCloud",function($stateParams,OrderCloud){return OrderCloud.Orders.ListPromotions($stateParams.orderid)}]}})}function MyOrdersController($state,$ocMedia,OrderCloud,ocParameters,OrderList,Parameters){var vm=this;vm.list=OrderList,vm.parameters=Parameters,vm.sortSelection=Parameters.sortBy?0==Parameters.sortBy.indexOf("!")?Parameters.sortBy.split("!")[1]:Parameters.sortBy:null,vm.filtersApplied=vm.parameters.filters||vm.parameters.from||vm.parameters.to||$ocMedia("max-width:767px")&&vm.sortSelection,vm.showFilters=vm.filtersApplied,vm.searchResults=Parameters.search&&Parameters.search.length>0,vm.filter=function(resetPage){vm.parameters.filters&&null===vm.parameters.filters.Status&&delete vm.parameters.filters.Status,$state.go(".",ocParameters.Create(vm.parameters,resetPage))},vm.toggleFavorites=function(){vm.parameters.filters&&vm.parameters.filters.ID&&delete vm.parameters.filters.ID,vm.parameters.favorites?vm.parameters.favorites="":(vm.parameters.favorites=!0,vm.parameters.page=""),vm.filter(!0)},vm.search=function(){vm.filter(!0)},vm.clearSearch=function(){vm.parameters.search=null,vm.filter(!0)},vm.clearFilters=function(){vm.parameters.filters=null,vm.parameters.favorites=null,vm.parameters.from=null,vm.parameters.to=null,$ocMedia("max-width:767px")?vm.parameters.sortBy=null:angular.noop(),vm.filter(!0)},vm.updateSort=function(value){switch(value?angular.noop():value=vm.sortSelection,vm.parameters.sortBy){case value:vm.parameters.sortBy="!"+value;break;case"!"+value:vm.parameters.sortBy=null;break;default:vm.parameters.sortBy=value}vm.filter(!1)},vm.reverseSort=function(){0==Parameters.sortBy.indexOf("!")?vm.parameters.sortBy=Parameters.sortBy.split("!")[1]:vm.parameters.sortBy="!"+Parameters.sortBy,vm.filter(!1)},vm.pageChanged=function(page){$state.go(".",{page:page})},vm.loadMore=function(){return OrderCloud.Me.ListIncomingOrders(Parameters.from,Parameters.to,Parameters.search,vm.list.Meta.Page+1,Parameters.pageSize||vm.list.Meta.PageSize,Parameters.searchOn,Parameters.sortBy,Parameters.filters).then(function(data){vm.list.Items=vm.list.Items.concat(data.Items),vm.list.Meta=data.Meta})}}function MyOrderDetailController($state,$exceptionHandler,toastr,OrderCloud,ocConfirm,SelectedOrder,SelectedPayments,LineItemList,PromotionList){var vm=this;vm.order=SelectedOrder,vm.list=LineItemList,vm.paymentList=SelectedPayments.Items,vm.canCancel="Unsubmitted"===SelectedOrder.Status||"AwaitingApproval"===SelectedOrder.Status,vm.promotionList=PromotionList.Meta?PromotionList.Items:PromotionList,vm.cancelOrder=function(orderid){ocConfirm.Confirm({message:"Are you sure you want to cancel this order?",confirmText:"Yes, cancel order",type:"delete"}).then(function(){OrderCloud.Orders.Cancel(orderid).then(function(){$state.go("myOrders",{},{reload:!0}),toastr.success("Order Cancelled","Success")})["catch"](function(ex){$exceptionHandler(ex)})})}}MyOrdersConfig.$inject=["$stateProvider"],MyOrdersController.$inject=["$state","$ocMedia","OrderCloud","ocParameters","OrderList","Parameters"],MyOrderDetailController.$inject=["$state","$exceptionHandler","toastr","OrderCloud","ocConfirm","SelectedOrder","SelectedPayments","LineItemList","PromotionList"],angular.module("orderCloud").config(MyOrdersConfig).controller("MyOrdersCtrl",MyOrdersController).controller("MyOrderDetailCtrl",MyOrderDetailController)}(),function(){"use strict";function MyAddressesModalFactory($uibModal){function _create(){return $uibModal.open({templateUrl:"myAddresses/templates/myAddresses.create.modal.tpl.html",controller:"CreateAddressModalCtrl",controllerAs:"createAddress",size:"md"}).result}function _edit(address){var addressCopy=angular.copy(address);return $uibModal.open({templateUrl:"myAddresses/templates/myAddresses.edit.modal.tpl.html",controller:"EditAddressModalCtrl",controllerAs:"editAddress",size:"md",resolve:{SelectedAddress:function(){return addressCopy}}}).result}return{Create:_create,Edit:_edit}}function CreateAddressModalController($q,$exceptionHandler,$uibModalInstance,OrderCloud,ocGeography){var vm=this;vm.countries=ocGeography.Countries,vm.states=ocGeography.States,vm.address={Country:"US",Shipping:!0,Billing:!0},vm.cancel=function(){$uibModalInstance.dismiss()},vm.submit=function(){vm.loading={message:"Creating Address"},vm.loading.promise=OrderCloud.Me.CreateAddress(vm.address).then(function(address){$uibModalInstance.close(address)})["catch"](function(error){$exceptionHandler(error)})}}function EditAddressModalController($exceptionHandler,$uibModalInstance,OrderCloud,ocGeography,SelectedAddress){var vm=this;vm.countries=ocGeography.Countries,vm.states=ocGeography.States,vm.address=SelectedAddress,vm.addressID=angular.copy(SelectedAddress.ID),vm.address.Shipping=!0,vm.address.Billing=!0,vm.cancel=function(){$uibModalInstance.dismiss()},vm.submit=function(){vm.loading={message:"Saving Address"},vm.loading.promise=OrderCloud.Me.UpdateAddress(vm.addressID,vm.address).then(function(address){$uibModalInstance.close(address)})["catch"](function(error){$exceptionHandler(error)})}}MyAddressesModalFactory.$inject=["$uibModal"],CreateAddressModalController.$inject=["$q","$exceptionHandler","$uibModalInstance","OrderCloud","ocGeography"],EditAddressModalController.$inject=["$exceptionHandler","$uibModalInstance","OrderCloud","ocGeography","SelectedAddress"],angular.module("orderCloud").factory("MyAddressesModal",MyAddressesModalFactory).controller("CreateAddressModalCtrl",CreateAddressModalController).controller("EditAddressModalCtrl",EditAddressModalController)}(),function(){"use strict";function MyAddressesConfig($stateProvider){$stateProvider.state("myAddresses",{parent:"account",url:"/addresses",templateUrl:"myAddresses/templates/myAddresses.tpl.html",controller:"MyAddressesCtrl",controllerAs:"myAddresses",data:{pageTitle:"Personal Addresses"},resolve:{AddressList:["OrderCloud",function(OrderCloud){return OrderCloud.Me.ListAddresses(null,null,null,null,null,{Editable:!0})}]}})}function MyAddressesController(toastr,OrderCloud,ocConfirm,MyAddressesModal,AddressList){var vm=this;vm.list=AddressList,vm.create=function(){MyAddressesModal.Create().then(function(data){toastr.success("Address Created","Success"),vm.list.Items.push(data)})},vm.edit=function(scope){MyAddressesModal.Edit(scope.address).then(function(data){toastr.success("Address Saved","Success"),vm.list.Items[scope.$index]=data})},vm["delete"]=function(scope){vm.loading=[],ocConfirm.Confirm({message:"Are you sure you want to delete <br> <b>"+(scope.address.AddressName?scope.address.AddressName:scope.address.ID)+"</b>?",confirmText:"Delete address",type:"delete"}).then(function(){vm.loading[scope.$index]=OrderCloud.Me.DeleteAddress(scope.address.ID).then(function(){toastr.success("Address Deleted","Success"),vm.list.Items.splice(scope.$index,1)})})["catch"](function(){})}}MyAddressesConfig.$inject=["$stateProvider"],MyAddressesController.$inject=["toastr","OrderCloud","ocConfirm","MyAddressesModal","AddressList"],angular.module("orderCloud").config(MyAddressesConfig).controller("MyAddressesCtrl",MyAddressesController)}(),function(){"use strict";function LoginConfig($stateProvider){$stateProvider.state("login",{url:"/login/:token",templateUrl:"login/templates/login.tpl.html",controller:"LoginCtrl",controllerAs:"login"})}function LoginService($q,$window,$state,$cookies,toastr,OrderCloud,ocRolesService,clientid,buyerid,anonymous){function _sendVerificationCode(email){var deferred=$q.defer(),passwordResetRequest={Email:email,ClientID:clientid,URL:encodeURIComponent($window.location.href)+"{0}"};return OrderCloud.PasswordResets.SendVerificationCode(passwordResetRequest).then(function(){deferred.resolve()})["catch"](function(ex){deferred.reject(ex)}),deferred.promise}function _resetPassword(resetPasswordCredentials,verificationCode){var deferred=$q.defer(),passwordReset={ClientID:clientid,Username:resetPasswordCredentials.ResetUsername,Password:resetPasswordCredentials.NewPassword};return OrderCloud.PasswordResets.ResetPassword(verificationCode,passwordReset).then(function(){deferred.resolve()})["catch"](function(ex){deferred.reject(ex)}),deferred.promise}function _authAnonymous(){return OrderCloud.Auth.GetToken("").then(function(data){OrderCloud.BuyerID.Set(buyerid),OrderCloud.Auth.SetToken(data.access_token),$state.go("home")})}function _logout(){angular.forEach($cookies.getAll(),function(val,key){$cookies.remove(key)}),ocRolesService.Remove(),$state.go(anonymous?"home":"login",{},{reload:!0})}function _rememberMe(){var availableRefreshToken=OrderCloud.Refresh.ReadToken()||null;availableRefreshToken?OrderCloud.Refresh.GetToken(availableRefreshToken).then(function(data){OrderCloud.BuyerID.Set(buyerid),OrderCloud.Auth.SetToken(data.access_token),$state.go("home")})["catch"](function(){toastr.error("Your token has expired, please log in again."),_logout()}):_logout()}return{SendVerificationCode:_sendVerificationCode,ResetPassword:_resetPassword,RememberMe:_rememberMe,AuthAnonymous:_authAnonymous,Logout:_logout}}function LoginController($state,$stateParams,$exceptionHandler,OrderCloud,LoginService,buyerid){var vm=this;vm.credentials={Username:null,Password:null},vm.token=$stateParams.token,vm.form=vm.token?"reset":"login",vm.setForm=function(form){vm.form=form},vm.rememberStatus=!1,vm.submit=function(){vm.loading=OrderCloud.Auth.GetToken(vm.credentials).then(function(data){vm.rememberStatus?OrderCloud.Refresh.SetToken(data.refresh_token):angular.noop(),OrderCloud.BuyerID.Set(buyerid),OrderCloud.Auth.SetToken(data.access_token),$state.go("home")})["catch"](function(ex){$exceptionHandler(ex)})},vm.forgotPassword=function(){vm.loading=LoginService.SendVerificationCode(vm.credentials.Email).then(function(){vm.setForm("verificationCodeSuccess"),vm.credentials.Email=null})["catch"](function(ex){$exceptionHandler(ex)})},vm.resetPassword=function(){vm.loading=LoginService.ResetPassword(vm.credentials,vm.token).then(function(){vm.setForm("resetSuccess"),vm.token=null,vm.credentials.ResetUsername=null,vm.credentials.NewPassword=null,vm.credentials.ConfirmPassword=null})["catch"](function(ex){$exceptionHandler(ex),vm.credentials.ResetUsername=null,vm.credentials.NewPassword=null,vm.credentials.ConfirmPassword=null})}}LoginConfig.$inject=["$stateProvider"],LoginService.$inject=["$q","$window","$state","$cookies","toastr","OrderCloud","ocRolesService","clientid","buyerid","anonymous"],LoginController.$inject=["$state","$stateParams","$exceptionHandler","OrderCloud","LoginService","buyerid"],angular.module("orderCloud").config(LoginConfig).factory("LoginService",LoginService).controller("LoginCtrl",LoginController)}(),function(){"use strict";function HomeConfig($stateProvider){$stateProvider.state("home",{parent:"base",url:"/home",templateUrl:"home/templates/home.tpl.html",controller:"HomeCtrl",controllerAs:"home",data:{pageTitle:"Home"}})}function HomeController(){}HomeConfig.$inject=["$stateProvider"],angular.module("orderCloud").config(HomeConfig).controller("HomeCtrl",HomeController)}(),function(){"use strict";function FavoriteProductsConfig($stateProvider){$stateProvider.state("favoriteProducts",{parent:"account",templateUrl:"favoriteProducts/templates/favoriteProducts.tpl.html",url:"/favorite-products?search?page?pageSize?searchOn?sortBy?filters?depth",controller:"FavoriteProductsCtrl",controllerAs:"favoriteProducts",data:{pageTitle:"Favorite Products"},resolve:{Parameters:["$stateParams","ocParameters",function($stateParams,ocParameters){return ocParameters.Get($stateParams)}],FavoriteProducts:["OrderCloud","Parameters","CurrentUser",function(OrderCloud,Parameters,CurrentUser){return CurrentUser.xp&&CurrentUser.xp.FavoriteProducts.length?OrderCloud.Me.ListProducts(Parameters.search,Parameters.page,Parameters.pageSize||6,Parameters.searchOn,Parameters.sortBy,{ID:CurrentUser.xp.FavoriteProducts.join("|")}):null}]}})}function FavoriteProductsController(ocParameters,OrderCloud,$state,$ocMedia,Parameters,CurrentUser,FavoriteProducts){var vm=this;vm.currentUser=CurrentUser,vm.list=FavoriteProducts,vm.parameters=Parameters,vm.sortSelection=Parameters.sortBy?0==Parameters.sortBy.indexOf("!")?Parameters.sortBy.split("!")[1]:Parameters.sortBy:null,vm.filtersApplied=vm.parameters.filters||$ocMedia("max-width: 767px")&&vm.sortSelection,vm.showFilters=vm.filtersApplied,vm.filter=function(resetPage){$state.go(".",ocParameters.Create(vm.parameters,resetPage))},vm.clearFilters=function(){vm.parameters.filters=null,$ocMedia("max-width: 767px")?vm.parameters.sortBy=null:angular.noop(),vm.filter(!0)},vm.updateSort=function(value){switch(value?angular.noop():value=vm.sortSelection,vm.parameters.sortBy){case value:vm.parameters.sortBy="!"+value;break;case"!"+value:vm.parameters.sortBy=null;break;default:vm.parameters.sortBy=value}vm.filter(!1)},vm.reverseSort=function(){0==Parameters.sortBy.indexOf("!")?vm.parameters.sortBy=Parameters.sortBy.split("!")[1]:vm.parameters.sortBy="!"+Parameters.sortBy,vm.filter(!1)},vm.pageChanged=function(){$state.go(".",{page:vm.list.Meta.Page})},vm.loadMore=function(){return OrderCloud.Me.ListProducts(Parameters.search,vm.list.Meta.Page+1,Parameters.pageSize||vm.list.Meta.PageSize,Parameters.searchOn,Parameters.sortBy,Parameters.filters).then(function(data){vm.list.Items=vm.list.Items.concat(data.Items),vm.list.Meta=data.Meta})}}function FavoriteProductDirective(){return{scope:{currentUser:"=",product:"="},restrict:"E",templateUrl:"favoriteProducts/templates/ordercloud-favorite-product.tpl.html",controller:"FavoriteProductCtrl",controllerAs:"favoriteProduct"}}function FavoriteProductController($scope,OrderCloud,toastr){var vm=this;vm.hasFavorites=$scope.currentUser&&$scope.currentUser.xp&&$scope.currentUser.xp.FavoriteProducts,vm.isFavorited=vm.hasFavorites&&$scope.currentUser.xp.FavoriteProducts.indexOf($scope.product.ID)>-1,vm.toggleFavoriteProduct=function(){function addProduct(existingList){existingList.push($scope.product.ID),OrderCloud.Me.Patch({xp:{FavoriteProducts:existingList}}).then(function(){vm.isFavorited=!0,toastr.success($scope.product.Name+" was added to your favorites")})}function removeProduct(){var updatedList=_.without($scope.currentUser.xp.FavoriteProducts,$scope.product.ID);OrderCloud.Me.Patch({xp:{FavoriteProducts:updatedList}}).then(function(){vm.isFavorited=!1,$scope.currentUser.xp.FavoriteProducts=updatedList,toastr.success($scope.product.Name+" was removed from your favorites")})}vm.hasFavorites?vm.isFavorited?removeProduct():addProduct($scope.currentUser.xp.FavoriteProducts):addProduct([])}}FavoriteProductsConfig.$inject=["$stateProvider"],FavoriteProductsController.$inject=["ocParameters","OrderCloud","$state","$ocMedia","Parameters","CurrentUser","FavoriteProducts"],FavoriteProductController.$inject=["$scope","OrderCloud","toastr"],angular.module("orderCloud").config(FavoriteProductsConfig).directive("ordercloudFavoriteProduct",FavoriteProductDirective).controller("FavoriteProductsCtrl",FavoriteProductsController).controller("FavoriteProductCtrl",FavoriteProductController)}(),function(){"use strict";function FavoriteOrderCtrl(OrderCloud,toastr){function addOrder(existingList){existingList.push(vm.order.ID),OrderCloud.Me.Patch({xp:{FavoriteOrders:existingList}}).then(function(){vm.isFavorited=!0,toastr.success("Order added to your favorites","Success")})}function removeOrder(){var updatedList=_.without(vm.currentUser.xp.FavoriteOrders,vm.order.ID);OrderCloud.Me.Patch({xp:{FavoriteOrders:updatedList}}).then(function(){vm.isFavorited=!1,vm.currentUser.xp.FavoriteOrders=updatedList,toastr.success("Order removed from your favorites","Success")})}var vm=this;vm.$onInit=function(){vm.hasFavorites=!!vm.currentUser&&!!vm.currentUser.xp&&!!vm.currentUser.xp.FavoriteOrders,vm.isFavorited=!!vm.hasFavorites&&vm.currentUser.xp.FavoriteOrders.indexOf(vm.order.ID)>-1},vm.toggleFavoriteOrder=function(){vm.hasFavorites&&vm.isFavorited?removeOrder():addOrder(vm.hasFavorites&&!vm.isFavorited?vm.currentUser.xp.FavoriteOrders:[])}}FavoriteOrderCtrl.$inject=["OrderCloud","toastr"],angular.module("orderCloud").component("ordercloudFavoriteOrder",{bindings:{currentUser:"<",order:"<"},templateUrl:"favoriteOrders/templates/favoriteOrder.component.tpl.html",controller:FavoriteOrderCtrl})}(),function(){"use strict";function checkoutConfig($urlRouterProvider,$stateProvider){$urlRouterProvider.when("/checkout","/checkout/shipping"),$stateProvider.state("checkout",{"abstract":!0,parent:"base",url:"/checkout",templateUrl:"checkout/templates/checkout.tpl.html",controller:"CheckoutCtrl",controllerAs:"checkout",resolve:{OrderShipAddress:["$q","OrderCloud","CurrentOrder",function($q,OrderCloud,CurrentOrder){var deferred=$q.defer();return CurrentOrder.ShippingAddressID?OrderCloud.Me.GetAddress(CurrentOrder.ShippingAddressID).then(function(address){deferred.resolve(address)})["catch"](function(ex){deferred.resolve(null)}):deferred.resolve(null),deferred.promise}],CurrentPromotions:["CurrentOrder","OrderCloud",function(CurrentOrder,OrderCloud){return OrderCloud.Orders.ListPromotions(CurrentOrder.ID)}],OrderBillingAddress:["$q","OrderCloud","CurrentOrder",function($q,OrderCloud,CurrentOrder){var deferred=$q.defer();return CurrentOrder.BillingAddressID?OrderCloud.Me.GetAddress(CurrentOrder.BillingAddressID).then(function(address){deferred.resolve(address)})["catch"](function(ex){deferred.resolve(null)}):deferred.resolve(null),deferred.promise}]}})}function CheckoutController($state,$rootScope,toastr,OrderCloud,OrderShipAddress,CurrentPromotions,OrderBillingAddress,CheckoutConfig){var vm=this;vm.shippingAddress=OrderShipAddress,vm.billingAddress=OrderBillingAddress,vm.promotions=CurrentPromotions.Items,vm.checkoutConfig=CheckoutConfig,vm.submitOrder=function(order){OrderCloud.Orders.Submit(order.ID).then(function(order){$state.go("confirmation",{orderid:order.ID},{reload:"base"}),toastr.success("Your order has been submitted","Success")})["catch"](function(ex){toastr.error("Your order did not submit successfully.","Error")})},$rootScope.$on("OC:OrderShipAddressUpdated",function(event,order){OrderCloud.Me.GetAddress(order.ShippingAddressID).then(function(address){vm.shippingAddress=address})}),$rootScope.$on("OC:OrderBillAddressUpdated",function(event,order){OrderCloud.Me.GetAddress(order.BillingAddressID).then(function(address){vm.billingAddress=address})}),vm.removePromotion=function(order,promotion){OrderCloud.Orders.RemovePromotion(order.ID,promotion.Code).then(function(){$rootScope.$broadcast("OC:UpdatePromotions",order.ID)})},$rootScope.$on("OC:UpdatePromotions",function(event,orderid){OrderCloud.Orders.ListPromotions(orderid).then(function(data){data.Meta?vm.promotions=data.Items:vm.promotions=data,$rootScope.$broadcast("OC:UpdateOrder",orderid)})})}function AddressSelectModalService($uibModal){function _open(type){return $uibModal.open({templateUrl:"checkout/templates/addressSelect.modal.tpl.html",controller:"AddressSelectCtrl",controllerAs:"addressSelect",backdrop:"static",size:"md",resolve:{Addresses:["OrderCloud",function(OrderCloud){return"shipping"==type?OrderCloud.Me.ListAddresses(null,1,100,null,null,{Shipping:!0}):"billing"==type?OrderCloud.Me.ListAddresses(null,1,100,null,null,{Billing:!0}):OrderCloud.Me.ListAddresses(null,1,100)}]}}).result}var service={Open:_open};return service}function AddressSelectController($uibModalInstance,Addresses){var vm=this;vm.addresses=Addresses,vm.select=function(address){$uibModalInstance.close(address)},vm.createAddress=function(){$uibModalInstance.close("create")},vm.cancel=function(){$uibModalInstance.dismiss()}}checkoutConfig.$inject=["$urlRouterProvider","$stateProvider"],CheckoutController.$inject=["$state","$rootScope","toastr","OrderCloud","OrderShipAddress","CurrentPromotions","OrderBillingAddress","CheckoutConfig"],AddressSelectModalService.$inject=["$uibModal"],AddressSelectController.$inject=["$uibModalInstance","Addresses"],angular.module("orderCloud").config(checkoutConfig).controller("CheckoutCtrl",CheckoutController).factory("AddressSelectModal",AddressSelectModalService).controller("AddressSelectCtrl",AddressSelectController).constant("CheckoutConfig",{ShippingRates:!0,TaxRates:!1,AvailablePaymentMethods:["PurchaseOrder","CreditCard","SpendingAccount"]})}(),function(){"use strict";function CategoryBrowseConfig($stateProvider,catalogid){$stateProvider.state("categoryBrowse",{parent:"base",url:"/browse/categories?categoryID?productPage?categoryPage?pageSize?sortBy?filters",templateUrl:"categoryBrowse/templates/categoryBrowse.tpl.html",controller:"CategoryBrowseCtrl",controllerAs:"categoryBrowse",resolve:{Parameters:["$stateParams","ocParameters",function($stateParams,ocParameters){return ocParameters.Get($stateParams)}],CategoryList:["OrderCloud","Parameters",function(OrderCloud,Parameters){return Parameters.categoryID&&(Parameters.filters?Parameters.filters.ParentID=Parameters.categoryID:Parameters.filters={ParentID:Parameters.categoryID}),OrderCloud.Me.ListCategories(null,Parameters.categoryPage,Parameters.pageSize||12,null,Parameters.sortBy,Parameters.filters,1)}],ProductList:["OrderCloud","Parameters",function(OrderCloud,Parameters){return Parameters&&Parameters.filters&&Parameters.filters.ParentID?(delete Parameters.filters.ParentID,OrderCloud.Me.ListProducts(null,Parameters.productPage,Parameters.pageSize||12,null,Parameters.sortBy,Parameters.filters,Parameters.categoryID)):null}],SelectedCategory:["OrderCloud","Parameters",function(OrderCloud,Parameters){return Parameters.categoryID?OrderCloud.Me.ListCategories(null,1,1,null,null,{ID:Parameters.categoryID},"all").then(function(data){return data.Items[0]}):null}]}})}function CategoryBrowseController($state,ocParameters,CategoryList,ProductList,Parameters,SelectedCategory){var vm=this;vm.categoryList=CategoryList,vm.productList=ProductList,vm.parameters=Parameters,vm.selectedCategory=SelectedCategory,vm.getNumberOfResults=function(list){return vm[list].Meta.ItemRange[0]+" - "+vm[list].Meta.ItemRange[1]+" of "+vm[list].Meta.TotalCount+" results"},vm.filter=function(resetPage){$state.go(".",ocParameters.Create(vm.parameters,resetPage))},vm.updateCategoryList=function(category){vm.parameters.categoryID=category,vm.filter(!0)},vm.changeCategoryPage=function(newPage){vm.parameters.categoryPage=newPage,vm.filter(!1)},vm.changeProductPage=function(newPage){vm.parameters.productPage=newPage,vm.filter(!1)}}CategoryBrowseConfig.$inject=["$stateProvider","catalogid"],CategoryBrowseController.$inject=["$state","ocParameters","CategoryList","ProductList","Parameters","SelectedCategory"],angular.module("orderCloud").config(CategoryBrowseConfig).controller("CategoryBrowseCtrl",CategoryBrowseController)}(),function(){"use strict";function CartConfig($stateProvider){$stateProvider.state("cart",{parent:"base",url:"/cart",templateUrl:"cart/templates/cart.tpl.html",controller:"CartCtrl",controllerAs:"cart",data:{pageTitle:"Shopping Cart"},resolve:{LineItemsList:["$q","$state","toastr","OrderCloud","ocLineItems","CurrentOrder",function($q,$state,toastr,OrderCloud,ocLineItems,CurrentOrder){var dfd=$q.defer();return OrderCloud.LineItems.List(CurrentOrder.ID).then(function(data){data.Items.length?ocLineItems.GetProductInfo(data.Items).then(function(){dfd.resolve(data)}):dfd.resolve(data)})["catch"](function(){toastr.error("Your order does not contain any line items.","Error"),dfd.reject()}),dfd.promise}],CurrentPromotions:["CurrentOrder","OrderCloud",function(CurrentOrder,OrderCloud){return OrderCloud.Orders.ListPromotions(CurrentOrder.ID)}]}})}function CartController($rootScope,$state,toastr,OrderCloud,LineItemsList,CurrentPromotions,ocConfirm){var vm=this;vm.lineItems=LineItemsList,vm.promotions=CurrentPromotions.Meta?CurrentPromotions.Items:CurrentPromotions,vm.removeItem=function(order,scope){vm.lineLoading=[],vm.lineLoading[scope.$index]=OrderCloud.LineItems.Delete(order.ID,scope.lineItem.ID).then(function(){$rootScope.$broadcast("OC:UpdateOrder",order.ID),vm.lineItems.Items.splice(scope.$index,1),toastr.success("Line Item Removed")})},vm.removePromotion=function(order,scope){OrderCloud.Orders.RemovePromotion(order.ID,scope.promotion.Code).then(function(){$rootScope.$broadcast("OC:UpdateOrder",order.ID),vm.promotions.splice(scope.$index,1)})},vm.cancelOrder=function(order){ocConfirm.Confirm({message:"Are you sure you want to cancel this order?",confirmText:"Yes, cancel order",type:"delete"}).then(function(){OrderCloud.Orders.Delete(order.ID).then(function(){$state.go("home",{},{reload:"base"})})})},$rootScope.$on("OC:UpdatePromotions",function(event,orderid){OrderCloud.Orders.ListPromotions(orderid).then(function(data){data.Meta?vm.promotions=data.Items:vm.promotions=data})})}CartConfig.$inject=["$stateProvider"],CartController.$inject=["$rootScope","$state","toastr","OrderCloud","LineItemsList","CurrentPromotions","ocConfirm"],angular.module("orderCloud").config(CartConfig).controller("CartCtrl",CartController)}(),function(){"use strict";function BaseConfig($stateProvider){$stateProvider.state("base",{url:"","abstract":!0,views:{"":{templateUrl:"base/templates/base.tpl.html",controller:"BaseCtrl",controllerAs:"base"},"nav@base":{templateUrl:"base/templates/navigation.tpl.html"}},resolve:{CurrentUser:["$q","$state","OrderCloud","buyerid",function($q,$state,OrderCloud,buyerid){return OrderCloud.Me.Get().then(function(data){return OrderCloud.BuyerID.Set(buyerid),data})}],ExistingOrder:["$q","OrderCloud","CurrentUser",function($q,OrderCloud,CurrentUser){return OrderCloud.Me.ListOutgoingOrders(null,1,1,null,"!DateCreated",{Status:"Unsubmitted"}).then(function(data){return data.Items[0]})}],CurrentOrder:["ExistingOrder","NewOrder","CurrentUser",function(ExistingOrder,NewOrder,CurrentUser){return ExistingOrder?ExistingOrder:NewOrder.Create({})}],AnonymousUser:["$q","OrderCloud","CurrentUser",function($q,OrderCloud,CurrentUser){CurrentUser.Anonymous=angular.isDefined(JSON.parse(atob(OrderCloud.Auth.ReadToken().split(".")[1])).orderid)}]}})}function BaseController($rootScope,$state,ProductSearch,CurrentUser,CurrentOrder,OrderCloud){var vm=this;vm.currentUser=CurrentUser,vm.currentOrder=CurrentOrder,vm.mobileSearch=function(){ProductSearch.Open().then(function(data){data.productID?$state.go("productDetail",{productid:data.productID}):$state.go("productSearchResults",{searchTerm:data.searchTerm})})},$rootScope.$on("OC:UpdateOrder",function(event,OrderID,message){vm.orderLoading={message:message},vm.orderLoading.promise=OrderCloud.Orders.Get(OrderID).then(function(data){vm.currentOrder=data})})}function NewOrderService($q,OrderCloud){function _create(){function setBillingAddress(){OrderCloud.Me.ListAddresses(null,1,100,null,null,{Billing:!0}).then(function(billingAddresses){billingAddresses.Items.length&&(order.BillingAddressID=billingAddresses.Items[0].ID),createOrder()})}function createOrder(){OrderCloud.Orders.Create(order).then(function(order){deferred.resolve(order)})}var deferred=$q.defer(),order={};return OrderCloud.Me.ListAddresses(null,1,100,null,null,{Shipping:!0}).then(function(shippingAddresses){shippingAddresses.Items.length&&(order.ShippingAddressID=shippingAddresses.Items[0].ID),setBillingAddress()}),deferred.promise}var service={Create:_create};return service}BaseConfig.$inject=["$stateProvider"],BaseController.$inject=["$rootScope","$state","ProductSearch","CurrentUser","CurrentOrder","OrderCloud"],NewOrderService.$inject=["$q","OrderCloud"],angular.module("orderCloud").config(BaseConfig).controller("BaseCtrl",BaseController).factory("NewOrder",NewOrderService)}(),function(){"use strict";function AddPromotionComponentCtrl($exceptionHandler,$rootScope,OrderCloud,toastr){this.submit=function(orderID,promoCode){OrderCloud.Orders.AddPromotion(orderID,promoCode).then(function(promo){$rootScope.$broadcast("OC:UpdatePromotions",orderID),$rootScope.$broadcast("OC:UpdateOrder",orderID),toastr.success("Promo code "+promo.Code+" added!","Success")})["catch"](function(err){$exceptionHandler(err)})}}AddPromotionComponentCtrl.$inject=["$exceptionHandler","$rootScope","OrderCloud","toastr"],angular.module("orderCloud").component("ocAddPromotion",{templateUrl:"addPromotion/templates/addPromotion.tpl.html",bindings:{order:"<"},controller:AddPromotionComponentCtrl})}(),function(){"use strict";function AccountConfig($stateProvider){$stateProvider.state("account",{parent:"base",url:"/account",templateUrl:"account/templates/account.tpl.html",controller:"AccountInfoCtrl",controllerAs:"accountInfo",data:{pageTitle:"Account"}})}function AccountService($q,$uibModal,OrderCloud,toastr){function _update(currentProfile,newProfile){function updateUser(){OrderCloud.Me.Update(newProfile).then(function(data){deferred.resolve(data)})["catch"](function(ex){deferred.reject(ex)})}var deferred=$q.defer();return $uibModal.open({animation:!0,templateUrl:"account/templates/confirmPassword.modal.tpl.html",controller:"ConfirmPasswordCtrl",controllerAs:"confirmPassword",size:"md"}).result.then(function(password){var checkPasswordCredentials={Username:currentProfile.Username,Password:password};OrderCloud.Auth.GetToken(checkPasswordCredentials).then(function(){updateUser(),toastr.success("Account changes were saved.","Success!")})["catch"](function(ex){deferred.reject(ex)})},function(){angular.noop()}),deferred.promise}function _changePassword(currentUser){function changePassword(){currentUser.Password=currentUser.NewPassword,OrderCloud.Me.Update(currentUser).then(function(){deferred.resolve()})}var deferred=$q.defer(),checkPasswordCredentials={Username:currentUser.Username,Password:currentUser.CurrentPassword};return OrderCloud.Auth.GetToken(checkPasswordCredentials).then(function(){changePassword()})["catch"](function(ex){deferred.reject(ex)}),deferred.promise}var service={Update:_update,ChangePassword:_changePassword};return service}function AccountInfoController($uibModal,CurrentUser){var vm=this;vm.profile=angular.copy(CurrentUser),vm.currentUser=CurrentUser,vm.editInfo=function(){$uibModal.open({animation:!0,templateUrl:"account/templates/accountSettings.modal.tpl.html",controller:"AccountEditModalCtrl",controllerAs:"accountEditModal",backdrop:"static",size:"md",resolve:{Profile:function(){return vm.profile},CurrentUser:function(){return vm.currentUser}}})},vm.changePassword=function(user){$uibModal.open({animation:!0,templateUrl:"account/templates/changePassword.modal.tpl.html",controller:"ChangePasswordModalCtrl",controllerAs:"changePasswordModal",backdrop:"static",size:"md",resolve:{CurrentUser:function(){return user}}})}}function AccountEditModalController($uibModalInstance,$exceptionHandler,AccountService,CurrentUser,Profile){var vm=this;vm.profile=Profile;var currentProfile=CurrentUser;vm.update=function(){AccountService.Update(currentProfile,vm.profile).then(function(data){vm.profile=angular.copy(data),currentProfile=data,vm.submit()})["catch"](function(ex){vm.profile=currentProfile,$exceptionHandler(ex)})},vm.resetForm=function(form){vm.profile=currentProfile,form.$setPristine(!0)},vm.submit=function(){$uibModalInstance.close()},vm.cancel=function(){$uibModalInstance.dismiss("cancel")}}function ChangePasswordModalController(toastr,$state,$exceptionHandler,AccountService,$uibModalInstance,CurrentUser){var vm=this;vm.currentUser=CurrentUser,vm.changePassword=function(){AccountService.ChangePassword(vm.currentUser).then(function(){toastr.success("Password successfully changed","Success!"),vm.currentUser.CurrentPassword=null,vm.currentUser.NewPassword=null,
vm.currentUser.ConfirmPassword=null,vm.submit(),$state.go("account.information")})["catch"](function(ex){$exceptionHandler(ex)})},vm.submit=function(){$uibModalInstance.close()},vm.cancel=function(){$uibModalInstance.dismiss("cancel")}}function ConfirmPasswordController($uibModalInstance){var vm=this;vm.submit=function(){$uibModalInstance.close(vm.password)},vm.cancel=function(){$uibModalInstance.dismiss("cancel")}}AccountConfig.$inject=["$stateProvider"],AccountInfoController.$inject=["$uibModal","CurrentUser"],AccountEditModalController.$inject=["$uibModalInstance","$exceptionHandler","AccountService","CurrentUser","Profile"],AccountService.$inject=["$q","$uibModal","OrderCloud","toastr"],ChangePasswordModalController.$inject=["toastr","$state","$exceptionHandler","AccountService","$uibModalInstance","CurrentUser"],ConfirmPasswordController.$inject=["$uibModalInstance"],angular.module("orderCloud").config(AccountConfig).controller("AccountInfoCtrl",AccountInfoController).controller("AccountEditModalCtrl",AccountEditModalController).factory("AccountService",AccountService).controller("ChangePasswordModalCtrl",ChangePasswordModalController).controller("ConfirmPasswordCtrl",ConfirmPasswordController)}(),function(){"use strict";function AppRun(ocStateLoading,defaultErrorMessageResolver,ocErrorMessages,validator){ocStateLoading.Init(),defaultErrorMessageResolver.getErrorMessages().then(function(errorMessages){angular.extend(errorMessages,ocErrorMessages)}),validator.setValidElementStyling(!1)}AppRun.$inject=["ocStateLoading","defaultErrorMessageResolver","ocErrorMessages","validator"],angular.module("orderCloud").run(AppRun)}(),function(){"use strict";function AppController($state,$ocMedia,LoginService,appname,ocStateLoading,ocIsTouchDevice,ocRolesService){var vm=this;vm.name=appname,vm.$state=$state,vm.$ocMedia=$ocMedia,vm.isTouchDevice=ocIsTouchDevice,vm.stateLoading=ocStateLoading.Watch,vm.logout=LoginService.Logout,vm.userIsAuthorized=ocRolesService.UserIsAuthorized}AppController.$inject=["$state","$ocMedia","LoginService","appname","ocStateLoading","ocIsTouchDevice","ocRolesService"],angular.module("orderCloud").controller("AppCtrl",AppController)}();